(()=>{var nr=!0;var ni=globalThis.process?.env?.NODE_ENV,_=ni&&!ni.toLowerCase().startsWith("prod");var Re=Array.isArray,ii=Array.prototype.indexOf,tn=Array.from,rn=Object.keys,z=Object.defineProperty,Te=Object.getOwnPropertyDescriptor;var nn=Object.prototype,oi=Array.prototype,dt=Object.getPrototypeOf;function on(e){return typeof e=="function"}var oe=()=>{};function Ot(e){for(var t=0;t<e.length;t++)e[t]()}var he=Symbol("$state"),nt=Symbol("$state metadata"),ir=Symbol("legacy props"),is=Symbol("");function or(e){return e===this.v}function Pt(e,t){return e!=e?t==t:e!==t||e!==null&&typeof e=="object"||typeof e=="function"}function si(e,t){return e!==t}function pt(e){return!Pt(e,this.v)}function ai(){if(_){let e=new Error(`derived_references_self
A derived value cannot reference itself recursively
https://svelte.dev/e/derived_references_self`);throw e.name="Svelte error",e}else throw new Error("https://svelte.dev/e/derived_references_self")}function ui(e){if(_){let t=new Error(`effect_in_teardown
\`${e}\` cannot be used inside an effect cleanup function
https://svelte.dev/e/effect_in_teardown`);throw t.name="Svelte error",t}else throw new Error("https://svelte.dev/e/effect_in_teardown")}function li(){if(_){let e=new Error("effect_in_unowned_derived\nEffect cannot be created inside a `$derived` value that was not itself created inside an effect\nhttps://svelte.dev/e/effect_in_unowned_derived");throw e.name="Svelte error",e}else throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function ci(e){if(_){let t=new Error(`effect_orphan
\`${e}\` can only be used inside an effect (e.g. during component initialisation)
https://svelte.dev/e/effect_orphan`);throw t.name="Svelte error",t}else throw new Error("https://svelte.dev/e/effect_orphan")}function fi(){if(_){let e=new Error(`effect_update_depth_exceeded
Maximum update depth exceeded. This can happen when a reactive block or effect repeatedly sets a new value. Svelte limits the number of nested updates to prevent infinite loops
https://svelte.dev/e/effect_update_depth_exceeded`);throw e.name="Svelte error",e}else throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function di(){if(_){let e=new Error(`hydration_failed
Failed to hydrate the application
https://svelte.dev/e/hydration_failed`);throw e.name="Svelte error",e}else throw new Error("https://svelte.dev/e/hydration_failed")}function pi(e){if(_){let t=new Error(`props_invalid_value
Cannot do \`bind:${e}={undefined}\` when \`${e}\` has a fallback value
https://svelte.dev/e/props_invalid_value`);throw t.name="Svelte error",t}else throw new Error("https://svelte.dev/e/props_invalid_value")}function vi(e){if(_){let t=new Error(`rune_outside_svelte
The \`${e}\` rune is only available inside \`.svelte\` and \`.svelte.js/ts\` files
https://svelte.dev/e/rune_outside_svelte`);throw t.name="Svelte error",t}else throw new Error("https://svelte.dev/e/rune_outside_svelte")}function _i(){if(_){let e=new Error("state_descriptors_fixed\nProperty descriptors defined on `$state` objects must contain `value` and always be `enumerable`, `configurable` and `writable`.\nhttps://svelte.dev/e/state_descriptors_fixed");throw e.name="Svelte error",e}else throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function hi(){if(_){let e=new Error("state_prototype_fixed\nCannot set prototype of `$state` object\nhttps://svelte.dev/e/state_prototype_fixed");throw e.name="Svelte error",e}else throw new Error("https://svelte.dev/e/state_prototype_fixed")}function mi(){if(_){let e=new Error("state_unsafe_local_read\nReading state that was created inside the same derived is forbidden. Consider using `untrack` to read locally created state\nhttps://svelte.dev/e/state_unsafe_local_read");throw e.name="Svelte error",e}else throw new Error("https://svelte.dev/e/state_unsafe_local_read")}function gi(){if(_){let e=new Error("state_unsafe_mutation\nUpdating state inside a derived or a template expression is forbidden. If the value should not be reactive, declare it without `$state`\nhttps://svelte.dev/e/state_unsafe_mutation");throw e.name="Svelte error",e}else throw new Error("https://svelte.dev/e/state_unsafe_mutation")}var Be=!1,$e=!1;function yi(){Be=!0}var Ft="[";var Ut="]",He={};var F=Symbol(),H=Symbol("filename"),bi=Symbol("hmr");var Mt=null;function Ge(e){let t=Error(),r=t.stack;if(r){let n=r.split(`
`),i=[`
`];for(let o=0;o<n.length;o++){let s=n[o];if(s!=="Error"){if(s.includes("validate_each_keys"))return null;s.includes("svelte/src/internal")||i.push(s)}}if(i.length===1)return null;z(t,"stack",{value:i.join(`
`)}),z(t,"name",{value:`${e}Error`})}return t}var sr="font-weight: bold",ar="font-weight: normal";function vt(e){_?console.warn(`%c[svelte] hydration_mismatch
%c${e?`Hydration failed because the initial UI does not match what was rendered on the server. The error occurred near ${e}`:"Hydration failed because the initial UI does not match what was rendered on the server"}
https://svelte.dev/e/hydration_mismatch`,sr,ar):console.warn("https://svelte.dev/e/hydration_mismatch")}function wi(){_?console.warn(`%c[svelte] lifecycle_double_unmount
%cTried to unmount a component that was not mounted
https://svelte.dev/e/lifecycle_double_unmount`,sr,ar):console.warn("https://svelte.dev/e/lifecycle_double_unmount")}function an(e,t){_?console.warn(`%c[svelte] ownership_invalid_mutation
%c${e?`${e} mutated a value owned by ${t}. This is strongly discouraged. Consider passing values to child components with \`bind:\`, or use a callback instead`:"Mutating a value outside the component that created it is strongly discouraged. Consider passing values to child components with `bind:`, or use a callback instead"}
https://svelte.dev/e/ownership_invalid_mutation`,sr,ar):console.warn("https://svelte.dev/e/ownership_invalid_mutation")}function ur(e){_?console.warn(`%c[svelte] state_proxy_equality_mismatch
%cReactive \`$state(...)\` proxies and the values they proxy have different identities. Because of this, comparisons with \`${e}\` will produce unexpected results
https://svelte.dev/e/state_proxy_equality_mismatch`,sr,ar):console.warn("https://svelte.dev/e/state_proxy_equality_mismatch")}var ss={},as=/at (?:.+ \()?(.+):(\d+):(\d+)\)?$/,us=/@(.+):(\d+):(\d+)$/;function ls(){let e=new Error().stack;if(!e)return null;let t=[];for(let r of e.split(`
`)){let n=as.exec(r)??us.exec(r);n&&t.push({file:n[1],line:+n[2],column:+n[3]})}return t}function Ei(){let e=ls()?.slice(4);if(!e)return null;for(let t=0;t<e.length;t++){let r=e[t],n=ss[r.file];if(!n){if(t===0)return null;continue}for(let i of n){if(i.end==null)return null;if(i.start.line<r.line&&i.end.line>r.line)return i.component}}return null}var cs=Symbol("ADD_OWNER");function un(e,t){if(t.owners!==null)for(;e;){if(e.owners===null){t.owners=null;break}for(let r of e.owners)t.owners.add(r);e=e.parent}}function Ii(e,t){return e.owners===null?!0:e.owners.has(t)||H in t&&[...e.owners].some(r=>r[H]===t[H])||e.parent!==null&&Ii(e.parent,t)}function Ti(e){return e?.owners?.values().next().value??Ti(e.parent)}var fs=!1;function Ai(e){if(fs)return;let t=Ei();if(t&&!Ii(e,t)){let r=Ti(e);r[H]!==t[H]?an(t[H],r[H]):an()}}var N=null;function Gt(e){N=e}var ge=null;function Vt(e){ge=e}function qt(e,t=!1,r){N={p:N,c:null,e:null,m:!1,s:e,x:null,l:null},Be&&!t&&(N.l={s:null,u:null,r1:[],r2:Z(!1)}),_&&(N.function=r,ge=r)}function Wt(e){let t=N;if(t!==null){e!==void 0&&(t.x=e);let s=t.e;if(s!==null){var r=S,n=k;t.e=null;try{for(var i=0;i<s.length;i++){var o=s[i];W(o.effect),Q(o.reaction),be(o.fn)}}finally{W(r),Q(n)}}N=t.p,_&&(ge=t.p?.function??null),t.m=!0}return e||{}}function Ne(){return!Be||N!==null&&N.l===null}var it=new Set;function cn(e){it=e}function Z(e,t){var r={f:0,v:e,reactions:null,equals:or,rv:0,wv:0};return _&&$e&&(r.created=t??Ge("CreatedAt"),r.debug=null),r}function fn(e){return vs(Z(e))}function st(e,t=!1){let r=Z(e);return t||(r.equals=pt),Be&&N!==null&&N.l!==null&&(N.l.s??=[]).push(r),r}function vs(e){return k!==null&&!we&&(k.f&2)!==0&&(Ae===null?ki([e]):Ae.push(e)),e}function Y(e,t){return k!==null&&!we&&Ne()&&(k.f&18)!==0&&(Ae===null||!Ae.includes(e))&&gi(),cr(e,t)}function cr(e,t){if(!e.equals(t)){var r=e.v;if(e.v=t,e.wv=Yt(),_&&$e&&(e.updated=Ge("UpdatedAt"),S!=null&&(e.trace_need_increase=!0,e.trace_v??=r)),Ci(e,2048),Ne()&&S!==null&&(S.f&1024)!==0&&(S.f&96)===0&&(De===null?Ri([e]):De.push(e)),_&&it.size>0){let i=Array.from(it);var n=Ve;_t(!0);try{for(let o of i)(o.f&1024)!==0&&fe(o,4096),at(o)&&ht(o)}finally{_t(n)}it.clear()}}return t}function Ci(e,t){var r=e.reactions;if(r!==null)for(var n=Ne(),i=r.length,o=0;o<i;o++){var s=r[o],c=s.f;if((c&2048)===0&&!(!n&&s===S)){if(_&&(c&262144)!==0){it.add(s);continue}fe(s,t),(c&1280)!==0&&((c&2)!==0?Ci(s,4096):Xt(s))}}}var $=!1;function Oe(e){$=e}var D;function j(e){if(e===null)throw vt(),He;return D=e}function te(){return j(se(D))}function fr(e){if($){if(se(D)!==null)throw vt(),He;D=e}}function dr(e=1){if($){for(var t=e,r=D;t--;)r=se(r);D=r}}function Ze(e,t=null,r){var n=null;if(_&&$e&&(n=Ge("CreatedAt")),typeof e!="object"||e===null||he in e)return e;let i=dt(e);if(i!==nn&&i!==oi)return e;var o=new Map,s=Re(e),c=Z(0);s&&o.set("length",Z(e.length,n));var u;if(_)if(u={parent:t,owners:null},r){let a=r.v?.[nt]?.owners;u.owners=a?new Set(a):null}else u.owners=t===null?N!==null?new Set([N.function]):null:new Set;return new Proxy(e,{defineProperty(a,l,d){(!("value"in d)||d.configurable===!1||d.enumerable===!1||d.writable===!1)&&_i();var f=o.get(l);return f===void 0?(f=Z(d.value,n),o.set(l,f)):Y(f,Ze(d.value,u)),!0},deleteProperty(a,l){var d=o.get(l);if(d===void 0)l in a&&o.set(l,Z(F,n));else{if(s&&typeof l=="string"){var f=o.get("length"),p=Number(l);Number.isInteger(p)&&p<f.v&&Y(f,p)}Y(d,F),$i(c)}return!0},get(a,l,d){if(_&&l===nt)return u;if(l===he)return e;var f=o.get(l),p=l in a;if(f===void 0&&(!p||Te(a,l)?.writable)&&(f=Z(Ze(p?a[l]:F,u),n),o.set(l,f)),f!==void 0){var g=P(f);if(_){var h=g?.[nt];h&&h?.parent!==u&&un(u,h)}return g===F?void 0:g}return Reflect.get(a,l,d)},getOwnPropertyDescriptor(a,l){var d=Reflect.getOwnPropertyDescriptor(a,l);if(d&&"value"in d){var f=o.get(l);f&&(d.value=P(f))}else if(d===void 0){var p=o.get(l),g=p?.v;if(p!==void 0&&g!==F)return{enumerable:!0,configurable:!0,value:g,writable:!0}}return d},has(a,l){if(_&&l===nt||l===he)return!0;var d=o.get(l),f=d!==void 0&&d.v!==F||Reflect.has(a,l);if(d!==void 0||S!==null&&(!f||Te(a,l)?.writable)){d===void 0&&(d=Z(f?Ze(a[l],u):F,n),o.set(l,d));var p=P(d);if(p===F)return!1}return f},set(a,l,d,f){var p=o.get(l),g=l in a;if(s&&l==="length")for(var h=d;h<p.v;h+=1){var y=o.get(h+"");y!==void 0?Y(y,F):h in a&&(y=Z(F,n),o.set(h+"",y))}if(p===void 0?(!g||Te(a,l)?.writable)&&(p=Z(void 0,n),Y(p,Ze(d,u)),o.set(l,p)):(g=p.v!==F,Y(p,Ze(d,u))),_){var v=d?.[nt];v&&v?.parent!==u&&un(u,v),Ai(u)}var m=Reflect.getOwnPropertyDescriptor(a,l);if(m?.set&&m.set.call(f,d),!g){if(s&&typeof l=="string"){var w=o.get("length"),E=Number(l);Number.isInteger(E)&&E>=w.v&&Y(w,E+1)}$i(c)}return!0},ownKeys(a){P(c);var l=Reflect.ownKeys(a).filter(p=>{var g=o.get(p);return g===void 0||g.v!==F});for(var[d,f]of o)f.v!==F&&!(d in a)&&l.push(d);return l},setPrototypeOf(){hi()}})}function $i(e,t=1){Y(e,e.v+t)}function pr(e){return e!==null&&typeof e=="object"&&he in e?e[he]:e}function Ni(){let e=Array.prototype,t=Array.__svelte_cleanup;t&&t();let{indexOf:r,lastIndexOf:n,includes:i}=e;e.indexOf=function(o,s){let c=r.call(this,o,s);if(c===-1){for(let u=s??0;u<this.length;u+=1)if(pr(this[u])===o){ur("array.indexOf(...)");break}}return c},e.lastIndexOf=function(o,s){let c=n.call(this,o,s??this.length-1);if(c===-1){for(let u=0;u<=(s??this.length-1);u+=1)if(pr(this[u])===o){ur("array.lastIndexOf(...)");break}}return c},e.includes=function(o,s){let c=i.call(this,o,s);if(!c){for(let u=0;u<this.length;u+=1)if(pr(this[u])===o){ur("array.includes(...)");break}}return c},Array.__svelte_cleanup=()=>{e.indexOf=r,e.lastIndexOf=n,e.includes=i}}var pn,Di,Ht,Li,Oi;function vr(){if(pn===void 0){pn=window,Di=document,Ht=/Firefox/.test(navigator.userAgent);var e=Element.prototype,t=Node.prototype;Li=Te(t,"firstChild").get,Oi=Te(t,"nextSibling").get,e.__click=void 0,e.__className="",e.__attributes=null,e.__styles=null,e.__e=void 0,Text.prototype.__t=void 0,_&&(e.__svelte_meta=null,Ni())}}function Pe(e=""){return document.createTextNode(e)}function re(e){return Li.call(e)}function se(e){return Oi.call(e)}function _r(e,t){if(!$)return re(e);var r=re(D);if(r===null)r=D.appendChild(Pe());else if(t&&r.nodeType!==3){var n=Pe();return r?.before(n),j(n),n}return j(r),r}function vn(e,t){if(!$){var r=re(e);return r instanceof Comment&&r.data===""?se(r):r}if(t&&D?.nodeType!==3){var n=Pe();return D?.before(n),j(n),n}return D}function _n(e,t=1,r=!1){let n=$?D:e;for(var i;t--;)i=n,n=se(n);if(!$)return n;var o=n?.nodeType;if(r&&o!==3){var s=Pe();return n===null?i?.after(s):n.before(s),j(s),s}return j(n),n}function hr(e){e.textContent=""}function je(e){var t=2050,r=k!==null&&(k.f&2)!==0?k:null;S===null||r!==null&&(r.f&256)!==0?t|=256:S.f|=1048576;let n={ctx:N,deps:null,effects:null,equals:or,f:t,fn:e,reactions:null,rv:0,v:null,wv:0,parent:r??S};return _&&$e&&(n.created=Ge("CreatedAt")),n}function yr(e){let t=je(e);return t.equals=pt,t}function mr(e){var t=e.effects;if(t!==null){e.effects=null;for(var r=0;r<t.length;r+=1)ne(t[r])}}var hn=[];function _s(e){for(var t=e.parent;t!==null;){if((t.f&2)===0)return t;t=t.parent}return null}function hs(e){var t,r=S;if(W(_s(e)),_){let n=it;cn(new Set);try{hn.includes(e)&&ai(),hn.push(e),mr(e),t=gr(e)}finally{W(r),cn(n),hn.pop()}}else try{mr(e),t=gr(e)}finally{W(r)}return t}function gn(e){var t=hs(e),r=(qe||(e.f&256)!==0)&&e.deps!==null?4096:1024;fe(e,r),e.equals(t)||(e.v=t,e.wv=Yt())}function Fi(e){S===null&&k===null&&ci(e),k!==null&&(k.f&256)!==0&&S===null&&li(),br&&ui(e)}function ms(e,t){var r=t.last;r===null?t.last=t.first=e:(r.next=e,e.prev=r,t.last=e)}function yt(e,t,r,n=!0){var i=(e&64)!==0,o=S;if(_)for(;o!==null&&(o.f&262144)!==0;)o=o.parent;var s={ctx:N,deps:null,nodes_start:null,nodes_end:null,f:e|2048,first:null,fn:t,last:null,next:null,parent:i?null:o,prev:null,teardown:null,transitions:null,wv:0};if(_&&(s.component_function=ge),r){var c=Ve;try{_t(!0),ht(s),s.f|=32768}catch(l){throw ne(s),l}finally{_t(c)}}else t!==null&&Xt(s);var u=r&&s.deps===null&&s.first===null&&s.nodes_start===null&&s.teardown===null&&(s.f&1048704)===0;if(!u&&!i&&n&&(o!==null&&ms(s,o),k!==null&&(k.f&2)!==0)){var a=k;(a.effects??=[]).push(s)}return s}function Zt(e){Fi("$effect");var t=S!==null&&(S.f&32)!==0&&N!==null&&!N.m;if(_&&z(e,"name",{value:"$effect"}),t){var r=N;(r.e??=[]).push({fn:e,effect:S,reaction:k})}else{var n=be(e);return n}}function En(e){let t=yt(64,e,!0);return()=>{ne(t)}}function Ui(e){let t=yt(64,e,!0);return(r={})=>new Promise(n=>{r.outro?Ye(t,()=>{ne(t),n(void 0)}):(ne(t),n(void 0))})}function be(e){return yt(4,e,!1)}function ye(e){return yt(8,e,!0)}function In(e,t=[],r=je){let n=t.map(r),i=()=>e(...n.map(P));return _&&z(i,"name",{value:"{expression}"}),de(i)}function de(e,t=0){return yt(24|t,e,!0)}function pe(e,t=!0){return yt(40,e,!0,t)}function Tn(e){var t=e.teardown;if(t!==null){let r=br,n=k;yn(!0),Q(null);try{t.call(null)}finally{yn(r),Q(n)}}}function An(e,t=!1){var r=e.first;for(e.first=e.last=null;r!==null;){var n=r.next;ne(r,t),r=n}}function Mi(e){for(var t=e.first;t!==null;){var r=t.next;(t.f&32)===0&&ne(t),t=r}}function ne(e,t=!0){var r=!1;if((t||(e.f&524288)!==0)&&e.nodes_start!==null){for(var n=e.nodes_start,i=e.nodes_end;n!==null;){var o=n===i?null:se(n);n.remove(),n=o}r=!0}An(e,t&&!r),jt(e,0),fe(e,16384);var s=e.transitions;if(s!==null)for(let u of s)u.stop();Tn(e);var c=e.parent;c!==null&&c.first!==null&&Sn(e),_&&(e.component_function=null),e.next=e.prev=e.teardown=e.ctx=e.deps=e.fn=e.nodes_start=e.nodes_end=null}function Sn(e){var t=e.parent,r=e.prev,n=e.next;r!==null&&(r.next=n),n!==null&&(n.prev=r),t!==null&&(t.first===e&&(t.first=n),t.last===e&&(t.last=r))}function Ye(e,t){var r=[];Cn(e,r,!0),Bi(r,()=>{ne(e),t&&t()})}function Bi(e,t){var r=e.length;if(r>0){var n=()=>--r||t();for(var i of e)i.out(n)}else t()}function Cn(e,t,r){if((e.f&8192)===0){if(e.f^=8192,e.transitions!==null)for(let s of e.transitions)(s.is_global||r)&&t.push(s);for(var n=e.first;n!==null;){var i=n.next,o=(n.f&65536)!==0||(n.f&32)!==0;Cn(n,t,o?r:!1),n=i}}}var xr=!1,Vi=!1,kn=[],Gi=[];function qi(){xr=!1;let e=kn.slice();kn=[],Ot(e)}function gs(){Vi=!1;let e=Gi.slice();Gi=[],Ot(e)}function Fe(e){xr||(xr=!0,queueMicrotask(qi)),kn.push(e)}function Wi(){xr&&qi(),Vi&&gs()}var ji=0,bs=1,Yi=new WeakSet,wr=!1,Er=ji,zt=!1,bt=null,Ve=!1,br=!1;function _t(e){Ve=e}function yn(e){br=e}var ut=[],xt=0,Kt=[],k=null,we=!1;function Q(e){k=e}var S=null;function W(e){S=e}var Ae=null;function ki(e){Ae=e}var ie=null,ve=0,De=null;function Ri(e){De=e}var zi=1,Tr=0,qe=!1,Bt=null;function Yt(){return++zi}function at(e){var t=e.f;if((t&2048)!==0)return!0;if((t&4096)!==0){var r=e.deps,n=(t&256)!==0;if(r!==null){var i,o,s=(t&512)!==0,c=n&&S!==null&&!qe,u=r.length;if(s||c){var a=e,l=a.parent;for(i=0;i<u;i++)o=r[i],(s||!o?.reactions?.includes(a))&&(o.reactions??=[]).push(a);s&&(a.f^=512),c&&l!==null&&(l.f&256)===0&&(a.f^=256)}for(i=0;i<u;i++)if(o=r[i],at(o)&&gn(o),o.wv>e.wv)return!0}(!n||S!==null&&!qe)&&fe(e,1024)}return!1}function Xi(e,t){for(var r=t;r!==null;){if((r.f&128)!==0)try{r.fn(e);return}catch{r.f^=128}r=r.parent}throw wr=!1,e}function Hi(e){return(e.f&16384)===0&&(e.parent===null||(e.parent.f&128)===0)}function wt(e,t,r,n){if(wr){if(r===null&&(wr=!1),Hi(t))throw e;return}if(r!==null&&(wr=!0),!_||n===null||!(e instanceof Error)||Yi.has(e)){Xi(e,t);return}Yi.add(e);let i=[],o=t.fn?.name;o&&i.push(o);let s=n;for(;s!==null;){if(_){var c=s.function?.[H];if(c){let l=c.split("/").pop();i.push(l)}}s=s.p}let u=Ht?"  ":"	";z(e,"message",{value:e.message+`
${i.map(l=>`
${u}in ${l}`).join("")}
`}),z(e,"component_stack",{value:i});let a=e.stack;if(a){let l=a.split(`
`),d=[];for(let f=0;f<l.length;f++){let p=l[f];p.includes("svelte/src/internal")||d.push(p)}z(e,"stack",{value:d.join(`
`)})}if(Xi(e,t),Hi(t))throw e}function Ki(e,t,r=!0){var n=e.reactions;if(n!==null)for(var i=0;i<n.length;i++){var o=n[i];(o.f&2)!==0?Ki(o,t,!1):t===o&&(r?fe(o,2048):(o.f&1024)!==0&&fe(o,4096),Xt(o))}}function gr(e){var t=ie,r=ve,n=De,i=k,o=qe,s=Ae,c=N,u=we,a=e.f;ie=null,ve=0,De=null,k=(a&96)===0?e:null,qe=(a&256)!==0&&(!Ve||i===null||u),Ae=null,Gt(e.ctx),we=!1,Tr++;try{var l=(0,e.fn)(),d=e.deps;if(ie!==null){var f;if(jt(e,ve),d!==null&&ve>0)for(d.length=ve+ie.length,f=0;f<ie.length;f++)d[ve+f]=ie[f];else e.deps=d=ie;if(!qe)for(f=ve;f<d.length;f++)(d[f].reactions??=[]).push(e)}else d!==null&&ve<d.length&&(jt(e,ve),d.length=ve);if(Ne()&&De!==null&&!we&&d!==null&&(e.f&6146)===0)for(f=0;f<De.length;f++)Ki(De[f],e);return i!==null&&Tr++,l}finally{ie=t,ve=r,De=n,k=i,qe=o,Ae=s,Gt(c),we=u}}function xs(e,t){let r=t.reactions;if(r!==null){var n=ii.call(r,e);if(n!==-1){var i=r.length-1;i===0?r=t.reactions=null:(r[n]=r[i],r.pop())}}r===null&&(t.f&2)!==0&&(ie===null||!ie.includes(t))&&(fe(t,4096),(t.f&768)===0&&(t.f^=512),mr(t),jt(t,0))}function jt(e,t){var r=e.deps;if(r!==null)for(var n=t;n<r.length;n++)xs(e,r[n])}function ht(e){var t=e.f;if((t&16384)===0){fe(e,1024);var r=S,n=N;if(S=e,_){var i=ge;Vt(e.component_function)}try{(t&16)!==0?Mi(e):An(e),Tn(e);var o=gr(e);e.teardown=typeof o=="function"?o:null,e.wv=zi;var s=e.deps;if(_&&$e&&(e.f&2048)!==0&&s!==null)for(let u=0;u<s.length;u++){var c=s[u];c.trace_need_increase&&(c.wv=Yt(),c.trace_need_increase=void 0,c.trace_v=void 0)}_&&Kt.push(e)}catch(u){wt(u,e,r,n||e.ctx)}finally{S=r,_&&Vt(i)}}}function Qi(){console.error("Last ten effects were: ",Kt.slice(-10).map(e=>e.fn)),Kt=[]}function Ji(){if(xt>1e3){xt=0;try{fi()}catch(e){if(_&&z(e,"stack",{value:""}),bt!==null)if(_)try{wt(e,bt,null,null)}catch(t){throw Qi(),t}else wt(e,bt,null,null);else throw _&&Qi(),e}}xt++}function eo(e){var t=e.length;if(t!==0){Ji();var r=Ve;Ve=!0;try{for(var n=0;n<t;n++){var i=e[n];(i.f&1024)===0&&(i.f^=1024);var o=Is(i);ws(o)}}finally{Ve=r}}}function ws(e){var t=e.length;if(t!==0)for(var r=0;r<t;r++){var n=e[r];if((n.f&24576)===0)try{at(n)&&(ht(n),n.deps===null&&n.first===null&&n.nodes_start===null&&(n.teardown===null?Sn(n):n.fn=null))}catch(i){wt(i,n,null,n.ctx)}}}function Es(){if(zt=!1,xt>1001)return;let e=ut;ut=[],eo(e),zt||(xt=0,bt=null,_&&(Kt=[]))}function Xt(e){Er===ji&&(zt||(zt=!0,queueMicrotask(Es))),bt=e;for(var t=e;t.parent!==null;){t=t.parent;var r=t.f;if((r&96)!==0){if((r&1024)===0)return;t.f^=1024}}ut.push(t)}function Is(e){var t=[],r=e.first;e:for(;r!==null;){var n=r.f,i=(n&32)!==0,o=i&&(n&1024)!==0,s=r.next;if(!o&&(n&8192)===0){if((n&4)!==0)t.push(r);else if(i)r.f^=1024;else{var c=k;try{k=r,at(r)&&ht(r)}catch(l){wt(l,r,null,r.ctx)}finally{k=c}}var u=r.first;if(u!==null){r=u;continue}}if(s===null){let l=r.parent;for(;l!==null;){if(e===l)break e;var a=l.next;if(a!==null){r=a;continue e}l=l.parent}}r=s}return t}function Et(e){var t=Er,r=ut;try{Ji();let i=[];Er=bs,ut=i,zt=!1,eo(r);var n=e?.();return Wi(),(ut.length>0||i.length>0)&&Et(),xt=0,bt=null,_&&(Kt=[]),n}finally{Er=t,ut=r}}function P(e){var t=e.f,r=(t&2)!==0;if(Bt!==null&&Bt.add(e),k!==null&&!we){Ae!==null&&Ae.includes(e)&&mi();var n=k.deps;e.rv<Tr&&(e.rv=Tr,ie===null&&n!==null&&n[ve]===e?ve++:ie===null?ie=[e]:(!qe||!ie.includes(e))&&ie.push(e))}else if(r&&e.deps===null&&e.effects===null){var i=e,o=i.parent;o!==null&&(o.f&256)===0&&(i.f^=256)}if(r&&(i=e,at(i)&&gn(i)),_&&$e&&Mt!==null&&k!==null&&Mt.reaction===k){if(e.debug)e.debug();else if(e.created){var s=Mt.entries.get(e);s===void 0&&(s={read:[]},Mt.entries.set(e,s)),s.read.push(Ge("TracedAt"))}}return e.v}function U(e){var t=we;try{return we=!0,e()}finally{we=t}}var Ts=-7169;function fe(e,t){e.f=e.f&Ts|t}var As=["allowfullscreen","async","autofocus","autoplay","checked","controls","default","disabled","formnovalidate","hidden","indeterminate","inert","ismap","loop","multiple","muted","nomodule","novalidate","open","playsinline","readonly","required","reversed","seamless","selected","webkitdirectory","defer","disablepictureinpicture","disableremoteplayback"];var ff=[...As,"formNoValidate","isMap","noModule","playsInline","readOnly","value","volume","defaultValue","defaultChecked","srcObject","noValidate","allowFullscreen","disablePictureInPicture","disableRemotePlayback"];var Ss=["touchstart","touchmove"];function to(e){return Ss.includes(e)}function Ar(e){var t=k,r=S;Q(null),W(null);try{return e()}finally{Q(t),W(r)}}var ro=new Set,Rn=new Set;function Jt(e){var t=this,r=t.ownerDocument,n=e.type,i=e.composedPath?.()||[],o=i[0]||e.target,s=0,c=e.__root;if(c){var u=i.indexOf(c);if(u!==-1&&(t===document||t===window)){e.__root=t;return}var a=i.indexOf(t);if(a===-1)return;u<=a&&(s=u)}if(o=i[s]||e.target,o!==t){z(e,"currentTarget",{configurable:!0,get(){return o||r}});var l=k,d=S;Q(null),W(null);try{for(var f,p=[];o!==null;){var g=o.assignedSlot||o.parentNode||o.host||null;try{var h=o["__"+n];if(h!==void 0&&!o.disabled)if(Re(h)){var[y,...v]=h;y.apply(o,[e,...v])}else h.call(o,e)}catch(m){f?p.push(m):f=m}if(e.cancelBubble||g===t||g===null)break;o=g}if(f){for(let m of p)queueMicrotask(()=>{throw m});throw f}}finally{e.__root=t,delete e.currentTarget,Q(l),W(d)}}}var Rs;function no(){Rs=void 0}function Sr(e){var t=document.createElement("template");return t.innerHTML=e,t.content}function ze(e,t){var r=S;r.nodes_start===null&&(r.nodes_start=e,r.nodes_end=t)}function It(e,t){var r=(t&1)!==0,n=(t&2)!==0,i,o=!e.startsWith("<!>");return()=>{if($)return ze(D,null),D;i===void 0&&(i=Sr(o?e:"<!>"+e),r||(i=re(i)));var s=n||Ht?document.importNode(i,!0):i.cloneNode(!0);if(r){var c=re(s),u=s.lastChild;ze(c,u)}else ze(s,s);return s}}function Ke(e,t){if($){S.nodes_end=D,te();return}e!==null&&e.before(t)}var Cr=!0;function Nn(e,t){var r=t==null?"":typeof t=="object"?t+"":t;r!==(e.__t??=e.nodeValue)&&(e.__t=r,e.nodeValue=r+"")}function At(e,t){return io(e,t)}function Dn(e,t){vr(),t.intro=t.intro??!1;let r=t.target,n=$,i=D;try{for(var o=re(r);o&&(o.nodeType!==8||o.data!==Ft);)o=se(o);if(!o)throw He;Oe(!0),j(o),te();let s=io(e,{...t,anchor:o});if(D===null||D.nodeType!==8||D.data!==Ut)throw vt(),He;return Oe(!1),s}catch(s){if(s===He)return t.recover===!1&&di(),vr(),hr(r),Oe(!1),At(e,t);throw s}finally{Oe(n),j(i),no()}}var Tt=new Map;function io(e,{target:t,anchor:r,props:n={},events:i,context:o,intro:s=!0}){vr();var c=new Set,u=d=>{for(var f=0;f<d.length;f++){var p=d[f];if(!c.has(p)){c.add(p);var g=to(p);t.addEventListener(p,Jt,{passive:g});var h=Tt.get(p);h===void 0?(document.addEventListener(p,Jt,{passive:g}),Tt.set(p,1)):Tt.set(p,h+1)}}};u(tn(ro)),Rn.add(u);var a=void 0,l=Ui(()=>{var d=r??t.appendChild(Pe());return pe(()=>{if(o){qt({});var f=N;f.c=o}i&&(n.$$events=i),$&&ze(d,null),Cr=s,a=e(d,n)||{},Cr=!0,$&&(S.nodes_end=D),o&&Wt()}),()=>{for(var f of c){t.removeEventListener(f,Jt);var p=Tt.get(f);--p===0?(document.removeEventListener(f,Jt),Tt.delete(f)):Tt.set(f,p)}Rn.delete(u),d!==r&&d.parentNode?.removeChild(d)}});return $n.set(a,l),a}var $n=new WeakMap;function Ln(e,t){let r=$n.get(e);return r?($n.delete(e),r(t)):(_&&wi(),Promise.resolve())}function Pn(e,t,r){$&&te();var n=e,i=F,o,s=Ne()?si:Pt;de(()=>{s(i,i=t())&&(o&&Ye(o),o=pe(()=>r(n)))}),$&&(n=D)}var Ms=nr?()=>performance.now():()=>Date.now(),Se={tick:e=>(nr?requestAnimationFrame:oe)(e),now:()=>Ms(),tasks:new Set};function ao(){let e=Se.now();Se.tasks.forEach(t=>{t.c(e)||(Se.tasks.delete(t),t.f())}),Se.tasks.size!==0&&Se.tick(ao)}function uo(e){let t;return Se.tasks.size===0&&Se.tick(ao),{promise:new Promise(r=>{Se.tasks.add(t={c:e,f:r})}),abort(){Se.tasks.delete(t)}}}function kr(e,t){Ar(()=>{e.dispatchEvent(new CustomEvent(t))})}function qs(e){if(e==="float")return"cssFloat";if(e==="offset")return"cssOffset";if(e.startsWith("--"))return e;let t=e.split("-");return t.length===1?t[0]:t[0]+t.slice(1).map(r=>r[0].toUpperCase()+r.slice(1)).join("")}function lo(e){let t={},r=e.split(";");for(let n of r){let[i,o]=n.split(":");if(!i||o===void 0)break;let s=qs(i.trim());t[s]=o.trim()}return t}var Ws=e=>e;function Rr(e,t,r,n){var i=(e&1)!==0,o=(e&2)!==0,s=i&&o,c=(e&4)!==0,u=s?"both":i?"in":"out",a,l=t.inert,d=t.style.overflow,f,p;function g(){var w=k,E=S;Q(null),W(null);try{return a??=r()(t,n?.()??{},{direction:u})}finally{Q(w),W(E)}}var h={is_global:c,in(){if(t.inert=l,!i){p?.abort(),p?.reset?.();return}o||f?.abort(),kr(t,"introstart"),f=Fn(t,g(),p,1,()=>{kr(t,"introend"),f?.abort(),f=a=void 0,t.style.overflow=d})},out(w){if(!o){w?.(),a=void 0;return}t.inert=!0,kr(t,"outrostart"),p=Fn(t,g(),f,0,()=>{kr(t,"outroend"),w?.()})},stop:()=>{f?.abort(),p?.abort()}},y=S;if((y.transitions??=[]).push(h),i&&Cr){var v=c;if(!v){for(var m=y.parent;m&&(m.f&65536)!==0;)for(;(m=m.parent)&&(m.f&16)===0;);v=!m||(m.f&32768)!==0}v&&be(()=>{U(()=>h.in())})}}function Fn(e,t,r,n,i){var o=n===1;if(on(t)){var s,c=!1;return Fe(()=>{if(!c){var y=t({direction:o?"in":"out"});s=Fn(e,y,r,n,i)}}),{abort:()=>{c=!0,s?.abort()},deactivate:()=>s.deactivate(),reset:()=>s.reset(),t:()=>s.t()}}if(r?.deactivate(),!t?.duration)return i(),{abort:oe,deactivate:oe,reset:oe,t:()=>n};let{delay:u=0,css:a,tick:l,easing:d=Ws}=t;var f=[];if(o&&r===void 0&&(l&&l(0,1),a)){var p=lo(a(0,1));f.push(p,p)}var g=()=>1-n,h=e.animate(f,{duration:u});return h.onfinish=()=>{var y=r?.t()??1-n;r?.abort();var v=n-y,m=t.duration*Math.abs(v),w=[];if(m>0){var E=!1;if(a)for(var L=Math.ceil(m/16.666666666666668),A=0;A<=L;A+=1){var I=y+v*d(A/L),R=lo(a(I,1-I));w.push(R),E||=R.overflow==="hidden"}E&&(e.style.overflow="hidden"),g=()=>{var O=h.currentTime;return y+v*d(O/m)},l&&uo(()=>{if(h.playState!=="running")return!1;var O=g();return l(O,1-O),!0})}h=e.animate(w,{duration:m,fill:"forwards"}),h.onfinish=()=>{g=()=>n,l?.(n,1-n),i()}},{abort:()=>{h&&(h.cancel(),h.effect=null,h.onfinish=oe)},deactivate:()=>{i=oe},reset:()=>{n===0&&l?.(1,0)},t:()=>g()}}var Nr=!1,Ah=Symbol();function Un(e){var t=Nr;try{return Nr=!1,[e(),Nr]}finally{Nr=t}}function Dr(e,t,r,n){var i=(r&1)!==0,o=!Be||(r&2)!==0,s=(r&8)!==0,c=(r&16)!==0,u=!1,a;s?[a,u]=Un(()=>e[t]):a=e[t];var l=he in e||ir in e,d=s&&(Te(e,t)?.set??(l&&t in e&&(I=>e[t]=I)))||void 0,f=n,p=!0,g=!1,h=()=>(g=!0,p&&(p=!1,c?f=U(n):f=n),f);a===void 0&&n!==void 0&&(d&&o&&pi(t),a=h(),d&&d(a));var y;if(o)y=()=>{var I=e[t];return I===void 0?h():(p=!0,g=!1,I)};else{var v=(i?je:yr)(()=>e[t]);v.f|=131072,y=()=>{var I=P(v);return I!==void 0&&(f=void 0),I===void 0?f:I}}if((r&4)===0)return y;if(d){var m=e.$$legacy;return function(I,R){return arguments.length>0?((!o||!R||m||u)&&d(R?y():I),I):y()}}var w=!1,E=!1,L=st(a),A=je(()=>{var I=y(),R=P(L);return w?(w=!1,E=!0,R):(E=!1,L.v=I)});return i||(A.equals=pt),function(I,R){if(Bt!==null&&(w=E,y(),P(L)),arguments.length>0){let O=R?P(A):o&&s?Ze(I):I;return A.equals(O)||(w=!0,Y(L,O),g&&f!==void 0&&(f=O),U(()=>P(A))),I}return P(A)}}function co(e){return new Mn(e)}var Mn=class{#t;#e;constructor(t){var r=new Map,n=(o,s)=>{var c=st(s);return r.set(o,c),c};let i=new Proxy({...t.props||{},$$events:{}},{get(o,s){return P(r.get(s)??n(s,Reflect.get(o,s)))},has(o,s){return s===ir?!0:(P(r.get(s)??n(s,Reflect.get(o,s))),Reflect.has(o,s))},set(o,s,c){return Y(r.get(s)??n(s,c),c),Reflect.set(o,s,c)}});this.#e=(t.hydrate?Dn:At)(t.component,{target:t.target,anchor:t.anchor,props:i,context:t.context,intro:t.intro??!1,recover:t.recover}),(!t?.props?.$$host||t.sync===!1)&&Et(),this.#t=i.$$events;for(let o of Object.keys(this.#e))o==="$set"||o==="$destroy"||o==="$on"||z(this,o,{get(){return this.#e[o]},set(s){this.#e[o]=s},enumerable:!0});this.#e.$set=o=>{Object.assign(i,o)},this.#e.$destroy=()=>{Ln(this.#e)}}$set(t){this.#e.$set(t)}$on(t,r){this.#t[t]=this.#t[t]||[];let n=(...i)=>r.call(this,...i);return this.#t[t].push(n),()=>{this.#t[t]=this.#t[t].filter(i=>i!==n)}}$destroy(){this.#e.$destroy()}};var sa;typeof HTMLElement=="function"&&(sa=class extends HTMLElement{$$ctor;$$s;$$c;$$cn=!1;$$d={};$$r=!1;$$p_d={};$$l={};$$l_u=new Map;$$me;constructor(e,t,r){super(),this.$$ctor=e,this.$$s=t,r&&this.attachShadow({mode:"open"})}addEventListener(e,t,r){if(this.$$l[e]=this.$$l[e]||[],this.$$l[e].push(t),this.$$c){let n=this.$$c.$on(e,t);this.$$l_u.set(t,n)}super.addEventListener(e,t,r)}removeEventListener(e,t,r){if(super.removeEventListener(e,t,r),this.$$c){let n=this.$$l_u.get(t);n&&(n(),this.$$l_u.delete(t))}}async connectedCallback(){if(this.$$cn=!0,!this.$$c){let e=function(n){return i=>{let o=document.createElement("slot");n!=="default"&&(o.name=n),Ke(i,o)}};if(await Promise.resolve(),!this.$$cn||this.$$c)return;let t={},r=aa(this);for(let n of this.$$s)n in r&&(n==="default"&&!this.$$d.children?(this.$$d.children=e(n),t.default=!0):t[n]=e(n));for(let n of this.attributes){let i=this.$$g_p(n.name);i in this.$$d||(this.$$d[i]=Bn(i,n.value,this.$$p_d,"toProp"))}for(let n in this.$$p_d)!(n in this.$$d)&&this[n]!==void 0&&(this.$$d[n]=this[n],delete this[n]);this.$$c=co({component:this.$$ctor,target:this.shadowRoot||this,props:{...this.$$d,$$slots:t,$$host:this}}),this.$$me=En(()=>{ye(()=>{this.$$r=!0;for(let n of rn(this.$$c)){if(!this.$$p_d[n]?.reflect)continue;this.$$d[n]=this.$$c[n];let i=Bn(n,this.$$d[n],this.$$p_d,"toAttribute");i==null?this.removeAttribute(this.$$p_d[n].attribute||n):this.setAttribute(this.$$p_d[n].attribute||n,i)}this.$$r=!1})});for(let n in this.$$l)for(let i of this.$$l[n]){let o=this.$$c.$on(n,i);this.$$l_u.set(i,o)}this.$$l={}}}attributeChangedCallback(e,t,r){this.$$r||(e=this.$$g_p(e),this.$$d[e]=Bn(e,r,this.$$p_d,"toProp"),this.$$c?.$set({[e]:this.$$d[e]}))}disconnectedCallback(){this.$$cn=!1,Promise.resolve().then(()=>{!this.$$cn&&this.$$c&&(this.$$c.$destroy(),this.$$me(),this.$$c=void 0)})}$$g_p(e){return rn(this.$$p_d).find(t=>this.$$p_d[t].attribute===e||!this.$$p_d[t].attribute&&t.toLowerCase()===e)||e}});function Bn(e,t,r,n){let i=r[e]?.type;if(t=i==="Boolean"&&typeof t!="boolean"?t!=null:t,!n||!r[e])return t;if(n==="toAttribute")switch(i){case"Object":case"Array":return t==null?null:JSON.stringify(t);case"Boolean":return t?"":null;case"Number":return t??null;default:return t}else switch(i){case"Object":case"Array":return t&&JSON.parse(t);case"Boolean":return t;case"Number":return t!=null?+t:t;default:return t}}function aa(e){let t={};return e.childNodes.forEach(r=>{t[r.slot||"default"]=!0}),t}if(_){let e=function(t){if(!(t in globalThis)){let r;Object.defineProperty(globalThis,t,{configurable:!0,get:()=>{if(r!==void 0)return r;vi(t)},set:n=>{r=n}})}};e("$state"),e("$effect"),e("$derived"),e("$inspect"),e("$props"),e("$bindable")}var po="5";typeof window<"u"&&(window.__svelte||={v:new Set}).v.add(po);yi();var ca=Object.defineProperty,fa=(e,t)=>{for(var r in t)ca(e,r,{get:t[r],enumerable:!0})},Hn=function(e,t){return Hn=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},Hn(e,t)};function ct(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");Hn(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var T=function(){return T=Object.assign||function(t){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])}return t},T.apply(this,arguments)};function Qn(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r}function b(e,t,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function c(l){try{a(n.next(l))}catch(d){s(d)}}function u(l){try{a(n.throw(l))}catch(d){s(d)}}function a(l){l.done?o(l.value):i(l.value).then(c,u)}a((n=n.apply(e,t||[])).next())})}function x(e,t){var r={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,i,o,s=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return s.next=c(0),s.throw=c(1),s.return=c(2),typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function c(a){return function(l){return u([a,l])}}function u(a){if(n)throw new TypeError("Generator is already executing.");for(;s&&(s=0,a[0]&&(r=0)),r;)try{if(n=1,i&&(o=a[0]&2?i.return:a[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,a[1])).done)return o;switch(i=0,o&&(a=[a[0]&2,o.value]),a[0]){case 0:case 1:o=a;break;case 4:return r.label++,{value:a[1],done:!1};case 5:r.label++,i=a[1],a=[0];continue;case 7:a=r.ops.pop(),r.trys.pop();continue;default:if(o=r.trys,!(o=o.length>0&&o[o.length-1])&&(a[0]===6||a[0]===2)){r=0;continue}if(a[0]===3&&(!o||a[1]>o[0]&&a[1]<o[3])){r.label=a[1];break}if(a[0]===6&&r.label<o[1]){r.label=o[1],o=a;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(a);break}o[2]&&r.ops.pop(),r.trys.pop();continue}a=t.call(e,r)}catch(l){a=[6,l],i=0}finally{n=o=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}}function Rt(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function _e(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),i,o=[],s;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(c){s={error:c}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(s)throw s.error}}return o}function Ct(e,t,r){if(r||arguments.length===2)for(var n=0,i=t.length,o;n<i;n++)(o||!(n in t))&&(o||(o=Array.prototype.slice.call(t,0,n)),o[n]=t[n]);return e.concat(o||Array.prototype.slice.call(t))}var da="Event tracked successfully",pa="Unexpected error occurred",va="Event rejected due to exceeded retry count",_a="Event skipped due to optOut config",ha="Event rejected due to missing API key",ma="Invalid API key",ga="Client not initialized",ya={};fa(ya,{DEFAULT_ACTION_CLICK_ALLOWLIST:()=>wa,DEFAULT_CSS_SELECTOR_ALLOWLIST:()=>ba,DEFAULT_DATA_ATTRIBUTE_PREFIX:()=>xa,IdentifyOperation:()=>X,LogLevel:()=>ue,OfflineDisabled:()=>Lo,RevenueProperty:()=>et,ServerZone:()=>Zn,SpecialEventType:()=>lt,Status:()=>M});var X;(function(e){e.SET="$set",e.SET_ONCE="$setOnce",e.ADD="$add",e.APPEND="$append",e.PREPEND="$prepend",e.REMOVE="$remove",e.PREINSERT="$preInsert",e.POSTINSERT="$postInsert",e.UNSET="$unset",e.CLEAR_ALL="$clearAll"})(X||(X={}));var et;(function(e){e.REVENUE_PRODUCT_ID="$productId",e.REVENUE_QUANTITY="$quantity",e.REVENUE_PRICE="$price",e.REVENUE_TYPE="$revenueType",e.REVENUE="$revenue"})(et||(et={}));var lt;(function(e){e.IDENTIFY="$identify",e.GROUP_IDENTIFY="$groupidentify",e.REVENUE="revenue_amount"})(lt||(lt={}));var ue;(function(e){e[e.None=0]="None",e[e.Error=1]="Error",e[e.Warn=2]="Warn",e[e.Verbose=3]="Verbose",e[e.Debug=4]="Debug"})(ue||(ue={}));var Zn;(function(e){e.US="US",e.EU="EU"})(Zn||(Zn={}));var M;(function(e){e.Unknown="unknown",e.Skipped="skipped",e.Success="success",e.RateLimit="rate_limit",e.PayloadTooLarge="payload_too_large",e.Invalid="invalid",e.Failed="failed",e.Timeout="Timeout",e.SystemError="SystemError"})(M||(M={}));var Lo=null,ba=["a","button","input","select","textarea","label","video","audio",'[contenteditable="true" i]',"[data-amp-default-track]",".amp-default-track"],xa="data-amp-track-",wa=["div","span","h1","h2","h3","h4","h5","h6"],kt=function(e,t,r){return t===void 0&&(t=0),r===void 0&&(r=M.Unknown),{event:e,code:t,message:r}},Nt=function(e){return e?(e^Math.random()*16>>e/4).toString(16):(String(1e7)+String(-1e3)+String(-4e3)+String(-8e3)+String(-1e11)).replace(/[018]/g,Nt)},Ea=function(){function e(t){this.client=t,this.queue=[],this.applying=!1,this.plugins=[]}return e.prototype.register=function(t,r){var n,i;return b(this,void 0,void 0,function(){return x(this,function(o){switch(o.label){case 0:return this.plugins.some(function(s){return s.name===t.name})?(r.loggerProvider.warn("Plugin with name ".concat(t.name," already exists, skipping registration")),[2]):(t.name===void 0&&(t.name=Nt(),r.loggerProvider.warn(`Plugin name is undefined. 
      Generating a random UUID for plugin name: `.concat(t.name,`. 
      Set a name for the plugin to prevent it from being added multiple times.`))),t.type=(n=t.type)!==null&&n!==void 0?n:"enrichment",[4,(i=t.setup)===null||i===void 0?void 0:i.call(t,r,this.client)]);case 1:return o.sent(),this.plugins.push(t),[2]}})})},e.prototype.deregister=function(t,r){var n;return b(this,void 0,void 0,function(){var i,o;return x(this,function(s){switch(s.label){case 0:return i=this.plugins.findIndex(function(c){return c.name===t}),i===-1?(r.loggerProvider.warn("Plugin with name ".concat(t," does not exist, skipping deregistration")),[2]):(o=this.plugins[i],this.plugins.splice(i,1),[4,(n=o.teardown)===null||n===void 0?void 0:n.call(o)]);case 1:return s.sent(),[2]}})})},e.prototype.reset=function(t){this.applying=!1;var r=this.plugins;r.map(function(n){var i;return(i=n.teardown)===null||i===void 0?void 0:i.call(n)}),this.plugins=[],this.client=t},e.prototype.push=function(t){var r=this;return new Promise(function(n){r.queue.push([t,n]),r.scheduleApply(0)})},e.prototype.scheduleApply=function(t){var r=this;this.applying||(this.applying=!0,setTimeout(function(){r.apply(r.queue.shift()).then(function(){r.applying=!1,r.queue.length>0&&r.scheduleApply(0)})},t))},e.prototype.apply=function(t){return b(this,void 0,void 0,function(){var r,n,i,o,s,c,u,p,g,a,l,d,f,p,g,h,y,v,m,w,E,L;return x(this,function(A){switch(A.label){case 0:if(!t)return[2];r=_e(t,1),n=r[0],i=_e(t,2),o=i[1],s=this.plugins.filter(function(I){return I.type==="before"}),A.label=1;case 1:A.trys.push([1,6,7,8]),c=Rt(s),u=c.next(),A.label=2;case 2:return u.done?[3,5]:(p=u.value,p.execute?[4,p.execute(T({},n))]:[3,4]);case 3:if(g=A.sent(),g===null)return o({event:n,code:0,message:""}),[2];n=g,A.label=4;case 4:return u=c.next(),[3,2];case 5:return[3,8];case 6:return a=A.sent(),m={error:a},[3,8];case 7:try{u&&!u.done&&(w=c.return)&&w.call(c)}finally{if(m)throw m.error}return[7];case 8:l=this.plugins.filter(function(I){return I.type==="enrichment"||I.type===void 0}),A.label=9;case 9:A.trys.push([9,14,15,16]),d=Rt(l),f=d.next(),A.label=10;case 10:return f.done?[3,13]:(p=f.value,p.execute?[4,p.execute(T({},n))]:[3,12]);case 11:if(g=A.sent(),g===null)return o({event:n,code:0,message:""}),[2];n=g,A.label=12;case 12:return f=d.next(),[3,10];case 13:return[3,16];case 14:return h=A.sent(),E={error:h},[3,16];case 15:try{f&&!f.done&&(L=d.return)&&L.call(d)}finally{if(E)throw E.error}return[7];case 16:return y=this.plugins.filter(function(I){return I.type==="destination"}),v=y.map(function(I){var R=T({},n);return I.execute(R).catch(function(O){return kt(R,0,String(O))})}),Promise.all(v).then(function(I){var R=_e(I,1),O=R[0],Ie=O||kt(n,100,"Event not tracked, no destination plugins on the instance");o(Ie)}),[2]}})})},e.prototype.flush=function(){return b(this,void 0,void 0,function(){var t,r,n,i=this;return x(this,function(o){switch(o.label){case 0:return t=this.queue,this.queue=[],[4,Promise.all(t.map(function(s){return i.apply(s)}))];case 1:return o.sent(),r=this.plugins.filter(function(s){return s.type==="destination"}),n=r.map(function(s){return s.flush&&s.flush()}),[4,Promise.all(n)];case 2:return o.sent(),[2]}})})},e}(),vo="-",Vr="AMP",Ia="".concat(Vr,"_unsent"),Oo="https://api2.amplitude.com/2/httpapi",Ta="https://api.eu.amplitude.com/2/httpapi",Aa="https://api2.amplitude.com/batch",Sa="https://api.eu.amplitude.com/batch",Ca=1e3,jn=function(e){if(Object.keys(e).length>Ca)return!1;for(var t in e){var r=e[t];if(!Po(t,r))return!1}return!0},Po=function(e,t){var r,n;if(typeof e!="string")return!1;if(Array.isArray(t)){var i=!0;try{for(var o=Rt(t),s=o.next();!s.done;s=o.next()){var c=s.value;if(Array.isArray(c))return!1;if(typeof c=="object")i=i&&jn(c);else if(!["number","string"].includes(typeof c))return!1;if(!i)return!1}}catch(u){r={error:u}}finally{try{s&&!s.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}}else{if(t==null)return!1;if(typeof t=="object")return jn(t);if(!["number","string","boolean"].includes(typeof t))return!1}return!0},$t=function(){function e(){this._propertySet=new Set,this._properties={}}return e.prototype.getUserProperties=function(){return T({},this._properties)},e.prototype.set=function(t,r){return this._safeSet(X.SET,t,r),this},e.prototype.setOnce=function(t,r){return this._safeSet(X.SET_ONCE,t,r),this},e.prototype.append=function(t,r){return this._safeSet(X.APPEND,t,r),this},e.prototype.prepend=function(t,r){return this._safeSet(X.PREPEND,t,r),this},e.prototype.postInsert=function(t,r){return this._safeSet(X.POSTINSERT,t,r),this},e.prototype.preInsert=function(t,r){return this._safeSet(X.PREINSERT,t,r),this},e.prototype.remove=function(t,r){return this._safeSet(X.REMOVE,t,r),this},e.prototype.add=function(t,r){return this._safeSet(X.ADD,t,r),this},e.prototype.unset=function(t){return this._safeSet(X.UNSET,t,vo),this},e.prototype.clearAll=function(){return this._properties={},this._properties[X.CLEAR_ALL]=vo,this},e.prototype._safeSet=function(t,r,n){if(this._validate(t,r,n)){var i=this._properties[t];return i===void 0&&(i={},this._properties[t]=i),i[r]=n,this._propertySet.add(r),!0}return!1},e.prototype._validate=function(t,r,n){return this._properties[X.CLEAR_ALL]!==void 0||this._propertySet.has(r)?!1:t===X.ADD?typeof n=="number":t!==X.UNSET&&t!==X.REMOVE?Po(r,n):!0},e}(),ka=function(e,t,r){var n=typeof e=="string"?{event_type:e}:e;return T(T(T({},n),r),t&&{event_properties:t})},Fo=function(e,t){var r=T(T({},t),{event_type:lt.IDENTIFY,user_properties:e.getUserProperties()});return r},Ra=function(e,t,r,n){var i,o=T(T({},n),{event_type:lt.GROUP_IDENTIFY,group_properties:r.getUserProperties(),groups:(i={},i[e]=t,i)});return o},$a=function(e,t,r){var n,i=new $t;i.set(e,t);var o=T(T({},r),{event_type:lt.IDENTIFY,user_properties:i.getUserProperties(),groups:(n={},n[e]=t,n)});return o},Na=function(e,t){return T(T({},t),{event_type:lt.REVENUE,event_properties:e.getEventProperties()})},ae=function(e){return{promise:e||Promise.resolve()}},Da=function(){function e(t){t===void 0&&(t="$default"),this.initializing=!1,this.isReady=!1,this.q=[],this.dispatchQ=[],this.logEvent=this.track.bind(this),this.timeline=new Ea(this),this.name=t}return e.prototype._init=function(t){return b(this,void 0,void 0,function(){return x(this,function(r){switch(r.label){case 0:return this.config=t,this.timeline.reset(this),[4,this.runQueuedFunctions("q")];case 1:return r.sent(),this.isReady=!0,[2]}})})},e.prototype.runQueuedFunctions=function(t){return b(this,void 0,void 0,function(){var r,n,i,o,s,c,u,a;return x(this,function(l){switch(l.label){case 0:r=this[t],this[t]=[],l.label=1;case 1:l.trys.push([1,8,9,10]),n=Rt(r),i=n.next(),l.label=2;case 2:return i.done?[3,7]:(o=i.value,s=o(),s&&"promise"in s?[4,s.promise]:[3,4]);case 3:return l.sent(),[3,6];case 4:return[4,s];case 5:l.sent(),l.label=6;case 6:return i=n.next(),[3,2];case 7:return[3,10];case 8:return c=l.sent(),u={error:c},[3,10];case 9:try{i&&!i.done&&(a=n.return)&&a.call(n)}finally{if(u)throw u.error}return[7];case 10:return this[t].length?[4,this.runQueuedFunctions(t)]:[3,12];case 11:l.sent(),l.label=12;case 12:return[2]}})})},e.prototype.track=function(t,r,n){var i=ka(t,r,n);return ae(this.dispatch(i))},e.prototype.identify=function(t,r){var n=Fo(t,r);return ae(this.dispatch(n))},e.prototype.groupIdentify=function(t,r,n,i){var o=Ra(t,r,n,i);return ae(this.dispatch(o))},e.prototype.setGroup=function(t,r,n){var i=$a(t,r,n);return ae(this.dispatch(i))},e.prototype.revenue=function(t,r){var n=Na(t,r);return ae(this.dispatch(n))},e.prototype.add=function(t){return this.isReady?this._addPlugin(t):(this.q.push(this._addPlugin.bind(this,t)),ae())},e.prototype._addPlugin=function(t){return ae(this.timeline.register(t,this.config))},e.prototype.remove=function(t){return this.isReady?this._removePlugin(t):(this.q.push(this._removePlugin.bind(this,t)),ae())},e.prototype._removePlugin=function(t){return ae(this.timeline.deregister(t,this.config))},e.prototype.dispatchWithCallback=function(t,r){if(!this.isReady)return r(kt(t,0,ga));this.process(t).then(r)},e.prototype.dispatch=function(t){return b(this,void 0,void 0,function(){var r=this;return x(this,function(n){return this.isReady?[2,this.process(t)]:[2,new Promise(function(i){r.dispatchQ.push(r.dispatchWithCallback.bind(r,t,i))})]})})},e.prototype.process=function(t){return b(this,void 0,void 0,function(){var i,r,n,i;return x(this,function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),this.config.optOut?[2,kt(t,0,_a)]:[4,this.timeline.push(t)];case 1:return i=o.sent(),i.code===200?this.config.loggerProvider.log(i.message):i.code===100?this.config.loggerProvider.warn(i.message):this.config.loggerProvider.error(i.message),[2,i];case 2:return r=o.sent(),n=String(r),this.config.loggerProvider.error(n),i=kt(t,0,n),[2,i];case 3:return[2]}})})},e.prototype.setOptOut=function(t){if(!this.isReady){this.q.push(this._setOptOut.bind(this,!!t));return}this._setOptOut(t)},e.prototype._setOptOut=function(t){this.config.optOut=!!t},e.prototype.flush=function(){return ae(this.timeline.flush())},e}(),La=function(){function e(){this.productId="",this.quantity=1,this.price=0}return e.prototype.setProductId=function(t){return this.productId=t,this},e.prototype.setQuantity=function(t){return t>0&&(this.quantity=t),this},e.prototype.setPrice=function(t){return this.price=t,this},e.prototype.setRevenueType=function(t){return this.revenueType=t,this},e.prototype.setRevenue=function(t){return this.revenue=t,this},e.prototype.setEventProperties=function(t){return jn(t)&&(this.properties=t),this},e.prototype.getEventProperties=function(){var t=this.properties?T({},this.properties):{};return t[et.REVENUE_PRODUCT_ID]=this.productId,t[et.REVENUE_QUANTITY]=this.quantity,t[et.REVENUE_PRICE]=this.price,t[et.REVENUE_TYPE]=this.revenueType,t[et.REVENUE]=this.revenue,t},e}(),Oa=function(e,t){var r=Math.max(t,1);return e.reduce(function(n,i,o){var s=Math.floor(o/r);return n[s]||(n[s]=[]),n[s].push(i),n},[])},Lr="Amplitude Logger ",Uo=function(){function e(){this.logLevel=ue.None}return e.prototype.disable=function(){this.logLevel=ue.None},e.prototype.enable=function(t){t===void 0&&(t=ue.Warn),this.logLevel=t},e.prototype.log=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];this.logLevel<ue.Verbose||console.log("".concat(Lr,"[Log]: ").concat(t.join(" ")))},e.prototype.warn=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];this.logLevel<ue.Warn||console.warn("".concat(Lr,"[Warn]: ").concat(t.join(" ")))},e.prototype.error=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];this.logLevel<ue.Error||console.error("".concat(Lr,"[Error]: ").concat(t.join(" ")))},e.prototype.debug=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];this.logLevel<ue.Debug||console.log("".concat(Lr,"[Debug]: ").concat(t.join(" ")))},e}(),Fr=function(){return{flushMaxRetries:12,flushQueueSize:200,flushIntervalMillis:1e4,instanceName:"$default_instance",logLevel:ue.Warn,loggerProvider:new Uo,offline:!1,optOut:!1,serverUrl:Oo,serverZone:"US",useBatch:!1}},Pa=function(){function e(t){var r,n,i,o;this._optOut=!1;var s=Fr();this.apiKey=t.apiKey,this.flushIntervalMillis=(r=t.flushIntervalMillis)!==null&&r!==void 0?r:s.flushIntervalMillis,this.flushMaxRetries=t.flushMaxRetries||s.flushMaxRetries,this.flushQueueSize=t.flushQueueSize||s.flushQueueSize,this.instanceName=t.instanceName||s.instanceName,this.loggerProvider=t.loggerProvider||s.loggerProvider,this.logLevel=(n=t.logLevel)!==null&&n!==void 0?n:s.logLevel,this.minIdLength=t.minIdLength,this.plan=t.plan,this.ingestionMetadata=t.ingestionMetadata,this.offline=t.offline!==void 0?t.offline:s.offline,this.optOut=(i=t.optOut)!==null&&i!==void 0?i:s.optOut,this.serverUrl=t.serverUrl,this.serverZone=t.serverZone||s.serverZone,this.storageProvider=t.storageProvider,this.transportProvider=t.transportProvider,this.useBatch=(o=t.useBatch)!==null&&o!==void 0?o:s.useBatch,this.loggerProvider.enable(this.logLevel);var c=Mo(t.serverUrl,t.serverZone,t.useBatch);this.serverZone=c.serverZone,this.serverUrl=c.serverUrl}return Object.defineProperty(e.prototype,"optOut",{get:function(){return this._optOut},set:function(t){this._optOut=t},enumerable:!1,configurable:!0}),e}(),Fa=function(e,t){return e==="EU"?t?Sa:Ta:t?Aa:Oo},Mo=function(e,t,r){if(e===void 0&&(e=""),t===void 0&&(t=Fr().serverZone),r===void 0&&(r=Fr().useBatch),e)return{serverUrl:e,serverZone:void 0};var n=["US","EU"].includes(t)?t:Fr().serverZone;return{serverZone:n,serverUrl:Fa(n,r)}},Ua=function(){function e(){this.sdk={metrics:{histogram:{}}}}return e.prototype.recordHistogram=function(t,r){this.sdk.metrics.histogram[t]=r},e}();function Ma(e){return e instanceof Error?e.message:String(e)}function Or(e){var t="";try{"body"in e&&(t=JSON.stringify(e.body,null,2))}catch{}return t}var Ba=function(){function e(){this.name="amplitude",this.type="destination",this.retryTimeout=1e3,this.throttleTimeout=3e4,this.storageKey="",this.scheduled=null,this.queue=[]}return e.prototype.setup=function(t){var r;return b(this,void 0,void 0,function(){var n,i=this;return x(this,function(o){switch(o.label){case 0:return this.config=t,this.storageKey="".concat(Ia,"_").concat(this.config.apiKey.substring(0,10)),[4,(r=this.config.storageProvider)===null||r===void 0?void 0:r.get(this.storageKey)];case 1:return n=o.sent(),n&&n.length>0&&Promise.all(n.map(function(s){return i.execute(s)})).catch(),[2,Promise.resolve(void 0)]}})})},e.prototype.execute=function(t){var r=this;return t.insert_id||(t.insert_id=Nt()),new Promise(function(n){var i={event:t,attempts:0,callback:function(o){return n(o)},timeout:0};r.addToQueue(i)})},e.prototype.getTryableList=function(t){var r=this;return t.filter(function(n){return n.attempts<r.config.flushMaxRetries?(n.attempts+=1,!0):(r.fulfillRequest([n],500,va),!1)})},e.prototype.scheduleTryable=function(t,r){var n=this;r===void 0&&(r=!1),t.forEach(function(i){if(r&&(n.queue=n.queue.concat(i)),i.timeout===0){n.schedule(n.config.flushIntervalMillis);return}setTimeout(function(){i.timeout=0,n.schedule(0)},i.timeout)})},e.prototype.addToQueue=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var n=this.getTryableList(t);this.scheduleTryable(n,!0),this.saveEvents()},e.prototype.schedule=function(t){var r=this;this.scheduled||this.config.offline||(this.scheduled=setTimeout(function(){r.flush(!0).then(function(){r.queue.length>0&&r.schedule(t)})},t))},e.prototype.flush=function(t){return t===void 0&&(t=!1),b(this,void 0,void 0,function(){var r,n,i,o=this;return x(this,function(s){switch(s.label){case 0:return this.config.offline?(this.config.loggerProvider.debug("Skipping flush while offline."),[2]):(r=[],n=[],this.queue.forEach(function(c){return c.timeout===0?r.push(c):n.push(c)}),this.scheduled&&(clearTimeout(this.scheduled),this.scheduled=null),i=Oa(r,this.config.flushQueueSize),[4,i.reduce(function(c,u){return b(o,void 0,void 0,function(){return x(this,function(a){switch(a.label){case 0:return[4,c];case 1:return a.sent(),[4,this.send(u,t)];case 2:return[2,a.sent()]}})})},Promise.resolve())]);case 1:return s.sent(),this.scheduleTryable(n),[2]}})})},e.prototype.send=function(t,r){return r===void 0&&(r=!0),b(this,void 0,void 0,function(){var n,i,o,s,c;return x(this,function(u){switch(u.label){case 0:if(!this.config.apiKey)return[2,this.fulfillRequest(t,400,ha)];n={api_key:this.config.apiKey,events:t.map(function(a){var l=a.event,d=l.extra,f=Qn(l,["extra"]);return f}),options:{min_id_length:this.config.minIdLength},client_upload_time:new Date().toISOString(),request_metadata:this.config.requestMetadata},this.config.requestMetadata=new Ua,u.label=1;case 1:return u.trys.push([1,3,,4]),i=Mo(this.config.serverUrl,this.config.serverZone,this.config.useBatch).serverUrl,[4,this.config.transportProvider.send(i,n)];case 2:return o=u.sent(),o===null?(this.fulfillRequest(t,0,pa),[2]):r?(this.handleResponse(o,t),[3,4]):("body"in o?this.fulfillRequest(t,o.statusCode,"".concat(o.status,": ").concat(Or(o))):this.fulfillRequest(t,o.statusCode,o.status),[2]);case 3:return s=u.sent(),c=Ma(s),this.config.loggerProvider.error(c),this.handleResponse({status:M.Failed,statusCode:0},t),[3,4];case 4:return[2]}})})},e.prototype.handleResponse=function(t,r){var n=t.status;switch(n){case M.Success:{this.handleSuccessResponse(t,r);break}case M.Invalid:{this.handleInvalidResponse(t,r);break}case M.PayloadTooLarge:{this.handlePayloadTooLargeResponse(t,r);break}case M.RateLimit:{this.handleRateLimitResponse(t,r);break}default:{this.config.loggerProvider.warn(`{code: 0, error: "Status '`.concat(n,"' provided for ").concat(r.length,' events"}')),this.handleOtherResponse(r);break}}},e.prototype.handleSuccessResponse=function(t,r){this.fulfillRequest(r,t.statusCode,da)},e.prototype.handleInvalidResponse=function(t,r){var n=this;if(t.body.missingField||t.body.error.startsWith(ma)){this.fulfillRequest(r,t.statusCode,t.body.error);return}var i=Ct(Ct(Ct(Ct([],_e(Object.values(t.body.eventsWithInvalidFields)),!1),_e(Object.values(t.body.eventsWithMissingFields)),!1),_e(Object.values(t.body.eventsWithInvalidIdLengths)),!1),_e(t.body.silencedEvents),!1).flat(),o=new Set(i),s=r.filter(function(u,a){if(o.has(a)){n.fulfillRequest([u],t.statusCode,t.body.error);return}return!0});s.length>0&&this.config.loggerProvider.warn(Or(t));var c=this.getTryableList(s);this.scheduleTryable(c)},e.prototype.handlePayloadTooLargeResponse=function(t,r){if(r.length===1){this.fulfillRequest(r,t.statusCode,t.body.error);return}this.config.loggerProvider.warn(Or(t)),this.config.flushQueueSize/=2;var n=this.getTryableList(r);this.scheduleTryable(n)},e.prototype.handleRateLimitResponse=function(t,r){var n=this,i=Object.keys(t.body.exceededDailyQuotaUsers),o=Object.keys(t.body.exceededDailyQuotaDevices),s=t.body.throttledEvents,c=new Set(i),u=new Set(o),a=new Set(s),l=r.filter(function(f,p){if(f.event.user_id&&c.has(f.event.user_id)||f.event.device_id&&u.has(f.event.device_id)){n.fulfillRequest([f],t.statusCode,t.body.error);return}return a.has(p)&&(f.timeout=n.throttleTimeout),!0});l.length>0&&this.config.loggerProvider.warn(Or(t));var d=this.getTryableList(l);this.scheduleTryable(d)},e.prototype.handleOtherResponse=function(t){var r=this,n=t.map(function(o){return o.timeout=o.attempts*r.retryTimeout,o}),i=this.getTryableList(n);this.scheduleTryable(i)},e.prototype.fulfillRequest=function(t,r,n){this.removeEvents(t),t.forEach(function(i){return i.callback(kt(i.event,r,n))})},e.prototype.saveEvents=function(){if(this.config.storageProvider){var t=this.queue.map(function(r){return r.event});this.config.storageProvider.set(this.storageKey,t)}},e.prototype.removeEvents=function(t){this.queue=this.queue.filter(function(r){return!t.some(function(n){return n.event.insert_id===r.event.insert_id})}),this.saveEvents()},e}(),Ga=function(e){e===void 0&&(e=0);var t=new Error().stack||"";return t.split(`
`).slice(2+e).map(function(r){return r.trim()})},B=function(e){return function(){var t=T({},e.config),r=t.loggerProvider,n=t.logLevel;return{logger:r,logLevel:n}}},Va=function(e,t){var r,n;t=t.replace(/\[(\w+)\]/g,".$1"),t=t.replace(/^\./,"");try{for(var i=Rt(t.split(".")),o=i.next();!o.done;o=i.next()){var s=o.value;if(s in e)e=e[s];else return}}catch(c){r={error:c}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return e},G=function(e,t){return function(){var r,n,i={};try{for(var o=Rt(t),s=o.next();!s.done;s=o.next()){var c=s.value;i[c]=Va(e,c)}}catch(u){r={error:u}}finally{try{s&&!s.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return i}},V=function(e,t,r,n,i){return i===void 0&&(i=null),function(){for(var o=[],s=0;s<arguments.length;s++)o[s]=arguments[s];var c=r(),u=c.logger,a=c.logLevel;if(a&&a<ue.Debug||!a||!u)return e.apply(i,o);var l={type:"invoke public method",name:t,args:o,stacktrace:Ga(1),time:{start:new Date().toISOString()},states:{}};n&&l.states&&(l.states.before=n());var d=e.apply(i,o);return d&&d.promise?d.promise.then(function(){n&&l.states&&(l.states.after=n()),l.time&&(l.time.end=new Date().toISOString()),u.debug(JSON.stringify(l,null,2))}):(n&&l.states&&(l.states.after=n()),l.time&&(l.time.end=new Date().toISOString()),u.debug(JSON.stringify(l,null,2))),d}},Kn=function(){function e(){this.memoryStorage=new Map}return e.prototype.isEnabled=function(){return b(this,void 0,void 0,function(){return x(this,function(t){return[2,!0]})})},e.prototype.get=function(t){return b(this,void 0,void 0,function(){return x(this,function(r){return[2,this.memoryStorage.get(t)]})})},e.prototype.getRaw=function(t){return b(this,void 0,void 0,function(){var r;return x(this,function(n){switch(n.label){case 0:return[4,this.get(t)];case 1:return r=n.sent(),[2,r?JSON.stringify(r):void 0]}})})},e.prototype.set=function(t,r){return b(this,void 0,void 0,function(){return x(this,function(n){return this.memoryStorage.set(t,r),[2]})})},e.prototype.remove=function(t){return b(this,void 0,void 0,function(){return x(this,function(r){return this.memoryStorage.delete(t),[2]})})},e.prototype.reset=function(){return b(this,void 0,void 0,function(){return x(this,function(t){return this.memoryStorage.clear(),[2]})})},e}(),Jn=function(){function e(){}return e.prototype.send=function(t,r){return Promise.resolve(null)},e.prototype.buildResponse=function(t){var r,n,i,o,s,c,u,a,l,d,f,p,g,h,y,v,m,w,E,L,A,I;if(typeof t!="object")return null;var R=t.code||0,O=this.buildStatus(R);switch(O){case M.Success:return{status:O,statusCode:R,body:{eventsIngested:(r=t.events_ingested)!==null&&r!==void 0?r:0,payloadSizeBytes:(n=t.payload_size_bytes)!==null&&n!==void 0?n:0,serverUploadTime:(i=t.server_upload_time)!==null&&i!==void 0?i:0}};case M.Invalid:return{status:O,statusCode:R,body:{error:(o=t.error)!==null&&o!==void 0?o:"",missingField:(s=t.missing_field)!==null&&s!==void 0?s:"",eventsWithInvalidFields:(c=t.events_with_invalid_fields)!==null&&c!==void 0?c:{},eventsWithMissingFields:(u=t.events_with_missing_fields)!==null&&u!==void 0?u:{},eventsWithInvalidIdLengths:(a=t.events_with_invalid_id_lengths)!==null&&a!==void 0?a:{},epsThreshold:(l=t.eps_threshold)!==null&&l!==void 0?l:0,exceededDailyQuotaDevices:(d=t.exceeded_daily_quota_devices)!==null&&d!==void 0?d:{},silencedDevices:(f=t.silenced_devices)!==null&&f!==void 0?f:[],silencedEvents:(p=t.silenced_events)!==null&&p!==void 0?p:[],throttledDevices:(g=t.throttled_devices)!==null&&g!==void 0?g:{},throttledEvents:(h=t.throttled_events)!==null&&h!==void 0?h:[]}};case M.PayloadTooLarge:return{status:O,statusCode:R,body:{error:(y=t.error)!==null&&y!==void 0?y:""}};case M.RateLimit:return{status:O,statusCode:R,body:{error:(v=t.error)!==null&&v!==void 0?v:"",epsThreshold:(m=t.eps_threshold)!==null&&m!==void 0?m:0,throttledDevices:(w=t.throttled_devices)!==null&&w!==void 0?w:{},throttledUsers:(E=t.throttled_users)!==null&&E!==void 0?E:{},exceededDailyQuotaDevices:(L=t.exceeded_daily_quota_devices)!==null&&L!==void 0?L:{},exceededDailyQuotaUsers:(A=t.exceeded_daily_quota_users)!==null&&A!==void 0?A:{},throttledEvents:(I=t.throttled_events)!==null&&I!==void 0?I:[]}};case M.Timeout:default:return{status:O,statusCode:R}}},e.prototype.buildStatus=function(t){return t>=200&&t<300?M.Success:t===429?M.RateLimit:t===413?M.PayloadTooLarge:t===408?M.Timeout:t>=400&&t<500?M.Invalid:t>=500?M.Failed:M.Unknown},e}(),Ce=function(){var e="ampIntegrationContext";if(typeof globalThis<"u"&&typeof globalThis[e]<"u")return globalThis[e];if(typeof globalThis<"u")return globalThis;if(typeof window<"u")return window;if(typeof self<"u")return self;if(typeof global<"u")return global},Br=function(){var e,t=Ce();if(!(!((e=t?.location)===null||e===void 0)&&e.search))return{};var r=t.location.search.substring(1).split("&").filter(Boolean),n=r.reduce(function(i,o){var s=o.split("=",2),c=_o(s[0]),u=_o(s[1]);return u&&(i[c]=u),i},{});return n},_o=function(e){e===void 0&&(e="");try{return decodeURIComponent(e)}catch{return""}},qa="utm_campaign",Wa="utm_content",Ya="utm_id",Xa="utm_medium",Ha="utm_source",Qa="utm_term",ho="dclid",mo="fbclid",go="gbraid",yo="gclid",bo="ko_click_id",xo="li_fat_id",wo="msclkid",Eo="rtd_cid",Io="ttclid",To="twclid",Ao="wbraid",qr={utm_campaign:void 0,utm_content:void 0,utm_id:void 0,utm_medium:void 0,utm_source:void 0,utm_term:void 0,referrer:void 0,referring_domain:void 0,dclid:void 0,gbraid:void 0,gclid:void 0,fbclid:void 0,ko_click_id:void 0,li_fat_id:void 0,msclkid:void 0,rtd_cid:void 0,ttclid:void 0,twclid:void 0,wbraid:void 0},Bo=function(){function e(){}return e.prototype.parse=function(){return b(this,void 0,void 0,function(){return x(this,function(t){return[2,T(T(T(T({},qr),this.getUtmParam()),this.getReferrer()),this.getClickIds())]})})},e.prototype.getUtmParam=function(){var t=Br(),r=t[qa],n=t[Wa],i=t[Ya],o=t[Xa],s=t[Ha],c=t[Qa];return{utm_campaign:r,utm_content:n,utm_id:i,utm_medium:o,utm_source:s,utm_term:c}},e.prototype.getReferrer=function(){var t,r,n={referrer:void 0,referring_domain:void 0};try{n.referrer=document.referrer||void 0,n.referring_domain=(r=(t=n.referrer)===null||t===void 0?void 0:t.split("/")[2])!==null&&r!==void 0?r:void 0}catch{}return n},e.prototype.getClickIds=function(){var t,r=Br();return t={},t[ho]=r[ho],t[mo]=r[mo],t[go]=r[go],t[yo]=r[yo],t[bo]=r[bo],t[xo]=r[xo],t[wo]=r[wo],t[Eo]=r[Eo],t[Io]=r[Io],t[To]=r[To],t[Ao]=r[Ao],t},e}(),Go=function(e,t,r){return t===void 0&&(t=""),r===void 0&&(r=10),[Vr,t,e.substring(0,r)].filter(Boolean).join("_")},Za=function(e){return"".concat(Vr.toLowerCase(),"_").concat(e.substring(0,6))},So=function(e){var t=e.split(".");return t.length<=2?e:t.slice(t.length-2,t.length).join(".")},ja=function(e){return Object.values(e).every(function(t){return!t})},za=function(e,t,r,n,i){i===void 0&&(i=!0);var o=e.referrer,s=e.referring_domain,c=Qn(e,["referrer","referring_domain"]),u=t||{},a=u.referrer,l=u.referring_domain,d=Qn(u,["referrer","referring_domain"]);if(Ka(r.excludeReferrers,e.referring_domain))return n.debug("This is not a new campaign because ".concat(e.referring_domain," is in the exclude referrer list.")),!1;if(!i&&ja(e)&&t)return n.debug("This is not a new campaign because this is a direct traffic in the same session."),!1;var f=JSON.stringify(c)!==JSON.stringify(d),p=So(s||"")!==So(l||""),g=!t||f||p;return g?n.debug("This is a new campaign. An $identify event will be sent."):n.debug("This is not a new campaign because it's the same as the previous one."),g},Ka=function(e,t){return e===void 0&&(e=[]),t===void 0&&(t=""),e.some(function(r){return r instanceof RegExp?r.test(t):r===t})},Ja=function(e,t){var r=T(T({},qr),e),n=Object.entries(r).reduce(function(i,o){var s,c=_e(o,2),u=c[0],a=c[1];return i.setOnce("initial_".concat(u),(s=a??t.initialEmptyValue)!==null&&s!==void 0?s:"EMPTY"),a?i.set(u,a):i.unset(u)},new $t);return Fo(n)},eu=function(e){var t=e;return t?(t.startsWith(".")&&(t=t.substring(1)),[new RegExp("".concat(t.replace(".","\\."),"$"))]):[]},tu=function(e,t,r){return t===void 0&&(t=""),r===void 0&&(r=10),[Vr,t,e.substring(0,r)].filter(Boolean).join("_")},Vo=function(e,t){t===void 0&&(t=Date.now());var r=Date.now(),n=r-t;return n>e},ru=function(){function e(t,r){var n;this.shouldTrackNewCampaign=!1,this.options=T({initialEmptyValue:"EMPTY",resetSessionOnNewCampaign:!1,excludeReferrers:eu((n=r.cookieOptions)===null||n===void 0?void 0:n.domain)},t),this.storage=r.cookieStorage,this.storageKey=tu(r.apiKey,"MKTG"),this.currentCampaign=qr,this.sessionTimeout=r.sessionTimeout,this.lastEventTime=r.lastEventTime,this.logger=r.loggerProvider,r.loggerProvider.log("Installing web attribution tracking.")}return e.prototype.init=function(){return b(this,void 0,void 0,function(){var t,r;return x(this,function(n){switch(n.label){case 0:return[4,this.fetchCampaign()];case 1:return r=_e.apply(void 0,[n.sent(),2]),this.currentCampaign=r[0],this.previousCampaign=r[1],t=this.lastEventTime?Vo(this.sessionTimeout,this.lastEventTime):!0,za(this.currentCampaign,this.previousCampaign,this.options,this.logger,t)?(this.shouldTrackNewCampaign=!0,[4,this.storage.set(this.storageKey,this.currentCampaign)]):[3,3];case 2:n.sent(),n.label=3;case 3:return[2]}})})},e.prototype.fetchCampaign=function(){return b(this,void 0,void 0,function(){return x(this,function(t){switch(t.label){case 0:return[4,Promise.all([new Bo().parse(),this.storage.get(this.storageKey)])];case 1:return[2,t.sent()]}})})},e.prototype.generateCampaignEvent=function(t){this.shouldTrackNewCampaign=!1;var r=Ja(this.currentCampaign,this.options);return t&&(r.event_id=t),r},e.prototype.shouldSetSessionIdOnNewCampaign=function(){return this.shouldTrackNewCampaign&&!!this.options.resetSessionOnNewCampaign},e}(),zn=function(){function e(t){this.options=T({},t)}return e.prototype.isEnabled=function(){return b(this,void 0,void 0,function(){var t,r,n,i;return x(this,function(o){switch(o.label){case 0:if(!Ce())return[2,!1];e.testValue=String(Date.now()),t=new e(this.options),r="AMP_TEST",o.label=1;case 1:return o.trys.push([1,4,5,7]),[4,t.set(r,e.testValue)];case 2:return o.sent(),[4,t.get(r)];case 3:return n=o.sent(),[2,n===e.testValue];case 4:return i=o.sent(),[2,!1];case 5:return[4,t.remove(r)];case 6:return o.sent(),[7];case 7:return[2]}})})},e.prototype.get=function(t){var r;return b(this,void 0,void 0,function(){var n,i;return x(this,function(o){switch(o.label){case 0:return[4,this.getRaw(t)];case 1:if(n=o.sent(),!n)return[2,void 0];try{return i=(r=nu(n))!==null&&r!==void 0?r:iu(n),i===void 0?(console.error("Amplitude Logger [Error]: Failed to decode cookie value for key: ".concat(t,", value: ").concat(n)),[2,void 0]):[2,JSON.parse(i)]}catch{return console.error("Amplitude Logger [Error]: Failed to parse cookie value for key: ".concat(t,", value: ").concat(n)),[2,void 0]}return[2]}})})},e.prototype.getRaw=function(t){var r,n;return b(this,void 0,void 0,function(){var i,o,s;return x(this,function(c){return i=Ce(),o=(n=(r=i?.document)===null||r===void 0?void 0:r.cookie.split("; "))!==null&&n!==void 0?n:[],s=o.find(function(u){return u.indexOf(t+"=")===0}),s?[2,s.substring(t.length+1)]:[2,void 0]})})},e.prototype.set=function(t,r){var n;return b(this,void 0,void 0,function(){var i,o,s,c,u,a,l;return x(this,function(d){try{i=(n=this.options.expirationDays)!==null&&n!==void 0?n:0,o=r!==null?i:-1,s=void 0,o&&(c=new Date,c.setTime(c.getTime()+o*24*60*60*1e3),s=c),u="".concat(t,"=").concat(btoa(encodeURIComponent(JSON.stringify(r)))),s&&(u+="; expires=".concat(s.toUTCString())),u+="; path=/",this.options.domain&&(u+="; domain=".concat(this.options.domain)),this.options.secure&&(u+="; Secure"),this.options.sameSite&&(u+="; SameSite=".concat(this.options.sameSite)),a=Ce(),a&&(a.document.cookie=u)}catch(f){l=f instanceof Error?f.message:String(f),console.error("Amplitude Logger [Error]: Failed to set cookie for key: ".concat(t,". Error: ").concat(l))}return[2]})})},e.prototype.remove=function(t){return b(this,void 0,void 0,function(){return x(this,function(r){switch(r.label){case 0:return[4,this.set(t,null)];case 1:return r.sent(),[2]}})})},e.prototype.reset=function(){return b(this,void 0,void 0,function(){return x(this,function(t){return[2]})})},e}(),nu=function(e){try{return decodeURIComponent(atob(e))}catch{return}},iu=function(e){try{return decodeURIComponent(atob(decodeURIComponent(e)))}catch{return}},ou=function(e){ct(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.send=function(r,n){return b(this,void 0,void 0,function(){var i,o,s;return x(this,function(c){switch(c.label){case 0:if(typeof fetch>"u")throw new Error("FetchTransport is not supported");return i={headers:{"Content-Type":"application/json",Accept:"*/*"},body:JSON.stringify(n),method:"POST"},[4,fetch(r,i)];case 1:return o=c.sent(),[4,o.text()];case 2:s=c.sent();try{return[2,this.buildResponse(JSON.parse(s))]}catch{return[2,this.buildResponse({code:o.status})]}return[2]}})})},t}(Jn),su=function(){function e(){}return e.prototype.getApplicationContext=function(){return{versionName:this.versionName,language:au(),platform:"Web",os:void 0,deviceModel:void 0}},e}(),au=function(){return typeof navigator<"u"&&(navigator.languages&&navigator.languages[0]||navigator.language)||""},uu=function(){function e(){this.queue=[]}return e.prototype.logEvent=function(t){this.receiver?this.receiver(t):this.queue.length<512&&this.queue.push(t)},e.prototype.setEventReceiver=function(t){this.receiver=t,this.queue.length>0&&(this.queue.forEach(function(r){t(r)}),this.queue=[])},e}(),Je=function(){return Je=Object.assign||function(t){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])}return t},Je.apply(this,arguments)};function Ur(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Co(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),i,o=[],s;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(c){s={error:c}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(s)throw s.error}}return o}var Mr=function(e,t){var r,n,i=["string","number","boolean","undefined"],o=typeof e,s=typeof t;if(o!==s)return!1;try{for(var c=Ur(i),u=c.next();!u.done;u=c.next()){var a=u.value;if(a===o)return e===t}}catch(y){r={error:y}}finally{try{u&&!u.done&&(n=c.return)&&n.call(c)}finally{if(r)throw r.error}}if(e==null&&t==null)return!0;if(e==null||t==null||e.length!==t.length)return!1;var l=Array.isArray(e),d=Array.isArray(t);if(l!==d)return!1;if(l&&d){for(var f=0;f<e.length;f++)if(!Mr(e[f],t[f]))return!1}else{var p=Object.keys(e).sort(),g=Object.keys(t).sort();if(!Mr(p,g))return!1;var h=!0;return Object.keys(e).forEach(function(y){Mr(e[y],t[y])||(h=!1)}),h}return!0},lu="$set",cu="$unset",fu="$clearAll";Object.entries||(Object.entries=function(e){for(var t=Object.keys(e),r=t.length,n=new Array(r);r--;)n[r]=[t[r],e[t[r]]];return n});var du=function(){function e(){this.identity={userProperties:{}},this.listeners=new Set}return e.prototype.editIdentity=function(){var t=this,r=Je({},this.identity.userProperties),n=Je(Je({},this.identity),{userProperties:r});return{setUserId:function(i){return n.userId=i,this},setDeviceId:function(i){return n.deviceId=i,this},setUserProperties:function(i){return n.userProperties=i,this},setOptOut:function(i){return n.optOut=i,this},updateUserProperties:function(i){var o,s,c,u,a,l,d=n.userProperties||{};try{for(var f=Ur(Object.entries(i)),p=f.next();!p.done;p=f.next()){var g=Co(p.value,2),h=g[0],y=g[1];switch(h){case lu:try{for(var v=(c=void 0,Ur(Object.entries(y))),m=v.next();!m.done;m=v.next()){var w=Co(m.value,2),E=w[0],L=w[1];d[E]=L}}catch(R){c={error:R}}finally{try{m&&!m.done&&(u=v.return)&&u.call(v)}finally{if(c)throw c.error}}break;case cu:try{for(var A=(a=void 0,Ur(Object.keys(y))),I=A.next();!I.done;I=A.next()){var E=I.value;delete d[E]}}catch(R){a={error:R}}finally{try{I&&!I.done&&(l=A.return)&&l.call(A)}finally{if(a)throw a.error}}break;case fu:d={};break}}}catch(R){o={error:R}}finally{try{p&&!p.done&&(s=f.return)&&s.call(f)}finally{if(o)throw o.error}}return n.userProperties=d,this},commit:function(){return t.setIdentity(n),this}}},e.prototype.getIdentity=function(){return Je({},this.identity)},e.prototype.setIdentity=function(t){var r=Je({},this.identity);this.identity=Je({},t),Mr(r,this.identity)||this.listeners.forEach(function(n){n(t)})},e.prototype.addIdentityListener=function(t){this.listeners.add(t)},e.prototype.removeIdentityListener=function(t){this.listeners.delete(t)},e}(),er=typeof globalThis<"u"?globalThis:typeof global<"u"?global:self,pu=function(){function e(){this.identityStore=new du,this.eventBridge=new uu,this.applicationContextProvider=new su}return e.getInstance=function(t){return er.analyticsConnectorInstances||(er.analyticsConnectorInstances={}),er.analyticsConnectorInstances[t]||(er.analyticsConnectorInstances[t]=new e),er.analyticsConnectorInstances[t]},e}(),tr=function(e){return e===void 0&&(e="$default_instance"),pu.getInstance(e)},vu=function(e,t){tr(t).identityStore.editIdentity().setUserId(e).commit()},_u=function(e,t){tr(t).identityStore.editIdentity().setDeviceId(e).commit()},hu=function(){function e(){this.name="identity",this.type="before",this.identityStore=tr().identityStore}return e.prototype.execute=function(t){return b(this,void 0,void 0,function(){var r;return x(this,function(n){return r=t.user_properties,r&&this.identityStore.editIdentity().updateUserProperties(r).commit(),[2,t]})})},e.prototype.setup=function(t){return b(this,void 0,void 0,function(){return x(this,function(r){return t.instanceName&&(this.identityStore=tr(t.instanceName).identityStore),[2]})})},e}(),mu=function(){var e,t,r,n;if(typeof navigator>"u")return"";var i=navigator.userLanguage;return(n=(r=(t=(e=navigator.languages)===null||e===void 0?void 0:e[0])!==null&&t!==void 0?t:navigator.language)!==null&&r!==void 0?r:i)!==null&&n!==void 0?n:""},rr=function(e,t){return typeof e=="boolean"?e:e?.[t]!==!1},qo=function(e){return rr(e,"attribution")},gu=function(e){return rr(e,"fileDownloads")},yu=function(e){return rr(e,"formInteractions")},Wo=function(e){return rr(e,"pageViews")},ko=function(e){return rr(e,"sessions")},bu=function(e){var t=function(){return!1},r=void 0,n,i=e.pageCounter,o=Wo(e.defaultTracking);return o&&(t=void 0,n=void 0,e.defaultTracking&&typeof e.defaultTracking=="object"&&e.defaultTracking.pageViews&&typeof e.defaultTracking.pageViews=="object"&&("trackOn"in e.defaultTracking.pageViews&&(t=e.defaultTracking.pageViews.trackOn),"trackHistoryChanges"in e.defaultTracking.pageViews&&(r=e.defaultTracking.pageViews.trackHistoryChanges),"eventType"in e.defaultTracking.pageViews&&e.defaultTracking.pageViews.eventType&&(n=e.defaultTracking.pageViews.eventType))),{trackOn:t,trackHistoryChanges:r,eventType:n,pageCounter:i}},xu=function(e){return qo(e.defaultTracking)&&e.defaultTracking&&typeof e.defaultTracking=="object"&&e.defaultTracking.attribution&&typeof e.defaultTracking.attribution=="object"?T({},e.defaultTracking.attribution):{}};var Gn=function(e,t){for(var r=0;r<t.length;r++){var n=t[r],i=n.name,o=n.args,s=n.resolve,c=e&&e[i];if(typeof c=="function"){var u=c.apply(e,o);typeof s=="function"&&s(u?.promise)}}return e},Vn=function(e){var t=e;return t&&t._q!==void 0},wu="2.9.3",Eu="Web",Iu="$remote",Tu=function(){function e(){this.name="@amplitude/plugin-context-browser",this.type="before",this.library="amplitude-ts/".concat(wu),typeof navigator<"u"&&(this.userAgent=navigator.userAgent)}return e.prototype.setup=function(t){return this.config=t,Promise.resolve(void 0)},e.prototype.execute=function(t){var r,n;return b(this,void 0,void 0,function(){var i,o,s,c;return x(this,function(u){return i=new Date().getTime(),o=(r=this.config.lastEventId)!==null&&r!==void 0?r:-1,s=(n=t.event_id)!==null&&n!==void 0?n:o+1,this.config.lastEventId=s,t.time||(this.config.lastEventTime=i),c=T(T(T(T(T(T(T(T({user_id:this.config.userId,device_id:this.config.deviceId,session_id:this.config.sessionId,time:i},this.config.appVersion&&{app_version:this.config.appVersion}),this.config.trackingOptions.platform&&{platform:Eu}),this.config.trackingOptions.language&&{language:mu()}),this.config.trackingOptions.ipAddress&&{ip:Iu}),{insert_id:Nt(),partner_id:this.config.partnerId,plan:this.config.plan}),this.config.ingestionMetadata&&{ingestion_metadata:{source_name:this.config.ingestionMetadata.sourceName,source_version:this.config.ingestionMetadata.sourceVersion}}),t),{event_id:s,library:this.library,user_agent:this.userAgent}),[2,c]})})},e}(),Yo=function(){function e(t){this.storage=t}return e.prototype.isEnabled=function(){return b(this,void 0,void 0,function(){var t,r,n,i,o;return x(this,function(s){switch(s.label){case 0:if(!this.storage)return[2,!1];t=String(Date.now()),r=new e(this.storage),n="AMP_TEST",s.label=1;case 1:return s.trys.push([1,4,5,7]),[4,r.set(n,t)];case 2:return s.sent(),[4,r.get(n)];case 3:return i=s.sent(),[2,i===t];case 4:return o=s.sent(),[2,!1];case 5:return[4,r.remove(n)];case 6:return s.sent(),[7];case 7:return[2]}})})},e.prototype.get=function(t){return b(this,void 0,void 0,function(){var r,n;return x(this,function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,this.getRaw(t)];case 1:return r=i.sent(),r?[2,JSON.parse(r)]:[2,void 0];case 2:return n=i.sent(),console.error("[Amplitude] Error: Could not get value from storage"),[2,void 0];case 3:return[2]}})})},e.prototype.getRaw=function(t){var r;return b(this,void 0,void 0,function(){return x(this,function(n){return[2,((r=this.storage)===null||r===void 0?void 0:r.getItem(t))||void 0]})})},e.prototype.set=function(t,r){var n;return b(this,void 0,void 0,function(){return x(this,function(i){try{(n=this.storage)===null||n===void 0||n.setItem(t,JSON.stringify(r))}catch{}return[2]})})},e.prototype.remove=function(t){var r;return b(this,void 0,void 0,function(){return x(this,function(n){try{(r=this.storage)===null||r===void 0||r.removeItem(t)}catch{}return[2]})})},e.prototype.reset=function(){var t;return b(this,void 0,void 0,function(){return x(this,function(r){try{(t=this.storage)===null||t===void 0||t.clear()}catch{}return[2]})})},e}(),Pr=1e3,Xo=function(e){ct(t,e);function t(r){var n=this,i;return n=e.call(this,(i=Ce())===null||i===void 0?void 0:i.localStorage)||this,n.loggerProvider=r?.loggerProvider,n}return t.prototype.set=function(r,n){var i;return b(this,void 0,void 0,function(){var o;return x(this,function(s){switch(s.label){case 0:return Array.isArray(n)&&n.length>Pr?(o=n.length-Pr,[4,e.prototype.set.call(this,r,n.slice(0,Pr))]):[3,2];case 1:return s.sent(),(i=this.loggerProvider)===null||i===void 0||i.error("Failed to save ".concat(o," events because the queue length exceeded ").concat(Pr,".")),[3,4];case 2:return[4,e.prototype.set.call(this,r,n)];case 3:s.sent(),s.label=4;case 4:return[2]}})})},t}(Yo),Au=function(e){ct(t,e);function t(){var r;return e.call(this,(r=Ce())===null||r===void 0?void 0:r.sessionStorage)||this}return t}(Yo),Su=function(e){ct(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.state={done:4},r}return t.prototype.send=function(r,n){return b(this,void 0,void 0,function(){var i=this;return x(this,function(o){return[2,new Promise(function(s,c){typeof XMLHttpRequest>"u"&&c(new Error("XHRTransport is not supported."));var u=new XMLHttpRequest;u.open("POST",r,!0),u.onreadystatechange=function(){if(u.readyState===i.state.done){var a=u.responseText;try{s(i.buildResponse(JSON.parse(a)))}catch{s(i.buildResponse({code:u.status}))}}},u.setRequestHeader("Content-Type","application/json"),u.setRequestHeader("Accept","*/*"),u.send(JSON.stringify(n))})]})})},t}(Jn),Cu=function(e){ct(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.send=function(r,n){return b(this,void 0,void 0,function(){var i=this;return x(this,function(o){return[2,new Promise(function(s,c){var u=Ce();if(!u?.navigator.sendBeacon)throw new Error("SendBeaconTransport is not supported");try{var a=JSON.stringify(n),l=u.navigator.sendBeacon(r,JSON.stringify(n));return s(l?i.buildResponse({code:200,events_ingested:n.events.length,payload_size_bytes:a.length,server_upload_time:Date.now()}):i.buildResponse({code:500}))}catch(d){c(d)}})]})})},t}(Jn),ku=function(e,t,r){return r===void 0&&(r=!0),b(void 0,void 0,void 0,function(){var n,i,o,s,c,u,a,l,d;return x(this,function(f){switch(f.label){case 0:return n=Za(e),[4,t.getRaw(n)];case 1:return i=f.sent(),i?r?[4,t.remove(n)]:[3,3]:[2,{optOut:!1}];case 2:f.sent(),f.label=3;case 3:return o=_e(i.split("."),6),s=o[0],c=o[1],u=o[2],a=o[3],l=o[4],d=o[5],[2,{deviceId:s,userId:Ru(c),sessionId:qn(a),lastEventId:qn(d),lastEventTime:qn(l),optOut:!!u}]}})})},qn=function(e){var t=parseInt(e,32);if(!isNaN(t))return t},Ru=function(e){if(!(!atob||!escape||!e))try{return decodeURIComponent(escape(atob(e)))}catch{return}},Ee="[Amplitude]",Mx="".concat(Ee," Page Viewed"),Ro="".concat(Ee," Form Started"),$u="".concat(Ee," Form Submitted"),Nu="".concat(Ee," File Downloaded"),$o="session_start",No="session_end",Du="".concat(Ee," File Extension"),Lu="".concat(Ee," File Name"),Ou="".concat(Ee," Link ID"),Pu="".concat(Ee," Link Text"),Fu="".concat(Ee," Link URL"),Wn="".concat(Ee," Form ID"),Yn="".concat(Ee," Form Name"),Xn="".concat(Ee," Form Destination"),Gr="cookie",Uu="US",Mu=function(e){ct(t,e);function t(r,n,i,o,s,c,u,a,l,d,f,p,g,h,y,v,m,w,E,L,A,I,R,O,Ie,ke,Me,Xe,tt,Dt,Lt,ft){i===void 0&&(i=new Kn),o===void 0&&(o={domain:"",expiration:365,sameSite:"Lax",secure:!1,upgrade:!0}),u===void 0&&(u=1e3),a===void 0&&(a=5),l===void 0&&(l=30),d===void 0&&(d=Gr),y===void 0&&(y=new Uo),v===void 0&&(v=ue.Warn),w===void 0&&(w=!1),E===void 0&&(E=!1),I===void 0&&(I=""),R===void 0&&(R=Uu),Ie===void 0&&(Ie=30*60*1e3),ke===void 0&&(ke=new Xo({loggerProvider:y})),Me===void 0&&(Me={ipAddress:!0,language:!0,platform:!0}),Xe===void 0&&(Xe="fetch"),tt===void 0&&(tt=!1);var C=e.call(this,{apiKey:r,storageProvider:ke,transportProvider:Ho(Xe)})||this;return C.apiKey=r,C.appVersion=n,C.cookieOptions=o,C.defaultTracking=s,C.flushIntervalMillis=u,C.flushMaxRetries=a,C.flushQueueSize=l,C.identityStorage=d,C.ingestionMetadata=f,C.instanceName=p,C.loggerProvider=y,C.logLevel=v,C.minIdLength=m,C.offline=w,C.partnerId=L,C.plan=A,C.serverUrl=I,C.serverZone=R,C.sessionTimeout=Ie,C.storageProvider=ke,C.trackingOptions=Me,C.transport=Xe,C.useBatch=tt,C._optOut=!1,C._cookieStorage=i,C.deviceId=c,C.lastEventId=g,C.lastEventTime=h,C.optOut=E,C.sessionId=O,C.pageCounter=Lt,C.userId=Dt,C.debugLogsEnabled=ft,C.loggerProvider.enable(ft?ue.Debug:C.logLevel),C}return Object.defineProperty(t.prototype,"cookieStorage",{get:function(){return this._cookieStorage},set:function(r){this._cookieStorage!==r&&(this._cookieStorage=r,this.updateStorage())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"deviceId",{get:function(){return this._deviceId},set:function(r){this._deviceId!==r&&(this._deviceId=r,this.updateStorage())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"userId",{get:function(){return this._userId},set:function(r){this._userId!==r&&(this._userId=r,this.updateStorage())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"sessionId",{get:function(){return this._sessionId},set:function(r){this._sessionId!==r&&(this._sessionId=r,this.updateStorage())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"optOut",{get:function(){return this._optOut},set:function(r){this._optOut!==r&&(this._optOut=r,this.updateStorage())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lastEventTime",{get:function(){return this._lastEventTime},set:function(r){this._lastEventTime!==r&&(this._lastEventTime=r,this.updateStorage())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lastEventId",{get:function(){return this._lastEventId},set:function(r){this._lastEventId!==r&&(this._lastEventId=r,this.updateStorage())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"pageCounter",{get:function(){return this._pageCounter},set:function(r){this._pageCounter!==r&&(this._pageCounter=r,this.updateStorage())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"debugLogsEnabled",{set:function(r){this._debugLogsEnabled!==r&&(this._debugLogsEnabled=r,this.updateStorage())},enumerable:!1,configurable:!0}),t.prototype.updateStorage=function(){var r={deviceId:this._deviceId,userId:this._userId,sessionId:this._sessionId,optOut:this._optOut,lastEventTime:this._lastEventTime,lastEventId:this._lastEventId,pageCounter:this._pageCounter,debugLogsEnabled:this._debugLogsEnabled};this.cookieStorage.set(Go(this.apiKey),r)},t}(Pa),Bu=function(e,t,r){return t===void 0&&(t={}),b(void 0,void 0,void 0,function(){var n,i,o,s,c,u,a,l,d,f,p,g,h,y,v,m,w,E,L,A,I,R,O,Ie,ke,Me,Xe,tt,Dt,Lt,ft,C,Wr,Yr,Xr,Hr,Qr,Zr,jr,zr,Kr,Jr,en;return x(this,function(rt){switch(rt.label){case 0:return n=t.identityStorage||Gr,L={},n===Gr?[3,1]:(o="",[3,5]);case 1:return(I=(A=t.cookieOptions)===null||A===void 0?void 0:A.domain)!==null&&I!==void 0?(s=I,[3,4]):[3,2];case 2:return[4,Vu()];case 3:s=rt.sent(),rt.label=4;case 4:o=s,rt.label=5;case 5:return i=T.apply(void 0,[(L.domain=o,L.expiration=365,L.sameSite="Lax",L.secure=!1,L.upgrade=!0,L),t.cookieOptions]),c=Gu(t.identityStorage,i),[4,ku(e,c,(O=(R=t.cookieOptions)===null||R===void 0?void 0:R.upgrade)!==null&&O!==void 0?O:!0)];case 6:return u=rt.sent(),[4,c.get(Go(e))];case 7:return a=rt.sent(),l=Br(),d=(tt=(Xe=(Me=(ke=(Ie=t.deviceId)!==null&&Ie!==void 0?Ie:l.ampDeviceId)!==null&&ke!==void 0?ke:l.deviceId)!==null&&Me!==void 0?Me:a?.deviceId)!==null&&Xe!==void 0?Xe:u.deviceId)!==null&&tt!==void 0?tt:Nt(),f=(Dt=a?.lastEventId)!==null&&Dt!==void 0?Dt:u.lastEventId,p=(Lt=a?.lastEventTime)!==null&&Lt!==void 0?Lt:u.lastEventTime,g=(C=(ft=t.optOut)!==null&&ft!==void 0?ft:a?.optOut)!==null&&C!==void 0?C:u.optOut,h=(Wr=a?.sessionId)!==null&&Wr!==void 0?Wr:u.sessionId,y=(Xr=(Yr=t.userId)!==null&&Yr!==void 0?Yr:a?.userId)!==null&&Xr!==void 0?Xr:u.userId,r.previousSessionDeviceId=(Hr=a?.deviceId)!==null&&Hr!==void 0?Hr:u.deviceId,r.previousSessionUserId=(Qr=a?.userId)!==null&&Qr!==void 0?Qr:u.userId,v={ipAddress:(jr=(Zr=t.trackingOptions)===null||Zr===void 0?void 0:Zr.ipAddress)!==null&&jr!==void 0?jr:!0,language:(Kr=(zr=t.trackingOptions)===null||zr===void 0?void 0:zr.language)!==null&&Kr!==void 0?Kr:!0,platform:(en=(Jr=t.trackingOptions)===null||Jr===void 0?void 0:Jr.platform)!==null&&en!==void 0?en:!0},m=a?.pageCounter,w=a?.debugLogsEnabled,E=new Mu(e,t.appVersion,c,i,t.defaultTracking,d,t.flushIntervalMillis,t.flushMaxRetries,t.flushQueueSize,n,t.ingestionMetadata,t.instanceName,f,p,t.loggerProvider,t.logLevel,t.minIdLength,t.offline,g,t.partnerId,t.plan,t.serverUrl,t.serverZone,h,t.sessionTimeout,t.storageProvider,v,t.transport,t.useBatch,y,m,w),[4,E.storageProvider.isEnabled()];case 8:return rt.sent()||(E.loggerProvider.warn("Storage provider ".concat(E.storageProvider.constructor.name," is not enabled. Falling back to MemoryStorage.")),E.storageProvider=new Kn),[2,E]}})})},Gu=function(e,t){switch(e===void 0&&(e=Gr),t===void 0&&(t={}),e){case"localStorage":return new Xo;case"sessionStorage":return new Au;case"none":return new Kn;case"cookie":default:return new zn(T(T({},t),{expirationDays:t.expiration}))}},Ho=function(e){return e==="xhr"?new Su:e==="beacon"?new Cu:new ou},Vu=function(e){return b(void 0,void 0,void 0,function(){var t,r,n,i,o,o,s,c,u,a;return x(this,function(l){switch(l.label){case 0:return[4,new zn().isEnabled()];case 1:if(!l.sent()||!e&&(typeof location>"u"||!location.hostname))return[2,""];for(t=e??location.hostname,r=t.split("."),n=[],i="AMP_TLDTEST",o=r.length-2;o>=0;--o)n.push(r.slice(o).join("."));o=0,l.label=2;case 2:return o<n.length?(s=n[o],c={domain:"."+s},u=new zn(c),[4,u.set(i,1)]):[3,7];case 3:return l.sent(),[4,u.get(i)];case 4:return a=l.sent(),a?[4,u.remove(i)]:[3,6];case 5:return l.sent(),[2,"."+s];case 6:return o++,[3,2];case 7:return[2,""]}})})},qu=function(e){var t={};for(var r in e){var n=e[r];n&&(t[r]=n)}return t},Wu="[Amplitude] Page Viewed",Yu=function(e){e===void 0&&(e={});var t,r=Ce(),n=void 0,i,o,s=e.trackOn,c=e.trackHistoryChanges,u=e.eventType,a=u===void 0?Wu:u,l=function(v){var m=v;try{m=decodeURI(v)}catch(w){n?.error("Malformed URI sequence: ",w)}return m},d=function(){return b(void 0,void 0,void 0,function(){var v,m,w;return x(this,function(E){switch(E.label){case 0:return v=l(typeof location<"u"&&location.href||""),w={event_type:a},m=[{}],[4,Xu()];case 1:return[2,(w.event_properties=T.apply(void 0,[T.apply(void 0,m.concat([E.sent()])),{"[Amplitude] Page Domain":typeof location<"u"&&location.hostname||"","[Amplitude] Page Location":v,"[Amplitude] Page Path":typeof location<"u"&&l(location.pathname)||"","[Amplitude] Page Title":typeof document<"u"&&document.title||"","[Amplitude] Page URL":v.split("?")[0]}]),w)]}})})},f=function(){return typeof s>"u"||typeof s=="function"&&s()},p=typeof location<"u"?location.href:null,g=function(){return b(void 0,void 0,void 0,function(){var v,m,w,E,L;return x(this,function(A){switch(A.label){case 0:return v=location.href,m=Qu(c,v,p||"")&&f(),p=v,m?(n?.log("Tracking page view event"),t!=null?[3,1]:(w=void 0,[3,3])):[3,4];case 1:return L=(E=t).track,[4,d()];case 2:w=L.apply(E,[A.sent()]),A.label=3;case 3:A.label=4;case 4:return[2]}})})},h=function(){g()},y={name:"@amplitude/plugin-page-view-tracking-browser",type:"enrichment",setup:function(v,m){return b(void 0,void 0,void 0,function(){var w,E;return x(this,function(L){switch(L.label){case 0:return t=m,o=v,n=v.loggerProvider,n.log("Installing @amplitude/plugin-page-view-tracking-browser"),r&&(r.addEventListener("popstate",h),i=r.history.pushState,r.history.pushState=new Proxy(r.history.pushState,{apply:function(A,I,R){var O=_e(R,3),Ie=O[0],ke=O[1],Me=O[2];A.apply(I,[Ie,ke,Me]),g()}})),f()?(n.log("Tracking page view event"),E=(w=t).track,[4,d()]):[3,2];case 1:E.apply(w,[L.sent()]),L.label=2;case 2:return[2]}})})},execute:function(v){return b(void 0,void 0,void 0,function(){var m;return x(this,function(w){switch(w.label){case 0:return s==="attribution"&&Hu(v)?(n?.log("Enriching campaign event to page view event with campaign parameters"),[4,d()]):[3,2];case 1:m=w.sent(),v.event_type=m.event_type,v.event_properties=T(T({},v.event_properties),m.event_properties),w.label=2;case 2:return o&&v.event_type===a&&(o.pageCounter=o.pageCounter?o.pageCounter+1:1,v.event_properties=T(T({},v.event_properties),{"[Amplitude] Page Counter":o.pageCounter})),[2,v]}})})},teardown:function(){return b(void 0,void 0,void 0,function(){return x(this,function(v){return r&&(r.removeEventListener("popstate",h),i&&(r.history.pushState=i)),[2]})})}};return y},Xu=function(){return b(void 0,void 0,void 0,function(){var e;return x(this,function(t){switch(t.label){case 0:return e=qu,[4,new Bo().parse()];case 1:return[2,e.apply(void 0,[t.sent()])]}})})},Hu=function(e){if(e.event_type==="$identify"&&e.user_properties){var t=e.user_properties,r=t[X.SET]||{},n=t[X.UNSET]||{},i=Ct(Ct([],_e(Object.keys(r)),!1),_e(Object.keys(n)),!1);return Object.keys(qr).every(function(o){return i.includes(o)})}return!1},Qu=function(e,t,r){switch(e){case"pathOnly":{if(r=="")return!0;var n=new URL(t),i=new URL(r),o=n.origin+n.pathname,s=i.origin+i.pathname;return o!==s}default:return t!==r}},Zu=function(){var e,t=[],r=function(a,l,d){a.addEventListener(l,d),t.push({element:a,type:l,handler:d})},n=function(){t.forEach(function(a){var l=a.element,d=a.type,f=a.handler;l?.removeEventListener(d,f)}),t=[]},i="@amplitude/plugin-form-interaction-tracking-browser",o="enrichment",s=function(a,l){return b(void 0,void 0,void 0,function(){var d;return x(this,function(f){return(d=Ce())===null||d===void 0||d.addEventListener("load",function(){if(!l){a.loggerProvider.warn("Form interaction tracking requires a later version of @amplitude/analytics-browser. Form interaction events are not tracked.");return}if(!(typeof document>"u")){var p=function(h){var y=!1;r(h,"change",function(){var v;y||l.track(Ro,(v={},v[Wn]=St(h.id),v[Yn]=St(h.name),v[Xn]=h.action,v)),y=!0}),r(h,"submit",function(){var v,m;y||l.track(Ro,(v={},v[Wn]=St(h.id),v[Yn]=St(h.name),v[Xn]=h.action,v)),l.track($u,(m={},m[Wn]=St(h.id),m[Yn]=St(h.name),m[Xn]=h.action,m)),y=!1})},g=Array.from(document.getElementsByTagName("form"));g.forEach(p),typeof MutationObserver<"u"&&(e=new MutationObserver(function(h){h.forEach(function(y){y.addedNodes.forEach(function(v){v.nodeName==="FORM"&&p(v),"querySelectorAll"in v&&typeof v.querySelectorAll=="function"&&Array.from(v.querySelectorAll("form")).map(p)})})}),e.observe(document.body,{subtree:!0,childList:!0}))}}),[2]})})},c=function(a){return b(void 0,void 0,void 0,function(){return x(this,function(l){return[2,a]})})},u=function(){return b(void 0,void 0,void 0,function(){return x(this,function(a){return e?.disconnect(),n(),[2]})})};return{name:i,type:o,setup:s,execute:c,teardown:u}},St=function(e){if(typeof e=="string")return e},ju=function(){var e,t=[],r=function(a,l,d){a.addEventListener(l,d),t.push({element:a,type:l,handler:d})},n=function(){t.forEach(function(a){var l=a.element,d=a.type,f=a.handler;l?.removeEventListener(d,f)}),t=[]},i="@amplitude/plugin-file-download-tracking-browser",o="enrichment",s=function(a,l){return b(void 0,void 0,void 0,function(){var d;return x(this,function(f){return(d=Ce())===null||d===void 0||d.addEventListener("load",function(){if(!l){a.loggerProvider.warn("File download tracking requires a later version of @amplitude/analytics-browser. File download events are not tracked.");return}if(!(typeof document>"u")){var p=function(y){var v;try{v=new URL(y.href,window.location.href)}catch{return}var m=g.exec(v.href),w=m?.[1];w&&r(y,"click",function(){var E;w&&l.track(Nu,(E={},E[Du]=w,E[Lu]=v.pathname,E[Ou]=y.id,E[Pu]=y.text,E[Fu]=y.href,E))})},g=/\.(pdf|xlsx?|docx?|txt|rtf|csv|exe|key|pp(s|t|tx)|7z|pkg|rar|gz|zip|avi|mov|mp4|mpe?g|wmv|midi?|mp3|wav|wma)$/,h=Array.from(document.getElementsByTagName("a"));h.forEach(p),typeof MutationObserver<"u"&&(e=new MutationObserver(function(y){y.forEach(function(v){v.addedNodes.forEach(function(m){m.nodeName==="A"&&p(m),"querySelectorAll"in m&&typeof m.querySelectorAll=="function"&&Array.from(m.querySelectorAll("a")).map(p)})})}),e.observe(document.body,{subtree:!0,childList:!0}))}}),[2]})})},c=function(a){return b(void 0,void 0,void 0,function(){return x(this,function(l){return[2,a]})})},u=function(){return b(void 0,void 0,void 0,function(){return x(this,function(a){return e?.disconnect(),n(),[2]})})};return{name:i,type:o,setup:s,execute:c,teardown:u}},Do=!1,zu=function(e){if(!(Do||e.defaultTracking!==void 0)){var t=`\`options.defaultTracking\` is set to undefined. This implicitly configures your Amplitude instance to track Page Views, Sessions, File Downloads, and Form Interactions. You can suppress this warning by explicitly setting a value to \`options.defaultTracking\`. The value must either be a boolean, to enable and disable all default events, or an object, for advanced configuration. For example:

amplitude.init(<YOUR_API_KEY>, {
  defaultTracking: true,
});

Visit https://www.docs.developers.amplitude.com/data/sdks/browser-2/#tracking-default-events for more details.`;e.loggerProvider.warn(t),Do=!0}},Ku=function(){var e="@amplitude/plugin-network-checker-browser",t="before",r=Ce(),n=[],i=function(u,a){r&&(r.addEventListener(u,a),n.push({type:u,handler:a}))},o=function(){n.forEach(function(u){var a=u.type,l=u.handler;r&&r.removeEventListener(a,l)}),n=[]},s=function(u,a){return b(void 0,void 0,void 0,function(){return x(this,function(l){return u.offline=!navigator.onLine,i("online",function(){u.loggerProvider.debug("Network connectivity changed to online."),u.offline=!1,setTimeout(function(){a.flush()},u.flushIntervalMillis)}),i("offline",function(){u.loggerProvider.debug("Network connectivity changed to offline."),u.offline=!0}),[2]})})},c=function(){return b(void 0,void 0,void 0,function(){return x(this,function(u){return o(),[2]})})};return{name:e,type:t,setup:s,teardown:c}},Ju=function(e){ct(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.init=function(r,n,i){r===void 0&&(r="");var o,s;return arguments.length>2?(o=n,s=i):typeof n=="string"?(o=n,s=void 0):(o=n?.userId,s=n),ae(this._init(T(T({},s),{userId:o,apiKey:r})))},t.prototype._init=function(r){var n,i,o;return b(this,void 0,void 0,function(){var s,c,u,a,l,d=this;return x(this,function(f){switch(f.label){case 0:return this.initializing?[2]:(this.initializing=!0,[4,Bu(r.apiKey,r,this)]);case 1:return s=f.sent(),[4,e.prototype._init.call(this,s)];case 2:return f.sent(),this.logBrowserOptions(r),qo(this.config.defaultTracking)?(c=xu(this.config),this.webAttribution=new ru(c,this.config),[4,this.webAttribution.init()]):[3,4];case 3:f.sent(),f.label=4;case 4:return u=Br(),a=Number.isNaN(Number(u.ampSessionId))?void 0:Number(u.ampSessionId),this.setSessionId((o=(i=(n=r.sessionId)!==null&&n!==void 0?n:a)!==null&&i!==void 0?i:this.config.sessionId)!==null&&o!==void 0?o:Date.now()),l=tr(r.instanceName),l.identityStore.setIdentity({userId:this.config.userId,deviceId:this.config.deviceId}),this.config.offline===Lo?[3,6]:[4,this.add(Ku()).promise];case 5:f.sent(),f.label=6;case 6:return[4,this.add(new Ba).promise];case 7:return f.sent(),[4,this.add(new Tu).promise];case 8:return f.sent(),[4,this.add(new hu).promise];case 9:return f.sent(),zu(this.config),gu(this.config.defaultTracking)?(this.config.loggerProvider.debug("Adding file download tracking plugin"),[4,this.add(ju()).promise]):[3,11];case 10:f.sent(),f.label=11;case 11:return yu(this.config.defaultTracking)?(this.config.loggerProvider.debug("Adding form interaction plugin"),[4,this.add(Zu()).promise]):[3,13];case 12:f.sent(),f.label=13;case 13:return Wo(this.config.defaultTracking)?(this.config.loggerProvider.debug("Adding page view tracking plugin"),[4,this.add(Yu(bu(this.config))).promise]):[3,15];case 14:f.sent(),f.label=15;case 15:return this.initializing=!1,[4,this.runQueuedFunctions("dispatchQ")];case 16:return f.sent(),l.eventBridge.setEventReceiver(function(p){d.track(p.eventType,p.eventProperties)}),[2]}})})},t.prototype.getUserId=function(){var r;return(r=this.config)===null||r===void 0?void 0:r.userId},t.prototype.setUserId=function(r){if(!this.config){this.q.push(this.setUserId.bind(this,r));return}this.config.loggerProvider.debug("function setUserId: ",r),(r!==this.config.userId||r===void 0)&&(this.config.userId=r,vu(r,this.config.instanceName))},t.prototype.getDeviceId=function(){var r;return(r=this.config)===null||r===void 0?void 0:r.deviceId},t.prototype.setDeviceId=function(r){if(!this.config){this.q.push(this.setDeviceId.bind(this,r));return}this.config.loggerProvider.debug("function setDeviceId: ",r),this.config.deviceId=r,_u(r,this.config.instanceName)},t.prototype.reset=function(){this.setDeviceId(Nt()),this.setUserId(void 0)},t.prototype.getSessionId=function(){var r;return(r=this.config)===null||r===void 0?void 0:r.sessionId},t.prototype.setSessionId=function(r){var n,i=[];if(!this.config)return this.q.push(this.setSessionId.bind(this,r)),ae(Promise.resolve());if(r===this.config.sessionId)return ae(Promise.resolve());this.config.loggerProvider.debug("function setSessionId: ",r);var o=this.getSessionId(),s=this.config.lastEventTime,c=(n=this.config.lastEventId)!==null&&n!==void 0?n:-1;this.config.sessionId=r,this.config.lastEventTime=void 0,this.config.pageCounter=0,ko(this.config.defaultTracking)&&(o&&s&&i.push(this.track(No,void 0,{device_id:this.previousSessionDeviceId,event_id:++c,session_id:o,time:s+1,user_id:this.previousSessionUserId}).promise),this.config.lastEventTime=this.config.sessionId);var u=this.trackCampaignEventIfNeeded(++c,i);return ko(this.config.defaultTracking)&&i.push(this.track($o,void 0,{event_id:u?++c:c,session_id:this.config.sessionId,time:this.config.lastEventTime}).promise),this.previousSessionDeviceId=this.config.deviceId,this.previousSessionUserId=this.config.userId,ae(Promise.all(i))},t.prototype.extendSession=function(){if(!this.config){this.q.push(this.extendSession.bind(this));return}this.config.lastEventTime=Date.now()},t.prototype.setTransport=function(r){if(!this.config){this.q.push(this.setTransport.bind(this,r));return}this.config.transportProvider=Ho(r)},t.prototype.identify=function(r,n){if(Vn(r)){var i=r._q;r._q=[],r=Gn(new $t,i)}return n?.user_id&&this.setUserId(n.user_id),n?.device_id&&this.setDeviceId(n.device_id),e.prototype.identify.call(this,r,n)},t.prototype.groupIdentify=function(r,n,i,o){if(Vn(i)){var s=i._q;i._q=[],i=Gn(new $t,s)}return e.prototype.groupIdentify.call(this,r,n,i,o)},t.prototype.revenue=function(r,n){if(Vn(r)){var i=r._q;r._q=[],r=Gn(new La,i)}return e.prototype.revenue.call(this,r,n)},t.prototype.trackCampaignEventIfNeeded=function(r,n){if(!this.webAttribution||!this.webAttribution.shouldTrackNewCampaign)return!1;var i=this.webAttribution.generateCampaignEvent(r);return n?n.push(this.track(i).promise):this.track(i),this.config.loggerProvider.log("Tracking attribution."),!0},t.prototype.process=function(r){return b(this,void 0,void 0,function(){var n,i,o;return x(this,function(s){return n=Date.now(),i=Vo(this.config.sessionTimeout,this.config.lastEventTime),o=this.webAttribution&&this.webAttribution.shouldSetSessionIdOnNewCampaign(),r.event_type!==$o&&r.event_type!==No&&(!r.session_id||r.session_id===this.getSessionId())&&(i||o?(this.setSessionId(n),o&&this.config.loggerProvider.log("Created a new session for new campaign.")):i||this.trackCampaignEventIfNeeded()),[2,e.prototype.process.call(this,r)]})})},t.prototype.logBrowserOptions=function(r){try{var n=T(T({},r),{apiKey:r.apiKey.substring(0,10)+"********"});this.config.loggerProvider.debug("Initialized Amplitude with BrowserConfig:",JSON.stringify(n))}catch(i){this.config.loggerProvider.error("Error logging browser config",i)}},t}(Da),el=function(){var e=new Ju;return{init:V(e.init.bind(e),"init",B(e),G(e,["config"])),add:V(e.add.bind(e),"add",B(e),G(e,["config.apiKey","timeline.plugins"])),remove:V(e.remove.bind(e),"remove",B(e),G(e,["config.apiKey","timeline.plugins"])),track:V(e.track.bind(e),"track",B(e),G(e,["config.apiKey","timeline.queue.length"])),logEvent:V(e.logEvent.bind(e),"logEvent",B(e),G(e,["config.apiKey","timeline.queue.length"])),identify:V(e.identify.bind(e),"identify",B(e),G(e,["config.apiKey","timeline.queue.length"])),groupIdentify:V(e.groupIdentify.bind(e),"groupIdentify",B(e),G(e,["config.apiKey","timeline.queue.length"])),setGroup:V(e.setGroup.bind(e),"setGroup",B(e),G(e,["config.apiKey","timeline.queue.length"])),revenue:V(e.revenue.bind(e),"revenue",B(e),G(e,["config.apiKey","timeline.queue.length"])),flush:V(e.flush.bind(e),"flush",B(e),G(e,["config.apiKey","timeline.queue.length"])),getUserId:V(e.getUserId.bind(e),"getUserId",B(e),G(e,["config","config.userId"])),setUserId:V(e.setUserId.bind(e),"setUserId",B(e),G(e,["config","config.userId"])),getDeviceId:V(e.getDeviceId.bind(e),"getDeviceId",B(e),G(e,["config","config.deviceId"])),setDeviceId:V(e.setDeviceId.bind(e),"setDeviceId",B(e),G(e,["config","config.deviceId"])),reset:V(e.reset.bind(e),"reset",B(e),G(e,["config","config.userId","config.deviceId"])),getSessionId:V(e.getSessionId.bind(e),"getSessionId",B(e),G(e,["config"])),setSessionId:V(e.setSessionId.bind(e),"setSessionId",B(e),G(e,["config"])),extendSession:V(e.extendSession.bind(e),"extendSession",B(e),G(e,["config"])),setOptOut:V(e.setOptOut.bind(e),"setOptOut",B(e),G(e,["config"])),setTransport:V(e.setTransport.bind(e),"setTransport",B(e),G(e,["config"]))}},q=el(),Bx=q.add,Gx=q.extendSession,Vx=q.flush,Qo=q.getDeviceId,qx=q.getSessionId,Wx=q.getUserId,Yx=q.groupIdentify,Zo=q.identify,jo=q.init,Xx=q.logEvent,Hx=q.remove,Qx=q.reset,Zx=q.revenue,jx=q.setDeviceId,zx=q.setGroup,Kx=q.setOptOut,Jx=q.setSessionId,e0=q.setTransport,t0=q.setUserId,zo=q.track;function rl(e){let t=e-1;return t*t*t+1}function Ko(e){let t=typeof e=="string"&&e.match(/^\s*(-?[\d.]+)([^\s]*)\s*$/);return t?[parseFloat(t[1]),t[2]||"px"]:[e,"px"]}function ei(e,{delay:t=0,duration:r=400,easing:n=rl,x:i=0,y:o=0,opacity:s=0}={}){let c=getComputedStyle(e),u=+c.opacity,a=c.transform==="none"?"":c.transform,l=u*(1-s),[d,f]=Ko(i),[p,g]=Ko(o);return{delay:t,duration:r,easing:n,css:(h,y)=>`
			transform: ${a} translate(${(1-h)*d}${f}, ${(1-h)*p}${g});
			opacity: ${u-l*y}`}}var nl=It('<h1 class="ui-zokzom"><strong class="ui-zokzom">Stay Focused</strong> </h1>'),il=It('<div class="title-container ui-zokzom"><!></div>');function ti(e,t){qt(t,!0);let r=Dr(t,"duration",3,3e3),n=Dr(t,"titles",19,()=>["Master Time, Crush Goals","Work Smarter, Not Harder","Your Shield Against Distractions","Time Management Made Simple","Unlock Your Productive Self","Focus First, Achieve More","Track Time, Stay on Target","Maximize Efficiency, Minimize Distractions","Own Your Day, Own Your Goals","Build Habits, Boost Results"]),i=fn(0);Zt(()=>{let c,u=Date.now();function a(){let l=Date.now();l-u>=r()&&(Y(i,(P(i)+1)%n().length),u=l),c=requestAnimationFrame(a)}return c=requestAnimationFrame(a),()=>cancelAnimationFrame(c)});var o=il(),s=_r(o);Pn(s,()=>P(i),c=>{var u=nl(),a=_n(_r(u));fr(u),In(()=>Nn(a,`: ${n()[P(i)]??""}`)),Rr(1,u,()=>ei,()=>({x:-200,duration:1e3})),Rr(2,u,()=>ei,()=>({x:200,duration:1e3})),Ke(c,u)}),fr(o),Ke(e,o),Wt()}var ol={DEBUG:!0,AMPLITUDE_API_KEY:"9109b65d371584050780e9ffdc0bf1c8"},Jo=ol;var sl=It(`<!> <h2 class="ui-1x99dho">We're sorry to see you go</h2> <main class="ui-1x99dho"><iframe src="https://docs.google.com/forms/d/e/1FAIpQLSdjJ4I5d047NUF3dSXlxemVSjHKhvTgi-ILyiHugGN5h2vXvw/viewform?embedded=tru&amp;hl=en" title="Feedback form" width="640" height="800" frameborder="0" marginheight="0" marginwidth="0">Loading\u2026</iframe></main>`,1);function ri(e){var t=sl(),r=vn(t);ti(r,{}),dr(4),Ke(e,t)}var es=(e,...t)=>console[e](...t);function ts(e,...t){if(!!0)return;let i=new Error().stack.split(`
`)[3].trim(),o=i&&i?.match(/\((.*):(\d+):\d+\)/);if(o){let[s,c,u]=o,a=c.split("/"),l=a.pop(),p=a.join("/").length*6.5+5;es(e,`%c${c}:${u}%c`,`font-family:monospace,monospace;font-size:10px;margin-left:-${p}px;`,"font-family:inherit;font-size:inherit;margin-left:inherit;color:inherit;",...t)}else es(e,"[Unknown location]",...t)}function rs(...e){ts("log",...e)}function ns(...e){ts("error",...e)}window.LOG=rs;window.ERROR=ns;async function ul(){jo(Jo.AMPLITUDE_API_KEY,null,{defaultTracking:!0});let e=new $t;e.setOnce("firstUninstallPageVisit",new Date().toISOString()),e.add("uninstallPageViewCount",1),Zo(e),zo("UNINSTALL_PAGE"),window.gdi=()=>Qo()}ul();var k0=At(ri,{target:document.body});})();
