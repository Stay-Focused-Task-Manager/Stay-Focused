(()=>{var nr=!0;var ri=globalThis.process?.env?.NODE_ENV,_=ri&&!ri.toLowerCase().startsWith("prod");var Re=Array.isArray,ni=Array.prototype.indexOf,en=Array.from,tn=Object.keys,z=Object.defineProperty,Te=Object.getOwnPropertyDescriptor;var rn=Object.prototype,ii=Array.prototype,dt=Object.getPrototypeOf;function nn(e){return typeof e=="function"}var oe=()=>{};function Lt(e){for(var t=0;t<e.length;t++)e[t]()}var he=Symbol("$state"),nt=Symbol("$state metadata"),ir=Symbol("legacy props"),is=Symbol("");function or(e){return e===this.v}function Ot(e,t){return e!=e?t==t:e!==t||e!==null&&typeof e=="object"||typeof e=="function"}function oi(e,t){return e!==t}function pt(e){return!Ot(e,this.v)}function si(){if(_){let e=new Error(`derived_references_self
A derived value cannot reference itself recursively
https://svelte.dev/e/derived_references_self`);throw e.name="Svelte error",e}else throw new Error("https://svelte.dev/e/derived_references_self")}function ai(e){if(_){let t=new Error(`effect_in_teardown
\`${e}\` cannot be used inside an effect cleanup function
https://svelte.dev/e/effect_in_teardown`);throw t.name="Svelte error",t}else throw new Error("https://svelte.dev/e/effect_in_teardown")}function ui(){if(_){let e=new Error("effect_in_unowned_derived\nEffect cannot be created inside a `$derived` value that was not itself created inside an effect\nhttps://svelte.dev/e/effect_in_unowned_derived");throw e.name="Svelte error",e}else throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function li(e){if(_){let t=new Error(`effect_orphan
\`${e}\` can only be used inside an effect (e.g. during component initialisation)
https://svelte.dev/e/effect_orphan`);throw t.name="Svelte error",t}else throw new Error("https://svelte.dev/e/effect_orphan")}function ci(){if(_){let e=new Error(`effect_update_depth_exceeded
Maximum update depth exceeded. This can happen when a reactive block or effect repeatedly sets a new value. Svelte limits the number of nested updates to prevent infinite loops
https://svelte.dev/e/effect_update_depth_exceeded`);throw e.name="Svelte error",e}else throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function fi(){if(_){let e=new Error(`hydration_failed
Failed to hydrate the application
https://svelte.dev/e/hydration_failed`);throw e.name="Svelte error",e}else throw new Error("https://svelte.dev/e/hydration_failed")}function di(e){if(_){let t=new Error(`props_invalid_value
Cannot do \`bind:${e}={undefined}\` when \`${e}\` has a fallback value
https://svelte.dev/e/props_invalid_value`);throw t.name="Svelte error",t}else throw new Error("https://svelte.dev/e/props_invalid_value")}function pi(e){if(_){let t=new Error(`rune_outside_svelte
The \`${e}\` rune is only available inside \`.svelte\` and \`.svelte.js/ts\` files
https://svelte.dev/e/rune_outside_svelte`);throw t.name="Svelte error",t}else throw new Error("https://svelte.dev/e/rune_outside_svelte")}function vi(){if(_){let e=new Error("state_descriptors_fixed\nProperty descriptors defined on `$state` objects must contain `value` and always be `enumerable`, `configurable` and `writable`.\nhttps://svelte.dev/e/state_descriptors_fixed");throw e.name="Svelte error",e}else throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function _i(){if(_){let e=new Error("state_prototype_fixed\nCannot set prototype of `$state` object\nhttps://svelte.dev/e/state_prototype_fixed");throw e.name="Svelte error",e}else throw new Error("https://svelte.dev/e/state_prototype_fixed")}function hi(){if(_){let e=new Error("state_unsafe_local_read\nReading state that was created inside the same derived is forbidden. Consider using `untrack` to read locally created state\nhttps://svelte.dev/e/state_unsafe_local_read");throw e.name="Svelte error",e}else throw new Error("https://svelte.dev/e/state_unsafe_local_read")}function mi(){if(_){let e=new Error("state_unsafe_mutation\nUpdating state inside a derived or a template expression is forbidden. If the value should not be reactive, declare it without `$state`\nhttps://svelte.dev/e/state_unsafe_mutation");throw e.name="Svelte error",e}else throw new Error("https://svelte.dev/e/state_unsafe_mutation")}var Qe=!1,Ne=!1;function gi(){Qe=!0}var Ut="[";var Pt="]",qe={};var U=Symbol(),Z=Symbol("filename"),yi=Symbol("hmr");var Bt=null;function Me(e){let t=Error(),r=t.stack;if(r){let n=r.split(`
`),i=[`
`];for(let o=0;o<n.length;o++){let s=n[o];if(s!=="Error"){if(s.includes("validate_each_keys"))return null;s.includes("svelte/src/internal")||i.push(s)}}if(i.length===1)return null;z(t,"stack",{value:i.join(`
`)}),z(t,"name",{value:`${e}Error`})}return t}var sr="font-weight: bold",ar="font-weight: normal";function vt(e){_?console.warn(`%c[svelte] hydration_mismatch
%c${e?`Hydration failed because the initial UI does not match what was rendered on the server. The error occurred near ${e}`:"Hydration failed because the initial UI does not match what was rendered on the server"}
https://svelte.dev/e/hydration_mismatch`,sr,ar):console.warn("https://svelte.dev/e/hydration_mismatch")}function xi(){_?console.warn(`%c[svelte] lifecycle_double_unmount
%cTried to unmount a component that was not mounted
https://svelte.dev/e/lifecycle_double_unmount`,sr,ar):console.warn("https://svelte.dev/e/lifecycle_double_unmount")}function sn(e,t){_?console.warn(`%c[svelte] ownership_invalid_mutation
%c${e?`${e} mutated a value owned by ${t}. This is strongly discouraged. Consider passing values to child components with \`bind:\`, or use a callback instead`:"Mutating a value outside the component that created it is strongly discouraged. Consider passing values to child components with `bind:`, or use a callback instead"}
https://svelte.dev/e/ownership_invalid_mutation`,sr,ar):console.warn("https://svelte.dev/e/ownership_invalid_mutation")}function ur(e){_?console.warn(`%c[svelte] state_proxy_equality_mismatch
%cReactive \`$state(...)\` proxies and the values they proxy have different identities. Because of this, comparisons with \`${e}\` will produce unexpected results
https://svelte.dev/e/state_proxy_equality_mismatch`,sr,ar):console.warn("https://svelte.dev/e/state_proxy_equality_mismatch")}var ss={},as=/at (?:.+ \()?(.+):(\d+):(\d+)\)?$/,us=/@(.+):(\d+):(\d+)$/;function ls(){let e=new Error().stack;if(!e)return null;let t=[];for(let r of e.split(`
`)){let n=as.exec(r)??us.exec(r);n&&t.push({file:n[1],line:+n[2],column:+n[3]})}return t}function wi(){let e=ls()?.slice(4);if(!e)return null;for(let t=0;t<e.length;t++){let r=e[t],n=ss[r.file];if(!n){if(t===0)return null;continue}for(let i of n){if(i.end==null)return null;if(i.start.line<r.line&&i.end.line>r.line)return i.component}}return null}var cs=Symbol("ADD_OWNER");function an(e,t){if(t.owners!==null)for(;e;){if(e.owners===null){t.owners=null;break}for(let r of e.owners)t.owners.add(r);e=e.parent}}function Ei(e,t){return e.owners===null?!0:e.owners.has(t)||Z in t&&[...e.owners].some(r=>r[Z]===t[Z])||e.parent!==null&&Ei(e.parent,t)}function Ii(e){return e?.owners?.values().next().value??Ii(e.parent)}var fs=!1;function Ti(e){if(fs)return;let t=wi();if(t&&!Ei(e,t)){let r=Ii(e);r[Z]!==t[Z]?sn(t[Z],r[Z]):sn()}}var F=null;function Qt(e){F=e}var ge=null;function Mt(e){ge=e}function Vt(e,t=!1,r){F={p:F,c:null,e:null,m:!1,s:e,x:null,l:null},Qe&&!t&&(F.l={s:null,u:null,r1:[],r2:Y(!1)}),_&&(F.function=r,ge=r)}function Xt(e){let t=F;if(t!==null){e!==void 0&&(t.x=e);let s=t.e;if(s!==null){var r=A,n=k;t.e=null;try{for(var i=0;i<s.length;i++){var o=s[i];X(o.effect),q(o.reaction),be(o.fn)}}finally{X(r),q(n)}}F=t.p,_&&(ge=t.p?.function??null),t.m=!0}return e||{}}function Fe(){return!Qe||F!==null&&F.l===null}var it=new Set;function ln(e){it=e}function Y(e,t){var r={f:0,v:e,reactions:null,equals:or,rv:0,wv:0};return _&&Ne&&(r.created=t??Me("CreatedAt"),r.debug=null),r}function cn(e){return vs(Y(e))}function st(e,t=!1){let r=Y(e);return t||(r.equals=pt),Qe&&F!==null&&F.l!==null&&(F.l.s??=[]).push(r),r}function vs(e){return k!==null&&!we&&(k.f&2)!==0&&(Se===null?Ci([e]):Se.push(e)),e}function W(e,t){return k!==null&&!we&&Fe()&&(k.f&18)!==0&&(Se===null||!Se.includes(e))&&mi(),cr(e,t)}function cr(e,t){if(!e.equals(t)){var r=e.v;if(e.v=t,e.wv=Wt(),_&&Ne&&(e.updated=Me("UpdatedAt"),A!=null&&(e.trace_need_increase=!0,e.trace_v??=r)),Ai(e,2048),Fe()&&A!==null&&(A.f&1024)!==0&&(A.f&96)===0&&($e===null?ki([e]):$e.push(e)),_&&it.size>0){let i=Array.from(it);var n=Ve;_t(!0);try{for(let o of i)(o.f&1024)!==0&&fe(o,4096),at(o)&&ht(o)}finally{_t(n)}it.clear()}}return t}function Ai(e,t){var r=e.reactions;if(r!==null)for(var n=Fe(),i=r.length,o=0;o<i;o++){var s=r[o],c=s.f;if((c&2048)===0&&!(!n&&s===A)){if(_&&(c&262144)!==0){it.add(s);continue}fe(s,t),(c&1280)!==0&&((c&2)!==0?Ai(s,4096):Ht(s))}}}var N=!1;function Le(e){N=e}var $;function j(e){if(e===null)throw vt(),qe;return $=e}function te(){return j(se($))}function fr(e){if(N){if(se($)!==null)throw vt(),qe;$=e}}function dr(e=1){if(N){for(var t=e,r=$;t--;)r=se(r);$=r}}function je(e,t=null,r){var n=null;if(_&&Ne&&(n=Me("CreatedAt")),typeof e!="object"||e===null||he in e)return e;let i=dt(e);if(i!==rn&&i!==ii)return e;var o=new Map,s=Re(e),c=Y(0);s&&o.set("length",Y(e.length,n));var u;if(_)if(u={parent:t,owners:null},r){let a=r.v?.[nt]?.owners;u.owners=a?new Set(a):null}else u.owners=t===null?F!==null?new Set([F.function]):null:new Set;return new Proxy(e,{defineProperty(a,l,d){(!("value"in d)||d.configurable===!1||d.enumerable===!1||d.writable===!1)&&vi();var f=o.get(l);return f===void 0?(f=Y(d.value,n),o.set(l,f)):W(f,je(d.value,u)),!0},deleteProperty(a,l){var d=o.get(l);if(d===void 0)l in a&&o.set(l,Y(U,n));else{if(s&&typeof l=="string"){var f=o.get("length"),p=Number(l);Number.isInteger(p)&&p<f.v&&W(f,p)}W(d,U),Ri(c)}return!0},get(a,l,d){if(_&&l===nt)return u;if(l===he)return e;var f=o.get(l),p=l in a;if(f===void 0&&(!p||Te(a,l)?.writable)&&(f=Y(je(p?a[l]:U,u),n),o.set(l,f)),f!==void 0){var g=O(f);if(_){var h=g?.[nt];h&&h?.parent!==u&&an(u,h)}return g===U?void 0:g}return Reflect.get(a,l,d)},getOwnPropertyDescriptor(a,l){var d=Reflect.getOwnPropertyDescriptor(a,l);if(d&&"value"in d){var f=o.get(l);f&&(d.value=O(f))}else if(d===void 0){var p=o.get(l),g=p?.v;if(p!==void 0&&g!==U)return{enumerable:!0,configurable:!0,value:g,writable:!0}}return d},has(a,l){if(_&&l===nt||l===he)return!0;var d=o.get(l),f=d!==void 0&&d.v!==U||Reflect.has(a,l);if(d!==void 0||A!==null&&(!f||Te(a,l)?.writable)){d===void 0&&(d=Y(f?je(a[l],u):U,n),o.set(l,d));var p=O(d);if(p===U)return!1}return f},set(a,l,d,f){var p=o.get(l),g=l in a;if(s&&l==="length")for(var h=d;h<p.v;h+=1){var y=o.get(h+"");y!==void 0?W(y,U):h in a&&(y=Y(U,n),o.set(h+"",y))}if(p===void 0?(!g||Te(a,l)?.writable)&&(p=Y(void 0,n),W(p,je(d,u)),o.set(l,p)):(g=p.v!==U,W(p,je(d,u))),_){var v=d?.[nt];v&&v?.parent!==u&&an(u,v),Ti(u)}var m=Reflect.getOwnPropertyDescriptor(a,l);if(m?.set&&m.set.call(f,d),!g){if(s&&typeof l=="string"){var w=o.get("length"),E=Number(l);Number.isInteger(E)&&E>=w.v&&W(w,E+1)}Ri(c)}return!0},ownKeys(a){O(c);var l=Reflect.ownKeys(a).filter(p=>{var g=o.get(p);return g===void 0||g.v!==U});for(var[d,f]of o)f.v!==U&&!(d in a)&&l.push(d);return l},setPrototypeOf(){_i()}})}function Ri(e,t=1){W(e,e.v+t)}function pr(e){return e!==null&&typeof e=="object"&&he in e?e[he]:e}function Ni(){let e=Array.prototype,t=Array.__svelte_cleanup;t&&t();let{indexOf:r,lastIndexOf:n,includes:i}=e;e.indexOf=function(o,s){let c=r.call(this,o,s);if(c===-1){for(let u=s??0;u<this.length;u+=1)if(pr(this[u])===o){ur("array.indexOf(...)");break}}return c},e.lastIndexOf=function(o,s){let c=n.call(this,o,s??this.length-1);if(c===-1){for(let u=0;u<=(s??this.length-1);u+=1)if(pr(this[u])===o){ur("array.lastIndexOf(...)");break}}return c},e.includes=function(o,s){let c=i.call(this,o,s);if(!c){for(let u=0;u<this.length;u+=1)if(pr(this[u])===o){ur("array.includes(...)");break}}return c},Array.__svelte_cleanup=()=>{e.indexOf=r,e.lastIndexOf=n,e.includes=i}}var dn,Fi,Zt,$i,Di;function vr(){if(dn===void 0){dn=window,Fi=document,Zt=/Firefox/.test(navigator.userAgent);var e=Element.prototype,t=Node.prototype;$i=Te(t,"firstChild").get,Di=Te(t,"nextSibling").get,e.__click=void 0,e.__className="",e.__attributes=null,e.__styles=null,e.__e=void 0,Text.prototype.__t=void 0,_&&(e.__svelte_meta=null,Ni())}}function Oe(e=""){return document.createTextNode(e)}function re(e){return $i.call(e)}function se(e){return Di.call(e)}function _r(e,t){if(!N)return re(e);var r=re($);if(r===null)r=$.appendChild(Oe());else if(t&&r.nodeType!==3){var n=Oe();return r?.before(n),j(n),n}return j(r),r}function pn(e,t){if(!N){var r=re(e);return r instanceof Comment&&r.data===""?se(r):r}if(t&&$?.nodeType!==3){var n=Oe();return $?.before(n),j(n),n}return $}function vn(e,t=1,r=!1){let n=N?$:e;for(var i;t--;)i=n,n=se(n);if(!N)return n;var o=n?.nodeType;if(r&&o!==3){var s=Oe();return n===null?i?.after(s):n.before(s),j(s),s}return j(n),n}function hr(e){e.textContent=""}function Ue(e){var t=2050,r=k!==null&&(k.f&2)!==0?k:null;A===null||r!==null&&(r.f&256)!==0?t|=256:A.f|=1048576;let n={ctx:F,deps:null,effects:null,equals:or,f:t,fn:e,reactions:null,rv:0,v:null,wv:0,parent:r??A};return _&&Ne&&(n.created=Me("CreatedAt")),n}function yr(e){let t=Ue(e);return t.equals=pt,t}function mr(e){var t=e.effects;if(t!==null){e.effects=null;for(var r=0;r<t.length;r+=1)ne(t[r])}}var _n=[];function _s(e){for(var t=e.parent;t!==null;){if((t.f&2)===0)return t;t=t.parent}return null}function hs(e){var t,r=A;if(X(_s(e)),_){let n=it;ln(new Set);try{_n.includes(e)&&si(),_n.push(e),mr(e),t=gr(e)}finally{X(r),ln(n),_n.pop()}}else try{mr(e),t=gr(e)}finally{X(r)}return t}function mn(e){var t=hs(e),r=(Xe||(e.f&256)!==0)&&e.deps!==null?4096:1024;fe(e,r),e.equals(t)||(e.v=t,e.wv=Wt())}function Oi(e){A===null&&k===null&&li(e),k!==null&&(k.f&256)!==0&&A===null&&ui(),br&&ai(e)}function ms(e,t){var r=t.last;r===null?t.last=t.first=e:(r.next=e,e.prev=r,t.last=e)}function yt(e,t,r,n=!0){var i=(e&64)!==0,o=A;if(_)for(;o!==null&&(o.f&262144)!==0;)o=o.parent;var s={ctx:F,deps:null,nodes_start:null,nodes_end:null,f:e|2048,first:null,fn:t,last:null,next:null,parent:i?null:o,prev:null,teardown:null,transitions:null,wv:0};if(_&&(s.component_function=ge),r){var c=Ve;try{_t(!0),ht(s),s.f|=32768}catch(l){throw ne(s),l}finally{_t(c)}}else t!==null&&Ht(s);var u=r&&s.deps===null&&s.first===null&&s.nodes_start===null&&s.teardown===null&&(s.f&1048704)===0;if(!u&&!i&&n&&(o!==null&&ms(s,o),k!==null&&(k.f&2)!==0)){var a=k;(a.effects??=[]).push(s)}return s}function Yt(e){Oi("$effect");var t=A!==null&&(A.f&32)!==0&&F!==null&&!F.m;if(_&&z(e,"name",{value:"$effect"}),t){var r=F;(r.e??=[]).push({fn:e,effect:A,reaction:k})}else{var n=be(e);return n}}function wn(e){let t=yt(64,e,!0);return()=>{ne(t)}}function Ui(e){let t=yt(64,e,!0);return(r={})=>new Promise(n=>{r.outro?He(t,()=>{ne(t),n(void 0)}):(ne(t),n(void 0))})}function be(e){return yt(4,e,!1)}function ye(e){return yt(8,e,!0)}function En(e,t=[],r=Ue){let n=t.map(r),i=()=>e(...n.map(O));return _&&z(i,"name",{value:"{expression}"}),de(i)}function de(e,t=0){return yt(24|t,e,!0)}function pe(e,t=!0){return yt(40,e,!0,t)}function In(e){var t=e.teardown;if(t!==null){let r=br,n=k;gn(!0),q(null);try{t.call(null)}finally{gn(r),q(n)}}}function Tn(e,t=!1){var r=e.first;for(e.first=e.last=null;r!==null;){var n=r.next;ne(r,t),r=n}}function Pi(e){for(var t=e.first;t!==null;){var r=t.next;(t.f&32)===0&&ne(t),t=r}}function ne(e,t=!0){var r=!1;if((t||(e.f&524288)!==0)&&e.nodes_start!==null){for(var n=e.nodes_start,i=e.nodes_end;n!==null;){var o=n===i?null:se(n);n.remove(),n=o}r=!0}Tn(e,t&&!r),jt(e,0),fe(e,16384);var s=e.transitions;if(s!==null)for(let u of s)u.stop();In(e);var c=e.parent;c!==null&&c.first!==null&&Sn(e),_&&(e.component_function=null),e.next=e.prev=e.teardown=e.ctx=e.deps=e.fn=e.nodes_start=e.nodes_end=null}function Sn(e){var t=e.parent,r=e.prev,n=e.next;r!==null&&(r.next=n),n!==null&&(n.prev=r),t!==null&&(t.first===e&&(t.first=n),t.last===e&&(t.last=r))}function He(e,t){var r=[];An(e,r,!0),Bi(r,()=>{ne(e),t&&t()})}function Bi(e,t){var r=e.length;if(r>0){var n=()=>--r||t();for(var i of e)i.out(n)}else t()}function An(e,t,r){if((e.f&8192)===0){if(e.f^=8192,e.transitions!==null)for(let s of e.transitions)(s.is_global||r)&&t.push(s);for(var n=e.first;n!==null;){var i=n.next,o=(n.f&65536)!==0||(n.f&32)!==0;An(n,t,o?r:!1),n=i}}}var xr=!1,Qi=!1,Cn=[],Gi=[];function Mi(){xr=!1;let e=Cn.slice();Cn=[],Lt(e)}function gs(){Qi=!1;let e=Gi.slice();Gi=[],Lt(e)}function Pe(e){xr||(xr=!0,queueMicrotask(Mi)),Cn.push(e)}function Vi(){xr&&Mi(),Qi&&gs()}var Yi=0,bs=1,Xi=new WeakSet,wr=!1,Er=Yi,zt=!1,bt=null,Ve=!1,br=!1;function _t(e){Ve=e}function gn(e){br=e}var ut=[],xt=0,Jt=[],k=null,we=!1;function q(e){k=e}var A=null;function X(e){A=e}var Se=null;function Ci(e){Se=e}var ie=null,ve=0,$e=null;function ki(e){$e=e}var ji=1,Tr=0,Xe=!1,Gt=null;function Wt(){return++ji}function at(e){var t=e.f;if((t&2048)!==0)return!0;if((t&4096)!==0){var r=e.deps,n=(t&256)!==0;if(r!==null){var i,o,s=(t&512)!==0,c=n&&A!==null&&!Xe,u=r.length;if(s||c){var a=e,l=a.parent;for(i=0;i<u;i++)o=r[i],(s||!o?.reactions?.includes(a))&&(o.reactions??=[]).push(a);s&&(a.f^=512),c&&l!==null&&(l.f&256)===0&&(a.f^=256)}for(i=0;i<u;i++)if(o=r[i],at(o)&&mn(o),o.wv>e.wv)return!0}(!n||A!==null&&!Xe)&&fe(e,1024)}return!1}function Wi(e,t){for(var r=t;r!==null;){if((r.f&128)!==0)try{r.fn(e);return}catch{r.f^=128}r=r.parent}throw wr=!1,e}function Hi(e){return(e.f&16384)===0&&(e.parent===null||(e.parent.f&128)===0)}function wt(e,t,r,n){if(wr){if(r===null&&(wr=!1),Hi(t))throw e;return}if(r!==null&&(wr=!0),!_||n===null||!(e instanceof Error)||Xi.has(e)){Wi(e,t);return}Xi.add(e);let i=[],o=t.fn?.name;o&&i.push(o);let s=n;for(;s!==null;){if(_){var c=s.function?.[Z];if(c){let l=c.split("/").pop();i.push(l)}}s=s.p}let u=Zt?"  ":"	";z(e,"message",{value:e.message+`
${i.map(l=>`
${u}in ${l}`).join("")}
`}),z(e,"component_stack",{value:i});let a=e.stack;if(a){let l=a.split(`
`),d=[];for(let f=0;f<l.length;f++){let p=l[f];p.includes("svelte/src/internal")||d.push(p)}z(e,"stack",{value:d.join(`
`)})}if(Wi(e,t),Hi(t))throw e}function zi(e,t,r=!0){var n=e.reactions;if(n!==null)for(var i=0;i<n.length;i++){var o=n[i];(o.f&2)!==0?zi(o,t,!1):t===o&&(r?fe(o,2048):(o.f&1024)!==0&&fe(o,4096),Ht(o))}}function gr(e){var t=ie,r=ve,n=$e,i=k,o=Xe,s=Se,c=F,u=we,a=e.f;ie=null,ve=0,$e=null,k=(a&96)===0?e:null,Xe=(a&256)!==0&&(!Ve||i===null||u),Se=null,Qt(e.ctx),we=!1,Tr++;try{var l=(0,e.fn)(),d=e.deps;if(ie!==null){var f;if(jt(e,ve),d!==null&&ve>0)for(d.length=ve+ie.length,f=0;f<ie.length;f++)d[ve+f]=ie[f];else e.deps=d=ie;if(!Xe)for(f=ve;f<d.length;f++)(d[f].reactions??=[]).push(e)}else d!==null&&ve<d.length&&(jt(e,ve),d.length=ve);if(Fe()&&$e!==null&&!we&&d!==null&&(e.f&6146)===0)for(f=0;f<$e.length;f++)zi($e[f],e);return i!==null&&Tr++,l}finally{ie=t,ve=r,$e=n,k=i,Xe=o,Se=s,Qt(c),we=u}}function xs(e,t){let r=t.reactions;if(r!==null){var n=ni.call(r,e);if(n!==-1){var i=r.length-1;i===0?r=t.reactions=null:(r[n]=r[i],r.pop())}}r===null&&(t.f&2)!==0&&(ie===null||!ie.includes(t))&&(fe(t,4096),(t.f&768)===0&&(t.f^=512),mr(t),jt(t,0))}function jt(e,t){var r=e.deps;if(r!==null)for(var n=t;n<r.length;n++)xs(e,r[n])}function ht(e){var t=e.f;if((t&16384)===0){fe(e,1024);var r=A,n=F;if(A=e,_){var i=ge;Mt(e.component_function)}try{(t&16)!==0?Pi(e):Tn(e),In(e);var o=gr(e);e.teardown=typeof o=="function"?o:null,e.wv=ji;var s=e.deps;if(_&&Ne&&(e.f&2048)!==0&&s!==null)for(let u=0;u<s.length;u++){var c=s[u];c.trace_need_increase&&(c.wv=Wt(),c.trace_need_increase=void 0,c.trace_v=void 0)}_&&Jt.push(e)}catch(u){wt(u,e,r,n||e.ctx)}finally{A=r,_&&Mt(i)}}}function Zi(){console.error("Last ten effects were: ",Jt.slice(-10).map(e=>e.fn)),Jt=[]}function Ji(){if(xt>1e3){xt=0;try{ci()}catch(e){if(_&&z(e,"stack",{value:""}),bt!==null)if(_)try{wt(e,bt,null,null)}catch(t){throw Zi(),t}else wt(e,bt,null,null);else throw _&&Zi(),e}}xt++}function Ki(e){var t=e.length;if(t!==0){Ji();var r=Ve;Ve=!0;try{for(var n=0;n<t;n++){var i=e[n];(i.f&1024)===0&&(i.f^=1024);var o=Is(i);ws(o)}}finally{Ve=r}}}function ws(e){var t=e.length;if(t!==0)for(var r=0;r<t;r++){var n=e[r];if((n.f&24576)===0)try{at(n)&&(ht(n),n.deps===null&&n.first===null&&n.nodes_start===null&&(n.teardown===null?Sn(n):n.fn=null))}catch(i){wt(i,n,null,n.ctx)}}}function Es(){if(zt=!1,xt>1001)return;let e=ut;ut=[],Ki(e),zt||(xt=0,bt=null,_&&(Jt=[]))}function Ht(e){Er===Yi&&(zt||(zt=!0,queueMicrotask(Es))),bt=e;for(var t=e;t.parent!==null;){t=t.parent;var r=t.f;if((r&96)!==0){if((r&1024)===0)return;t.f^=1024}}ut.push(t)}function Is(e){var t=[],r=e.first;e:for(;r!==null;){var n=r.f,i=(n&32)!==0,o=i&&(n&1024)!==0,s=r.next;if(!o&&(n&8192)===0){if((n&4)!==0)t.push(r);else if(i)r.f^=1024;else{var c=k;try{k=r,at(r)&&ht(r)}catch(l){wt(l,r,null,r.ctx)}finally{k=c}}var u=r.first;if(u!==null){r=u;continue}}if(s===null){let l=r.parent;for(;l!==null;){if(e===l)break e;var a=l.next;if(a!==null){r=a;continue e}l=l.parent}}r=s}return t}function Et(e){var t=Er,r=ut;try{Ji();let i=[];Er=bs,ut=i,zt=!1,Ki(r);var n=e?.();return Vi(),(ut.length>0||i.length>0)&&Et(),xt=0,bt=null,_&&(Jt=[]),n}finally{Er=t,ut=r}}function O(e){var t=e.f,r=(t&2)!==0;if(Gt!==null&&Gt.add(e),k!==null&&!we){Se!==null&&Se.includes(e)&&hi();var n=k.deps;e.rv<Tr&&(e.rv=Tr,ie===null&&n!==null&&n[ve]===e?ve++:ie===null?ie=[e]:(!Xe||!ie.includes(e))&&ie.push(e))}else if(r&&e.deps===null&&e.effects===null){var i=e,o=i.parent;o!==null&&(o.f&256)===0&&(i.f^=256)}if(r&&(i=e,at(i)&&mn(i)),_&&Ne&&Bt!==null&&k!==null&&Bt.reaction===k){if(e.debug)e.debug();else if(e.created){var s=Bt.entries.get(e);s===void 0&&(s={read:[]},Bt.entries.set(e,s)),s.read.push(Me("TracedAt"))}}return e.v}function P(e){var t=we;try{return we=!0,e()}finally{we=t}}var Ts=-7169;function fe(e,t){e.f=e.f&Ts|t}var Ss=["allowfullscreen","async","autofocus","autoplay","checked","controls","default","disabled","formnovalidate","hidden","indeterminate","inert","ismap","loop","multiple","muted","nomodule","novalidate","open","playsinline","readonly","required","reversed","seamless","selected","webkitdirectory","defer","disablepictureinpicture","disableremoteplayback"];var ff=[...Ss,"formNoValidate","isMap","noModule","playsInline","readOnly","value","volume","defaultValue","defaultChecked","srcObject","noValidate","allowFullscreen","disablePictureInPicture","disableRemotePlayback"];var As=["touchstart","touchmove"];function eo(e){return As.includes(e)}function Sr(e){var t=k,r=A;q(null),X(null);try{return e()}finally{q(t),X(r)}}var to=new Set,kn=new Set;function Kt(e){var t=this,r=t.ownerDocument,n=e.type,i=e.composedPath?.()||[],o=i[0]||e.target,s=0,c=e.__root;if(c){var u=i.indexOf(c);if(u!==-1&&(t===document||t===window)){e.__root=t;return}var a=i.indexOf(t);if(a===-1)return;u<=a&&(s=u)}if(o=i[s]||e.target,o!==t){z(e,"currentTarget",{configurable:!0,get(){return o||r}});var l=k,d=A;q(null),X(null);try{for(var f,p=[];o!==null;){var g=o.assignedSlot||o.parentNode||o.host||null;try{var h=o["__"+n];if(h!==void 0&&!o.disabled)if(Re(h)){var[y,...v]=h;y.apply(o,[e,...v])}else h.call(o,e)}catch(m){f?p.push(m):f=m}if(e.cancelBubble||g===t||g===null)break;o=g}if(f){for(let m of p)queueMicrotask(()=>{throw m});throw f}}finally{e.__root=t,delete e.currentTarget,q(l),X(d)}}}var Rs;function ro(){Rs=void 0}function Ar(e){var t=document.createElement("template");return t.innerHTML=e,t.content}function ze(e,t){var r=A;r.nodes_start===null&&(r.nodes_start=e,r.nodes_end=t)}function It(e,t){var r=(t&1)!==0,n=(t&2)!==0,i,o=!e.startsWith("<!>");return()=>{if(N)return ze($,null),$;i===void 0&&(i=Ar(o?e:"<!>"+e),r||(i=re(i)));var s=n||Zt?document.importNode(i,!0):i.cloneNode(!0);if(r){var c=re(s),u=s.lastChild;ze(c,u)}else ze(s,s);return s}}function Je(e,t){if(N){A.nodes_end=$,te();return}e!==null&&e.before(t)}var Cr=!0;function Nn(e,t){var r=t==null?"":typeof t=="object"?t+"":t;r!==(e.__t??=e.nodeValue)&&(e.__t=r,e.nodeValue=r+"")}function St(e,t){return no(e,t)}function Fn(e,t){vr(),t.intro=t.intro??!1;let r=t.target,n=N,i=$;try{for(var o=re(r);o&&(o.nodeType!==8||o.data!==Ut);)o=se(o);if(!o)throw qe;Le(!0),j(o),te();let s=no(e,{...t,anchor:o});if($===null||$.nodeType!==8||$.data!==Pt)throw vt(),qe;return Le(!1),s}catch(s){if(s===qe)return t.recover===!1&&fi(),vr(),hr(r),Le(!1),St(e,t);throw s}finally{Le(n),j(i),ro()}}var Tt=new Map;function no(e,{target:t,anchor:r,props:n={},events:i,context:o,intro:s=!0}){vr();var c=new Set,u=d=>{for(var f=0;f<d.length;f++){var p=d[f];if(!c.has(p)){c.add(p);var g=eo(p);t.addEventListener(p,Kt,{passive:g});var h=Tt.get(p);h===void 0?(document.addEventListener(p,Kt,{passive:g}),Tt.set(p,1)):Tt.set(p,h+1)}}};u(en(to)),kn.add(u);var a=void 0,l=Ui(()=>{var d=r??t.appendChild(Oe());return pe(()=>{if(o){Vt({});var f=F;f.c=o}i&&(n.$$events=i),N&&ze(d,null),Cr=s,a=e(d,n)||{},Cr=!0,N&&(A.nodes_end=$),o&&Xt()}),()=>{for(var f of c){t.removeEventListener(f,Kt);var p=Tt.get(f);--p===0?(document.removeEventListener(f,Kt),Tt.delete(f)):Tt.set(f,p)}kn.delete(u),d!==r&&d.parentNode?.removeChild(d)}});return Rn.set(a,l),a}var Rn=new WeakMap;function $n(e,t){let r=Rn.get(e);return r?(Rn.delete(e),r(t)):(_&&xi(),Promise.resolve())}function Ln(e,t,r){N&&te();var n=e,i=U,o,s=Fe()?oi:Ot;de(()=>{s(i,i=t())&&(o&&He(o),o=pe(()=>r(n)))}),N&&(n=$)}var Bs=nr?()=>performance.now():()=>Date.now(),Ae={tick:e=>(nr?requestAnimationFrame:oe)(e),now:()=>Bs(),tasks:new Set};function so(){let e=Ae.now();Ae.tasks.forEach(t=>{t.c(e)||(Ae.tasks.delete(t),t.f())}),Ae.tasks.size!==0&&Ae.tick(so)}function ao(e){let t;return Ae.tasks.size===0&&Ae.tick(so),{promise:new Promise(r=>{Ae.tasks.add(t={c:e,f:r})}),abort(){Ae.tasks.delete(t)}}}function kr(e,t){Sr(()=>{e.dispatchEvent(new CustomEvent(t))})}function Vs(e){if(e==="float")return"cssFloat";if(e==="offset")return"cssOffset";if(e.startsWith("--"))return e;let t=e.split("-");return t.length===1?t[0]:t[0]+t.slice(1).map(r=>r[0].toUpperCase()+r.slice(1)).join("")}function uo(e){let t={},r=e.split(";");for(let n of r){let[i,o]=n.split(":");if(!i||o===void 0)break;let s=Vs(i.trim());t[s]=o.trim()}return t}var Xs=e=>e;function Un(e,t,r,n){var i=(e&1)!==0,o=(e&2)!==0,s=i&&o,c=(e&4)!==0,u=s?"both":i?"in":"out",a,l=t.inert,d=t.style.overflow,f,p;function g(){var w=k,E=A;q(null),X(null);try{return a??=r()(t,n?.()??{},{direction:u})}finally{q(w),X(E)}}var h={is_global:c,in(){if(t.inert=l,!i){p?.abort(),p?.reset?.();return}o||f?.abort(),kr(t,"introstart"),f=On(t,g(),p,1,()=>{kr(t,"introend"),f?.abort(),f=a=void 0,t.style.overflow=d})},out(w){if(!o){w?.(),a=void 0;return}t.inert=!0,kr(t,"outrostart"),p=On(t,g(),f,0,()=>{kr(t,"outroend"),w?.()})},stop:()=>{f?.abort(),p?.abort()}},y=A;if((y.transitions??=[]).push(h),i&&Cr){var v=c;if(!v){for(var m=y.parent;m&&(m.f&65536)!==0;)for(;(m=m.parent)&&(m.f&16)===0;);v=!m||(m.f&32768)!==0}v&&be(()=>{P(()=>h.in())})}}function On(e,t,r,n,i){var o=n===1;if(nn(t)){var s,c=!1;return Pe(()=>{if(!c){var y=t({direction:o?"in":"out"});s=On(e,y,r,n,i)}}),{abort:()=>{c=!0,s?.abort()},deactivate:()=>s.deactivate(),reset:()=>s.reset(),t:()=>s.t()}}if(r?.deactivate(),!t?.duration)return i(),{abort:oe,deactivate:oe,reset:oe,t:()=>n};let{delay:u=0,css:a,tick:l,easing:d=Xs}=t;var f=[];if(o&&r===void 0&&(l&&l(0,1),a)){var p=uo(a(0,1));f.push(p,p)}var g=()=>1-n,h=e.animate(f,{duration:u});return h.onfinish=()=>{var y=r?.t()??1-n;r?.abort();var v=n-y,m=t.duration*Math.abs(v),w=[];if(m>0){var E=!1;if(a)for(var D=Math.ceil(m/16.666666666666668),S=0;S<=D;S+=1){var I=y+v*d(S/D),R=uo(a(I,1-I));w.push(R),E||=R.overflow==="hidden"}E&&(e.style.overflow="hidden"),g=()=>{var L=h.currentTime;return y+v*d(L/m)},l&&ao(()=>{if(h.playState!=="running")return!1;var L=g();return l(L,1-L),!0})}h=e.animate(w,{duration:m,fill:"forwards"}),h.onfinish=()=>{g=()=>n,l?.(n,1-n),i()}},{abort:()=>{h&&(h.cancel(),h.effect=null,h.onfinish=oe)},deactivate:()=>{i=oe},reset:()=>{n===0&&l?.(1,0)},t:()=>g()}}var Nr=!1,Sh=Symbol();function Pn(e){var t=Nr;try{return Nr=!1,[e(),Nr]}finally{Nr=t}}function Fr(e,t,r,n){var i=(r&1)!==0,o=!Qe||(r&2)!==0,s=(r&8)!==0,c=(r&16)!==0,u=!1,a;s?[a,u]=Pn(()=>e[t]):a=e[t];var l=he in e||ir in e,d=s&&(Te(e,t)?.set??(l&&t in e&&(I=>e[t]=I)))||void 0,f=n,p=!0,g=!1,h=()=>(g=!0,p&&(p=!1,c?f=P(n):f=n),f);a===void 0&&n!==void 0&&(d&&o&&di(t),a=h(),d&&d(a));var y;if(o)y=()=>{var I=e[t];return I===void 0?h():(p=!0,g=!1,I)};else{var v=(i?Ue:yr)(()=>e[t]);v.f|=131072,y=()=>{var I=O(v);return I!==void 0&&(f=void 0),I===void 0?f:I}}if((r&4)===0)return y;if(d){var m=e.$$legacy;return function(I,R){return arguments.length>0?((!o||!R||m||u)&&d(R?y():I),I):y()}}var w=!1,E=!1,D=st(a),S=Ue(()=>{var I=y(),R=O(D);return w?(w=!1,E=!0,R):(E=!1,D.v=I)});return i||(S.equals=pt),function(I,R){if(Gt!==null&&(w=E,y(),O(D)),arguments.length>0){let L=R?O(S):o&&s?je(I):I;return S.equals(L)||(w=!0,W(D,L),g&&f!==void 0&&(f=L),P(()=>O(S))),I}return O(S)}}function lo(e){return new Bn(e)}var Bn=class{#t;#e;constructor(t){var r=new Map,n=(o,s)=>{var c=st(s);return r.set(o,c),c};let i=new Proxy({...t.props||{},$$events:{}},{get(o,s){return O(r.get(s)??n(s,Reflect.get(o,s)))},has(o,s){return s===ir?!0:(O(r.get(s)??n(s,Reflect.get(o,s))),Reflect.has(o,s))},set(o,s,c){return W(r.get(s)??n(s,c),c),Reflect.set(o,s,c)}});this.#e=(t.hydrate?Fn:St)(t.component,{target:t.target,anchor:t.anchor,props:i,context:t.context,intro:t.intro??!1,recover:t.recover}),(!t?.props?.$$host||t.sync===!1)&&Et(),this.#t=i.$$events;for(let o of Object.keys(this.#e))o==="$set"||o==="$destroy"||o==="$on"||z(this,o,{get(){return this.#e[o]},set(s){this.#e[o]=s},enumerable:!0});this.#e.$set=o=>{Object.assign(i,o)},this.#e.$destroy=()=>{$n(this.#e)}}$set(t){this.#e.$set(t)}$on(t,r){this.#t[t]=this.#t[t]||[];let n=(...i)=>r.call(this,...i);return this.#t[t].push(n),()=>{this.#t[t]=this.#t[t].filter(i=>i!==n)}}$destroy(){this.#e.$destroy()}};var sa;typeof HTMLElement=="function"&&(sa=class extends HTMLElement{$$ctor;$$s;$$c;$$cn=!1;$$d={};$$r=!1;$$p_d={};$$l={};$$l_u=new Map;$$me;constructor(e,t,r){super(),this.$$ctor=e,this.$$s=t,r&&this.attachShadow({mode:"open"})}addEventListener(e,t,r){if(this.$$l[e]=this.$$l[e]||[],this.$$l[e].push(t),this.$$c){let n=this.$$c.$on(e,t);this.$$l_u.set(t,n)}super.addEventListener(e,t,r)}removeEventListener(e,t,r){if(super.removeEventListener(e,t,r),this.$$c){let n=this.$$l_u.get(t);n&&(n(),this.$$l_u.delete(t))}}async connectedCallback(){if(this.$$cn=!0,!this.$$c){let e=function(n){return i=>{let o=document.createElement("slot");n!=="default"&&(o.name=n),Je(i,o)}};if(await Promise.resolve(),!this.$$cn||this.$$c)return;let t={},r=aa(this);for(let n of this.$$s)n in r&&(n==="default"&&!this.$$d.children?(this.$$d.children=e(n),t.default=!0):t[n]=e(n));for(let n of this.attributes){let i=this.$$g_p(n.name);i in this.$$d||(this.$$d[i]=Gn(i,n.value,this.$$p_d,"toProp"))}for(let n in this.$$p_d)!(n in this.$$d)&&this[n]!==void 0&&(this.$$d[n]=this[n],delete this[n]);this.$$c=lo({component:this.$$ctor,target:this.shadowRoot||this,props:{...this.$$d,$$slots:t,$$host:this}}),this.$$me=wn(()=>{ye(()=>{this.$$r=!0;for(let n of tn(this.$$c)){if(!this.$$p_d[n]?.reflect)continue;this.$$d[n]=this.$$c[n];let i=Gn(n,this.$$d[n],this.$$p_d,"toAttribute");i==null?this.removeAttribute(this.$$p_d[n].attribute||n):this.setAttribute(this.$$p_d[n].attribute||n,i)}this.$$r=!1})});for(let n in this.$$l)for(let i of this.$$l[n]){let o=this.$$c.$on(n,i);this.$$l_u.set(i,o)}this.$$l={}}}attributeChangedCallback(e,t,r){this.$$r||(e=this.$$g_p(e),this.$$d[e]=Gn(e,r,this.$$p_d,"toProp"),this.$$c?.$set({[e]:this.$$d[e]}))}disconnectedCallback(){this.$$cn=!1,Promise.resolve().then(()=>{!this.$$cn&&this.$$c&&(this.$$c.$destroy(),this.$$me(),this.$$c=void 0)})}$$g_p(e){return tn(this.$$p_d).find(t=>this.$$p_d[t].attribute===e||!this.$$p_d[t].attribute&&t.toLowerCase()===e)||e}});function Gn(e,t,r,n){let i=r[e]?.type;if(t=i==="Boolean"&&typeof t!="boolean"?t!=null:t,!n||!r[e])return t;if(n==="toAttribute")switch(i){case"Object":case"Array":return t==null?null:JSON.stringify(t);case"Boolean":return t?"":null;case"Number":return t??null;default:return t}else switch(i){case"Object":case"Array":return t&&JSON.parse(t);case"Boolean":return t;case"Number":return t!=null?+t:t;default:return t}}function aa(e){let t={};return e.childNodes.forEach(r=>{t[r.slot||"default"]=!0}),t}if(_){let e=function(t){if(!(t in globalThis)){let r;Object.defineProperty(globalThis,t,{configurable:!0,get:()=>{if(r!==void 0)return r;pi(t)},set:n=>{r=n}})}};e("$state"),e("$effect"),e("$derived"),e("$inspect"),e("$props"),e("$bindable")}var fo="5";typeof window<"u"&&(window.__svelte||={v:new Set}).v.add(fo);gi();function ca(e){let t=e-1;return t*t*t+1}function po(e){let t=typeof e=="string"&&e.match(/^\s*(-?[\d.]+)([^\s]*)\s*$/);return t?[parseFloat(t[1]),t[2]||"px"]:[e,"px"]}function vo(e,{delay:t=0,duration:r=400,easing:n=ca,x:i=0,y:o=0,opacity:s=0}={}){let c=getComputedStyle(e),u=+c.opacity,a=c.transform==="none"?"":c.transform,l=u*(1-s),[d,f]=po(i),[p,g]=po(o);return{delay:t,duration:r,easing:n,css:(h,y)=>`
			transform: ${a} translate(${(1-h)*d}${f}, ${(1-h)*p}${g});
			opacity: ${u-l*y}`}}var fa=It('<div class="title ui-1rurmkd"> </div>'),da=It('<main class="ui-1rurmkd"><!></main>');function Qn(e,t){Vt(t,!0);let r=Fr(t,"duration",3,4e3),n=Fr(t,"titles",19,()=>[]),i=cn(0),o=Ue(()=>n()[O(i)]);Yt(()=>{let u,a=Date.now();function l(){let d=Date.now();d-a>=r()&&(W(i,(O(i)+1)%n().length),a=d),u=requestAnimationFrame(l)}return u=requestAnimationFrame(l),()=>cancelAnimationFrame(u)});var s=da(),c=_r(s);Ln(c,()=>O(o),u=>{var a=fa(),l=_r(a,!0);fr(a),En(()=>Nn(l,O(o))),Un(2,a,()=>vo,()=>({y:-70,duration:5e3})),Je(u,a)}),fr(s),Je(e,s),Xt()}var pa=It('<h1 class="ui-4ugoyb">Welcome aboard!</h1> <!> <center><main class="ui-4ugoyb"><table class="ui-4ugoyb"><tbody><tr><td class="ui-4ugoyb">Set Clear Goals</td><td class="ui-4ugoyb">Break down large tasks into smaller, more manageable goals to avoid feeling overwhelmed.</td></tr><tr><td class="ui-4ugoyb">Eliminate Distractions</td><td class="ui-4ugoyb">Block distracting sites to help you resist procrastination.</td></tr><tr><td class="ui-4ugoyb">Take Regular Breaks</td><td class="ui-4ugoyb">Incorporate regular breaks into your routine. This helps reset your brain and maintain productivity over long periods.</td></tr><tr><td class="ui-4ugoyb">Find a Quiet Spot</td><td class="ui-4ugoyb">Work in a Quiet Environment. Minimize external noise and distractions in your workspace.</td></tr><tr><td class="ui-4ugoyb">Practice Mindfulness</td><td class="ui-4ugoyb">Mindfulness exercises, such as meditation or deep breathing, can help improve focus, reduce mental clutter, and foster better self-control.</td></tr></tbody></table> <p class="ui-4ugoyb">Improving your ability to stay focused is a gradual process, but there are several proven methods to enhance self-control and maintain mental clarity. By implementing these strategies, you can build better self-control and improve your ability to stay focused, leading to enhanced productivity and better overall performance.</p></main></center>',1);function Mn(e){var t=pa(),r=vn(pn(t),2);Qn(r,{titles:["You\u2019ve unlocked the secret weapon for productivity","Say goodbye to stress and hello to focus, clarity, and success","Let\u2019s turn your goals into achievements!"]}),dr(2),Je(e,t)}var va={DEBUG:!0,AMPLITUDE_API_KEY:"9109b65d371584050780e9ffdc0bf1c8"},_o=va;var ho=(e,...t)=>console[e](...t);function mo(e,...t){if(!!0)return;let i=new Error().stack.split(`
`)[3].trim(),o=i&&i?.match(/\((.*):(\d+):\d+\)/);if(o){let[s,c,u]=o,a=c.split("/"),l=a.pop(),p=a.join("/").length*6.5+5;ho(e,`%c${c}:${u}%c`,`font-family:monospace,monospace;font-size:10px;margin-left:-${p}px;`,"font-family:inherit;font-size:inherit;margin-left:inherit;color:inherit;",...t)}else ho(e,"[Unknown location]",...t)}function go(...e){mo("log",...e)}function yo(...e){mo("error",...e)}var ha=Object.defineProperty,ma=(e,t)=>{for(var r in t)ha(e,r,{get:t[r],enumerable:!0})},Yn=function(e,t){return Yn=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},Yn(e,t)};function ct(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");Yn(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var T=function(){return T=Object.assign||function(t){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])}return t},T.apply(this,arguments)};function jn(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r}function b(e,t,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function c(l){try{a(n.next(l))}catch(d){s(d)}}function u(l){try{a(n.throw(l))}catch(d){s(d)}}function a(l){l.done?o(l.value):i(l.value).then(c,u)}a((n=n.apply(e,t||[])).next())})}function x(e,t){var r={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,i,o,s=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return s.next=c(0),s.throw=c(1),s.return=c(2),typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function c(a){return function(l){return u([a,l])}}function u(a){if(n)throw new TypeError("Generator is already executing.");for(;s&&(s=0,a[0]&&(r=0)),r;)try{if(n=1,i&&(o=a[0]&2?i.return:a[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,a[1])).done)return o;switch(i=0,o&&(a=[a[0]&2,o.value]),a[0]){case 0:case 1:o=a;break;case 4:return r.label++,{value:a[1],done:!1};case 5:r.label++,i=a[1],a=[0];continue;case 7:a=r.ops.pop(),r.trys.pop();continue;default:if(o=r.trys,!(o=o.length>0&&o[o.length-1])&&(a[0]===6||a[0]===2)){r=0;continue}if(a[0]===3&&(!o||a[1]>o[0]&&a[1]<o[3])){r.label=a[1];break}if(a[0]===6&&r.label<o[1]){r.label=o[1],o=a;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(a);break}o[2]&&r.ops.pop(),r.trys.pop();continue}a=t.call(e,r)}catch(l){a=[6,l],i=0}finally{n=o=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}}function Rt(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function _e(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),i,o=[],s;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(c){s={error:c}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(s)throw s.error}}return o}function Ct(e,t,r){if(r||arguments.length===2)for(var n=0,i=t.length,o;n<i;n++)(o||!(n in t))&&(o||(o=Array.prototype.slice.call(t,0,n)),o[n]=t[n]);return e.concat(o||Array.prototype.slice.call(t))}var ga="Event tracked successfully",ya="Unexpected error occurred",ba="Event rejected due to exceeded retry count",xa="Event skipped due to optOut config",wa="Event rejected due to missing API key",Ea="Invalid API key",Ia="Client not initialized",Ta={};ma(Ta,{DEFAULT_ACTION_CLICK_ALLOWLIST:()=>Ca,DEFAULT_CSS_SELECTOR_ALLOWLIST:()=>Sa,DEFAULT_DATA_ATTRIBUTE_PREFIX:()=>Aa,IdentifyOperation:()=>H,LogLevel:()=>ue,OfflineDisabled:()=>Go,RevenueProperty:()=>et,ServerZone:()=>zn,SpecialEventType:()=>lt,Status:()=>B});var H;(function(e){e.SET="$set",e.SET_ONCE="$setOnce",e.ADD="$add",e.APPEND="$append",e.PREPEND="$prepend",e.REMOVE="$remove",e.PREINSERT="$preInsert",e.POSTINSERT="$postInsert",e.UNSET="$unset",e.CLEAR_ALL="$clearAll"})(H||(H={}));var et;(function(e){e.REVENUE_PRODUCT_ID="$productId",e.REVENUE_QUANTITY="$quantity",e.REVENUE_PRICE="$price",e.REVENUE_TYPE="$revenueType",e.REVENUE="$revenue"})(et||(et={}));var lt;(function(e){e.IDENTIFY="$identify",e.GROUP_IDENTIFY="$groupidentify",e.REVENUE="revenue_amount"})(lt||(lt={}));var ue;(function(e){e[e.None=0]="None",e[e.Error=1]="Error",e[e.Warn=2]="Warn",e[e.Verbose=3]="Verbose",e[e.Debug=4]="Debug"})(ue||(ue={}));var zn;(function(e){e.US="US",e.EU="EU"})(zn||(zn={}));var B;(function(e){e.Unknown="unknown",e.Skipped="skipped",e.Success="success",e.RateLimit="rate_limit",e.PayloadTooLarge="payload_too_large",e.Invalid="invalid",e.Failed="failed",e.Timeout="Timeout",e.SystemError="SystemError"})(B||(B={}));var Go=null,Sa=["a","button","input","select","textarea","label","video","audio",'[contenteditable="true" i]',"[data-amp-default-track]",".amp-default-track"],Aa="data-amp-track-",Ca=["div","span","h1","h2","h3","h4","h5","h6"],kt=function(e,t,r){return t===void 0&&(t=0),r===void 0&&(r=B.Unknown),{event:e,code:t,message:r}},Ft=function(e){return e?(e^Math.random()*16>>e/4).toString(16):(String(1e7)+String(-1e3)+String(-4e3)+String(-8e3)+String(-1e11)).replace(/[018]/g,Ft)},ka=function(){function e(t){this.client=t,this.queue=[],this.applying=!1,this.plugins=[]}return e.prototype.register=function(t,r){var n,i;return b(this,void 0,void 0,function(){return x(this,function(o){switch(o.label){case 0:return this.plugins.some(function(s){return s.name===t.name})?(r.loggerProvider.warn("Plugin with name ".concat(t.name," already exists, skipping registration")),[2]):(t.name===void 0&&(t.name=Ft(),r.loggerProvider.warn(`Plugin name is undefined. 
      Generating a random UUID for plugin name: `.concat(t.name,`. 
      Set a name for the plugin to prevent it from being added multiple times.`))),t.type=(n=t.type)!==null&&n!==void 0?n:"enrichment",[4,(i=t.setup)===null||i===void 0?void 0:i.call(t,r,this.client)]);case 1:return o.sent(),this.plugins.push(t),[2]}})})},e.prototype.deregister=function(t,r){var n;return b(this,void 0,void 0,function(){var i,o;return x(this,function(s){switch(s.label){case 0:return i=this.plugins.findIndex(function(c){return c.name===t}),i===-1?(r.loggerProvider.warn("Plugin with name ".concat(t," does not exist, skipping deregistration")),[2]):(o=this.plugins[i],this.plugins.splice(i,1),[4,(n=o.teardown)===null||n===void 0?void 0:n.call(o)]);case 1:return s.sent(),[2]}})})},e.prototype.reset=function(t){this.applying=!1;var r=this.plugins;r.map(function(n){var i;return(i=n.teardown)===null||i===void 0?void 0:i.call(n)}),this.plugins=[],this.client=t},e.prototype.push=function(t){var r=this;return new Promise(function(n){r.queue.push([t,n]),r.scheduleApply(0)})},e.prototype.scheduleApply=function(t){var r=this;this.applying||(this.applying=!0,setTimeout(function(){r.apply(r.queue.shift()).then(function(){r.applying=!1,r.queue.length>0&&r.scheduleApply(0)})},t))},e.prototype.apply=function(t){return b(this,void 0,void 0,function(){var r,n,i,o,s,c,u,p,g,a,l,d,f,p,g,h,y,v,m,w,E,D;return x(this,function(S){switch(S.label){case 0:if(!t)return[2];r=_e(t,1),n=r[0],i=_e(t,2),o=i[1],s=this.plugins.filter(function(I){return I.type==="before"}),S.label=1;case 1:S.trys.push([1,6,7,8]),c=Rt(s),u=c.next(),S.label=2;case 2:return u.done?[3,5]:(p=u.value,p.execute?[4,p.execute(T({},n))]:[3,4]);case 3:if(g=S.sent(),g===null)return o({event:n,code:0,message:""}),[2];n=g,S.label=4;case 4:return u=c.next(),[3,2];case 5:return[3,8];case 6:return a=S.sent(),m={error:a},[3,8];case 7:try{u&&!u.done&&(w=c.return)&&w.call(c)}finally{if(m)throw m.error}return[7];case 8:l=this.plugins.filter(function(I){return I.type==="enrichment"||I.type===void 0}),S.label=9;case 9:S.trys.push([9,14,15,16]),d=Rt(l),f=d.next(),S.label=10;case 10:return f.done?[3,13]:(p=f.value,p.execute?[4,p.execute(T({},n))]:[3,12]);case 11:if(g=S.sent(),g===null)return o({event:n,code:0,message:""}),[2];n=g,S.label=12;case 12:return f=d.next(),[3,10];case 13:return[3,16];case 14:return h=S.sent(),E={error:h},[3,16];case 15:try{f&&!f.done&&(D=d.return)&&D.call(d)}finally{if(E)throw E.error}return[7];case 16:return y=this.plugins.filter(function(I){return I.type==="destination"}),v=y.map(function(I){var R=T({},n);return I.execute(R).catch(function(L){return kt(R,0,String(L))})}),Promise.all(v).then(function(I){var R=_e(I,1),L=R[0],Ie=L||kt(n,100,"Event not tracked, no destination plugins on the instance");o(Ie)}),[2]}})})},e.prototype.flush=function(){return b(this,void 0,void 0,function(){var t,r,n,i=this;return x(this,function(o){switch(o.label){case 0:return t=this.queue,this.queue=[],[4,Promise.all(t.map(function(s){return i.apply(s)}))];case 1:return o.sent(),r=this.plugins.filter(function(s){return s.type==="destination"}),n=r.map(function(s){return s.flush&&s.flush()}),[4,Promise.all(n)];case 2:return o.sent(),[2]}})})},e}(),bo="-",Qr="AMP",Ra="".concat(Qr,"_unsent"),Qo="https://api2.amplitude.com/2/httpapi",Na="https://api.eu.amplitude.com/2/httpapi",Fa="https://api2.amplitude.com/batch",$a="https://api.eu.amplitude.com/batch",Da=1e3,Jn=function(e){if(Object.keys(e).length>Da)return!1;for(var t in e){var r=e[t];if(!Mo(t,r))return!1}return!0},Mo=function(e,t){var r,n;if(typeof e!="string")return!1;if(Array.isArray(t)){var i=!0;try{for(var o=Rt(t),s=o.next();!s.done;s=o.next()){var c=s.value;if(Array.isArray(c))return!1;if(typeof c=="object")i=i&&Jn(c);else if(!["number","string"].includes(typeof c))return!1;if(!i)return!1}}catch(u){r={error:u}}finally{try{s&&!s.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}}else{if(t==null)return!1;if(typeof t=="object")return Jn(t);if(!["number","string","boolean"].includes(typeof t))return!1}return!0},Nt=function(){function e(){this._propertySet=new Set,this._properties={}}return e.prototype.getUserProperties=function(){return T({},this._properties)},e.prototype.set=function(t,r){return this._safeSet(H.SET,t,r),this},e.prototype.setOnce=function(t,r){return this._safeSet(H.SET_ONCE,t,r),this},e.prototype.append=function(t,r){return this._safeSet(H.APPEND,t,r),this},e.prototype.prepend=function(t,r){return this._safeSet(H.PREPEND,t,r),this},e.prototype.postInsert=function(t,r){return this._safeSet(H.POSTINSERT,t,r),this},e.prototype.preInsert=function(t,r){return this._safeSet(H.PREINSERT,t,r),this},e.prototype.remove=function(t,r){return this._safeSet(H.REMOVE,t,r),this},e.prototype.add=function(t,r){return this._safeSet(H.ADD,t,r),this},e.prototype.unset=function(t){return this._safeSet(H.UNSET,t,bo),this},e.prototype.clearAll=function(){return this._properties={},this._properties[H.CLEAR_ALL]=bo,this},e.prototype._safeSet=function(t,r,n){if(this._validate(t,r,n)){var i=this._properties[t];return i===void 0&&(i={},this._properties[t]=i),i[r]=n,this._propertySet.add(r),!0}return!1},e.prototype._validate=function(t,r,n){return this._properties[H.CLEAR_ALL]!==void 0||this._propertySet.has(r)?!1:t===H.ADD?typeof n=="number":t!==H.UNSET&&t!==H.REMOVE?Mo(r,n):!0},e}(),La=function(e,t,r){var n=typeof e=="string"?{event_type:e}:e;return T(T(T({},n),r),t&&{event_properties:t})},Vo=function(e,t){var r=T(T({},t),{event_type:lt.IDENTIFY,user_properties:e.getUserProperties()});return r},Oa=function(e,t,r,n){var i,o=T(T({},n),{event_type:lt.GROUP_IDENTIFY,group_properties:r.getUserProperties(),groups:(i={},i[e]=t,i)});return o},Ua=function(e,t,r){var n,i=new Nt;i.set(e,t);var o=T(T({},r),{event_type:lt.IDENTIFY,user_properties:i.getUserProperties(),groups:(n={},n[e]=t,n)});return o},Pa=function(e,t){return T(T({},t),{event_type:lt.REVENUE,event_properties:e.getEventProperties()})},ae=function(e){return{promise:e||Promise.resolve()}},Ba=function(){function e(t){t===void 0&&(t="$default"),this.initializing=!1,this.isReady=!1,this.q=[],this.dispatchQ=[],this.logEvent=this.track.bind(this),this.timeline=new ka(this),this.name=t}return e.prototype._init=function(t){return b(this,void 0,void 0,function(){return x(this,function(r){switch(r.label){case 0:return this.config=t,this.timeline.reset(this),[4,this.runQueuedFunctions("q")];case 1:return r.sent(),this.isReady=!0,[2]}})})},e.prototype.runQueuedFunctions=function(t){return b(this,void 0,void 0,function(){var r,n,i,o,s,c,u,a;return x(this,function(l){switch(l.label){case 0:r=this[t],this[t]=[],l.label=1;case 1:l.trys.push([1,8,9,10]),n=Rt(r),i=n.next(),l.label=2;case 2:return i.done?[3,7]:(o=i.value,s=o(),s&&"promise"in s?[4,s.promise]:[3,4]);case 3:return l.sent(),[3,6];case 4:return[4,s];case 5:l.sent(),l.label=6;case 6:return i=n.next(),[3,2];case 7:return[3,10];case 8:return c=l.sent(),u={error:c},[3,10];case 9:try{i&&!i.done&&(a=n.return)&&a.call(n)}finally{if(u)throw u.error}return[7];case 10:return this[t].length?[4,this.runQueuedFunctions(t)]:[3,12];case 11:l.sent(),l.label=12;case 12:return[2]}})})},e.prototype.track=function(t,r,n){var i=La(t,r,n);return ae(this.dispatch(i))},e.prototype.identify=function(t,r){var n=Vo(t,r);return ae(this.dispatch(n))},e.prototype.groupIdentify=function(t,r,n,i){var o=Oa(t,r,n,i);return ae(this.dispatch(o))},e.prototype.setGroup=function(t,r,n){var i=Ua(t,r,n);return ae(this.dispatch(i))},e.prototype.revenue=function(t,r){var n=Pa(t,r);return ae(this.dispatch(n))},e.prototype.add=function(t){return this.isReady?this._addPlugin(t):(this.q.push(this._addPlugin.bind(this,t)),ae())},e.prototype._addPlugin=function(t){return ae(this.timeline.register(t,this.config))},e.prototype.remove=function(t){return this.isReady?this._removePlugin(t):(this.q.push(this._removePlugin.bind(this,t)),ae())},e.prototype._removePlugin=function(t){return ae(this.timeline.deregister(t,this.config))},e.prototype.dispatchWithCallback=function(t,r){if(!this.isReady)return r(kt(t,0,Ia));this.process(t).then(r)},e.prototype.dispatch=function(t){return b(this,void 0,void 0,function(){var r=this;return x(this,function(n){return this.isReady?[2,this.process(t)]:[2,new Promise(function(i){r.dispatchQ.push(r.dispatchWithCallback.bind(r,t,i))})]})})},e.prototype.process=function(t){return b(this,void 0,void 0,function(){var i,r,n,i;return x(this,function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),this.config.optOut?[2,kt(t,0,xa)]:[4,this.timeline.push(t)];case 1:return i=o.sent(),i.code===200?this.config.loggerProvider.log(i.message):i.code===100?this.config.loggerProvider.warn(i.message):this.config.loggerProvider.error(i.message),[2,i];case 2:return r=o.sent(),n=String(r),this.config.loggerProvider.error(n),i=kt(t,0,n),[2,i];case 3:return[2]}})})},e.prototype.setOptOut=function(t){if(!this.isReady){this.q.push(this._setOptOut.bind(this,!!t));return}this._setOptOut(t)},e.prototype._setOptOut=function(t){this.config.optOut=!!t},e.prototype.flush=function(){return ae(this.timeline.flush())},e}(),Ga=function(){function e(){this.productId="",this.quantity=1,this.price=0}return e.prototype.setProductId=function(t){return this.productId=t,this},e.prototype.setQuantity=function(t){return t>0&&(this.quantity=t),this},e.prototype.setPrice=function(t){return this.price=t,this},e.prototype.setRevenueType=function(t){return this.revenueType=t,this},e.prototype.setRevenue=function(t){return this.revenue=t,this},e.prototype.setEventProperties=function(t){return Jn(t)&&(this.properties=t),this},e.prototype.getEventProperties=function(){var t=this.properties?T({},this.properties):{};return t[et.REVENUE_PRODUCT_ID]=this.productId,t[et.REVENUE_QUANTITY]=this.quantity,t[et.REVENUE_PRICE]=this.price,t[et.REVENUE_TYPE]=this.revenueType,t[et.REVENUE]=this.revenue,t},e}(),Qa=function(e,t){var r=Math.max(t,1);return e.reduce(function(n,i,o){var s=Math.floor(o/r);return n[s]||(n[s]=[]),n[s].push(i),n},[])},$r="Amplitude Logger ",Xo=function(){function e(){this.logLevel=ue.None}return e.prototype.disable=function(){this.logLevel=ue.None},e.prototype.enable=function(t){t===void 0&&(t=ue.Warn),this.logLevel=t},e.prototype.log=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];this.logLevel<ue.Verbose||console.log("".concat($r,"[Log]: ").concat(t.join(" ")))},e.prototype.warn=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];this.logLevel<ue.Warn||console.warn("".concat($r,"[Warn]: ").concat(t.join(" ")))},e.prototype.error=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];this.logLevel<ue.Error||console.error("".concat($r,"[Error]: ").concat(t.join(" ")))},e.prototype.debug=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];this.logLevel<ue.Debug||console.log("".concat($r,"[Debug]: ").concat(t.join(" ")))},e}(),Or=function(){return{flushMaxRetries:12,flushQueueSize:200,flushIntervalMillis:1e4,instanceName:"$default_instance",logLevel:ue.Warn,loggerProvider:new Xo,offline:!1,optOut:!1,serverUrl:Qo,serverZone:"US",useBatch:!1}},Ma=function(){function e(t){var r,n,i,o;this._optOut=!1;var s=Or();this.apiKey=t.apiKey,this.flushIntervalMillis=(r=t.flushIntervalMillis)!==null&&r!==void 0?r:s.flushIntervalMillis,this.flushMaxRetries=t.flushMaxRetries||s.flushMaxRetries,this.flushQueueSize=t.flushQueueSize||s.flushQueueSize,this.instanceName=t.instanceName||s.instanceName,this.loggerProvider=t.loggerProvider||s.loggerProvider,this.logLevel=(n=t.logLevel)!==null&&n!==void 0?n:s.logLevel,this.minIdLength=t.minIdLength,this.plan=t.plan,this.ingestionMetadata=t.ingestionMetadata,this.offline=t.offline!==void 0?t.offline:s.offline,this.optOut=(i=t.optOut)!==null&&i!==void 0?i:s.optOut,this.serverUrl=t.serverUrl,this.serverZone=t.serverZone||s.serverZone,this.storageProvider=t.storageProvider,this.transportProvider=t.transportProvider,this.useBatch=(o=t.useBatch)!==null&&o!==void 0?o:s.useBatch,this.loggerProvider.enable(this.logLevel);var c=Wo(t.serverUrl,t.serverZone,t.useBatch);this.serverZone=c.serverZone,this.serverUrl=c.serverUrl}return Object.defineProperty(e.prototype,"optOut",{get:function(){return this._optOut},set:function(t){this._optOut=t},enumerable:!1,configurable:!0}),e}(),Va=function(e,t){return e==="EU"?t?$a:Na:t?Fa:Qo},Wo=function(e,t,r){if(e===void 0&&(e=""),t===void 0&&(t=Or().serverZone),r===void 0&&(r=Or().useBatch),e)return{serverUrl:e,serverZone:void 0};var n=["US","EU"].includes(t)?t:Or().serverZone;return{serverZone:n,serverUrl:Va(n,r)}},Xa=function(){function e(){this.sdk={metrics:{histogram:{}}}}return e.prototype.recordHistogram=function(t,r){this.sdk.metrics.histogram[t]=r},e}();function Wa(e){return e instanceof Error?e.message:String(e)}function Dr(e){var t="";try{"body"in e&&(t=JSON.stringify(e.body,null,2))}catch{}return t}var Ha=function(){function e(){this.name="amplitude",this.type="destination",this.retryTimeout=1e3,this.throttleTimeout=3e4,this.storageKey="",this.scheduled=null,this.queue=[]}return e.prototype.setup=function(t){var r;return b(this,void 0,void 0,function(){var n,i=this;return x(this,function(o){switch(o.label){case 0:return this.config=t,this.storageKey="".concat(Ra,"_").concat(this.config.apiKey.substring(0,10)),[4,(r=this.config.storageProvider)===null||r===void 0?void 0:r.get(this.storageKey)];case 1:return n=o.sent(),n&&n.length>0&&Promise.all(n.map(function(s){return i.execute(s)})).catch(),[2,Promise.resolve(void 0)]}})})},e.prototype.execute=function(t){var r=this;return t.insert_id||(t.insert_id=Ft()),new Promise(function(n){var i={event:t,attempts:0,callback:function(o){return n(o)},timeout:0};r.addToQueue(i)})},e.prototype.getTryableList=function(t){var r=this;return t.filter(function(n){return n.attempts<r.config.flushMaxRetries?(n.attempts+=1,!0):(r.fulfillRequest([n],500,ba),!1)})},e.prototype.scheduleTryable=function(t,r){var n=this;r===void 0&&(r=!1),t.forEach(function(i){if(r&&(n.queue=n.queue.concat(i)),i.timeout===0){n.schedule(n.config.flushIntervalMillis);return}setTimeout(function(){i.timeout=0,n.schedule(0)},i.timeout)})},e.prototype.addToQueue=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var n=this.getTryableList(t);this.scheduleTryable(n,!0),this.saveEvents()},e.prototype.schedule=function(t){var r=this;this.scheduled||this.config.offline||(this.scheduled=setTimeout(function(){r.flush(!0).then(function(){r.queue.length>0&&r.schedule(t)})},t))},e.prototype.flush=function(t){return t===void 0&&(t=!1),b(this,void 0,void 0,function(){var r,n,i,o=this;return x(this,function(s){switch(s.label){case 0:return this.config.offline?(this.config.loggerProvider.debug("Skipping flush while offline."),[2]):(r=[],n=[],this.queue.forEach(function(c){return c.timeout===0?r.push(c):n.push(c)}),this.scheduled&&(clearTimeout(this.scheduled),this.scheduled=null),i=Qa(r,this.config.flushQueueSize),[4,i.reduce(function(c,u){return b(o,void 0,void 0,function(){return x(this,function(a){switch(a.label){case 0:return[4,c];case 1:return a.sent(),[4,this.send(u,t)];case 2:return[2,a.sent()]}})})},Promise.resolve())]);case 1:return s.sent(),this.scheduleTryable(n),[2]}})})},e.prototype.send=function(t,r){return r===void 0&&(r=!0),b(this,void 0,void 0,function(){var n,i,o,s,c;return x(this,function(u){switch(u.label){case 0:if(!this.config.apiKey)return[2,this.fulfillRequest(t,400,wa)];n={api_key:this.config.apiKey,events:t.map(function(a){var l=a.event,d=l.extra,f=jn(l,["extra"]);return f}),options:{min_id_length:this.config.minIdLength},client_upload_time:new Date().toISOString(),request_metadata:this.config.requestMetadata},this.config.requestMetadata=new Xa,u.label=1;case 1:return u.trys.push([1,3,,4]),i=Wo(this.config.serverUrl,this.config.serverZone,this.config.useBatch).serverUrl,[4,this.config.transportProvider.send(i,n)];case 2:return o=u.sent(),o===null?(this.fulfillRequest(t,0,ya),[2]):r?(this.handleResponse(o,t),[3,4]):("body"in o?this.fulfillRequest(t,o.statusCode,"".concat(o.status,": ").concat(Dr(o))):this.fulfillRequest(t,o.statusCode,o.status),[2]);case 3:return s=u.sent(),c=Wa(s),this.config.loggerProvider.error(c),this.handleResponse({status:B.Failed,statusCode:0},t),[3,4];case 4:return[2]}})})},e.prototype.handleResponse=function(t,r){var n=t.status;switch(n){case B.Success:{this.handleSuccessResponse(t,r);break}case B.Invalid:{this.handleInvalidResponse(t,r);break}case B.PayloadTooLarge:{this.handlePayloadTooLargeResponse(t,r);break}case B.RateLimit:{this.handleRateLimitResponse(t,r);break}default:{this.config.loggerProvider.warn(`{code: 0, error: "Status '`.concat(n,"' provided for ").concat(r.length,' events"}')),this.handleOtherResponse(r);break}}},e.prototype.handleSuccessResponse=function(t,r){this.fulfillRequest(r,t.statusCode,ga)},e.prototype.handleInvalidResponse=function(t,r){var n=this;if(t.body.missingField||t.body.error.startsWith(Ea)){this.fulfillRequest(r,t.statusCode,t.body.error);return}var i=Ct(Ct(Ct(Ct([],_e(Object.values(t.body.eventsWithInvalidFields)),!1),_e(Object.values(t.body.eventsWithMissingFields)),!1),_e(Object.values(t.body.eventsWithInvalidIdLengths)),!1),_e(t.body.silencedEvents),!1).flat(),o=new Set(i),s=r.filter(function(u,a){if(o.has(a)){n.fulfillRequest([u],t.statusCode,t.body.error);return}return!0});s.length>0&&this.config.loggerProvider.warn(Dr(t));var c=this.getTryableList(s);this.scheduleTryable(c)},e.prototype.handlePayloadTooLargeResponse=function(t,r){if(r.length===1){this.fulfillRequest(r,t.statusCode,t.body.error);return}this.config.loggerProvider.warn(Dr(t)),this.config.flushQueueSize/=2;var n=this.getTryableList(r);this.scheduleTryable(n)},e.prototype.handleRateLimitResponse=function(t,r){var n=this,i=Object.keys(t.body.exceededDailyQuotaUsers),o=Object.keys(t.body.exceededDailyQuotaDevices),s=t.body.throttledEvents,c=new Set(i),u=new Set(o),a=new Set(s),l=r.filter(function(f,p){if(f.event.user_id&&c.has(f.event.user_id)||f.event.device_id&&u.has(f.event.device_id)){n.fulfillRequest([f],t.statusCode,t.body.error);return}return a.has(p)&&(f.timeout=n.throttleTimeout),!0});l.length>0&&this.config.loggerProvider.warn(Dr(t));var d=this.getTryableList(l);this.scheduleTryable(d)},e.prototype.handleOtherResponse=function(t){var r=this,n=t.map(function(o){return o.timeout=o.attempts*r.retryTimeout,o}),i=this.getTryableList(n);this.scheduleTryable(i)},e.prototype.fulfillRequest=function(t,r,n){this.removeEvents(t),t.forEach(function(i){return i.callback(kt(i.event,r,n))})},e.prototype.saveEvents=function(){if(this.config.storageProvider){var t=this.queue.map(function(r){return r.event});this.config.storageProvider.set(this.storageKey,t)}},e.prototype.removeEvents=function(t){this.queue=this.queue.filter(function(r){return!t.some(function(n){return n.event.insert_id===r.event.insert_id})}),this.saveEvents()},e}(),Za=function(e){e===void 0&&(e=0);var t=new Error().stack||"";return t.split(`
`).slice(2+e).map(function(r){return r.trim()})},G=function(e){return function(){var t=T({},e.config),r=t.loggerProvider,n=t.logLevel;return{logger:r,logLevel:n}}},qa=function(e,t){var r,n;t=t.replace(/\[(\w+)\]/g,".$1"),t=t.replace(/^\./,"");try{for(var i=Rt(t.split(".")),o=i.next();!o.done;o=i.next()){var s=o.value;if(s in e)e=e[s];else return}}catch(c){r={error:c}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return e},Q=function(e,t){return function(){var r,n,i={};try{for(var o=Rt(t),s=o.next();!s.done;s=o.next()){var c=s.value;i[c]=qa(e,c)}}catch(u){r={error:u}}finally{try{s&&!s.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return i}},M=function(e,t,r,n,i){return i===void 0&&(i=null),function(){for(var o=[],s=0;s<arguments.length;s++)o[s]=arguments[s];var c=r(),u=c.logger,a=c.logLevel;if(a&&a<ue.Debug||!a||!u)return e.apply(i,o);var l={type:"invoke public method",name:t,args:o,stacktrace:Za(1),time:{start:new Date().toISOString()},states:{}};n&&l.states&&(l.states.before=n());var d=e.apply(i,o);return d&&d.promise?d.promise.then(function(){n&&l.states&&(l.states.after=n()),l.time&&(l.time.end=new Date().toISOString()),u.debug(JSON.stringify(l,null,2))}):(n&&l.states&&(l.states.after=n()),l.time&&(l.time.end=new Date().toISOString()),u.debug(JSON.stringify(l,null,2))),d}},ei=function(){function e(){this.memoryStorage=new Map}return e.prototype.isEnabled=function(){return b(this,void 0,void 0,function(){return x(this,function(t){return[2,!0]})})},e.prototype.get=function(t){return b(this,void 0,void 0,function(){return x(this,function(r){return[2,this.memoryStorage.get(t)]})})},e.prototype.getRaw=function(t){return b(this,void 0,void 0,function(){var r;return x(this,function(n){switch(n.label){case 0:return[4,this.get(t)];case 1:return r=n.sent(),[2,r?JSON.stringify(r):void 0]}})})},e.prototype.set=function(t,r){return b(this,void 0,void 0,function(){return x(this,function(n){return this.memoryStorage.set(t,r),[2]})})},e.prototype.remove=function(t){return b(this,void 0,void 0,function(){return x(this,function(r){return this.memoryStorage.delete(t),[2]})})},e.prototype.reset=function(){return b(this,void 0,void 0,function(){return x(this,function(t){return this.memoryStorage.clear(),[2]})})},e}(),ti=function(){function e(){}return e.prototype.send=function(t,r){return Promise.resolve(null)},e.prototype.buildResponse=function(t){var r,n,i,o,s,c,u,a,l,d,f,p,g,h,y,v,m,w,E,D,S,I;if(typeof t!="object")return null;var R=t.code||0,L=this.buildStatus(R);switch(L){case B.Success:return{status:L,statusCode:R,body:{eventsIngested:(r=t.events_ingested)!==null&&r!==void 0?r:0,payloadSizeBytes:(n=t.payload_size_bytes)!==null&&n!==void 0?n:0,serverUploadTime:(i=t.server_upload_time)!==null&&i!==void 0?i:0}};case B.Invalid:return{status:L,statusCode:R,body:{error:(o=t.error)!==null&&o!==void 0?o:"",missingField:(s=t.missing_field)!==null&&s!==void 0?s:"",eventsWithInvalidFields:(c=t.events_with_invalid_fields)!==null&&c!==void 0?c:{},eventsWithMissingFields:(u=t.events_with_missing_fields)!==null&&u!==void 0?u:{},eventsWithInvalidIdLengths:(a=t.events_with_invalid_id_lengths)!==null&&a!==void 0?a:{},epsThreshold:(l=t.eps_threshold)!==null&&l!==void 0?l:0,exceededDailyQuotaDevices:(d=t.exceeded_daily_quota_devices)!==null&&d!==void 0?d:{},silencedDevices:(f=t.silenced_devices)!==null&&f!==void 0?f:[],silencedEvents:(p=t.silenced_events)!==null&&p!==void 0?p:[],throttledDevices:(g=t.throttled_devices)!==null&&g!==void 0?g:{},throttledEvents:(h=t.throttled_events)!==null&&h!==void 0?h:[]}};case B.PayloadTooLarge:return{status:L,statusCode:R,body:{error:(y=t.error)!==null&&y!==void 0?y:""}};case B.RateLimit:return{status:L,statusCode:R,body:{error:(v=t.error)!==null&&v!==void 0?v:"",epsThreshold:(m=t.eps_threshold)!==null&&m!==void 0?m:0,throttledDevices:(w=t.throttled_devices)!==null&&w!==void 0?w:{},throttledUsers:(E=t.throttled_users)!==null&&E!==void 0?E:{},exceededDailyQuotaDevices:(D=t.exceeded_daily_quota_devices)!==null&&D!==void 0?D:{},exceededDailyQuotaUsers:(S=t.exceeded_daily_quota_users)!==null&&S!==void 0?S:{},throttledEvents:(I=t.throttled_events)!==null&&I!==void 0?I:[]}};case B.Timeout:default:return{status:L,statusCode:R}}},e.prototype.buildStatus=function(t){return t>=200&&t<300?B.Success:t===429?B.RateLimit:t===413?B.PayloadTooLarge:t===408?B.Timeout:t>=400&&t<500?B.Invalid:t>=500?B.Failed:B.Unknown},e}(),Ce=function(){var e="ampIntegrationContext";if(typeof globalThis<"u"&&typeof globalThis[e]<"u")return globalThis[e];if(typeof globalThis<"u")return globalThis;if(typeof window<"u")return window;if(typeof self<"u")return self;if(typeof global<"u")return global},Br=function(){var e,t=Ce();if(!(!((e=t?.location)===null||e===void 0)&&e.search))return{};var r=t.location.search.substring(1).split("&").filter(Boolean),n=r.reduce(function(i,o){var s=o.split("=",2),c=xo(s[0]),u=xo(s[1]);return u&&(i[c]=u),i},{});return n},xo=function(e){e===void 0&&(e="");try{return decodeURIComponent(e)}catch{return""}},Ya="utm_campaign",ja="utm_content",za="utm_id",Ja="utm_medium",Ka="utm_source",eu="utm_term",wo="dclid",Eo="fbclid",Io="gbraid",To="gclid",So="ko_click_id",Ao="li_fat_id",Co="msclkid",ko="rtd_cid",Ro="ttclid",No="twclid",Fo="wbraid",Mr={utm_campaign:void 0,utm_content:void 0,utm_id:void 0,utm_medium:void 0,utm_source:void 0,utm_term:void 0,referrer:void 0,referring_domain:void 0,dclid:void 0,gbraid:void 0,gclid:void 0,fbclid:void 0,ko_click_id:void 0,li_fat_id:void 0,msclkid:void 0,rtd_cid:void 0,ttclid:void 0,twclid:void 0,wbraid:void 0},Ho=function(){function e(){}return e.prototype.parse=function(){return b(this,void 0,void 0,function(){return x(this,function(t){return[2,T(T(T(T({},Mr),this.getUtmParam()),this.getReferrer()),this.getClickIds())]})})},e.prototype.getUtmParam=function(){var t=Br(),r=t[Ya],n=t[ja],i=t[za],o=t[Ja],s=t[Ka],c=t[eu];return{utm_campaign:r,utm_content:n,utm_id:i,utm_medium:o,utm_source:s,utm_term:c}},e.prototype.getReferrer=function(){var t,r,n={referrer:void 0,referring_domain:void 0};try{n.referrer=document.referrer||void 0,n.referring_domain=(r=(t=n.referrer)===null||t===void 0?void 0:t.split("/")[2])!==null&&r!==void 0?r:void 0}catch{}return n},e.prototype.getClickIds=function(){var t,r=Br();return t={},t[wo]=r[wo],t[Eo]=r[Eo],t[Io]=r[Io],t[To]=r[To],t[So]=r[So],t[Ao]=r[Ao],t[Co]=r[Co],t[ko]=r[ko],t[Ro]=r[Ro],t[No]=r[No],t[Fo]=r[Fo],t},e}(),Zo=function(e,t,r){return t===void 0&&(t=""),r===void 0&&(r=10),[Qr,t,e.substring(0,r)].filter(Boolean).join("_")},tu=function(e){return"".concat(Qr.toLowerCase(),"_").concat(e.substring(0,6))},$o=function(e){var t=e.split(".");return t.length<=2?e:t.slice(t.length-2,t.length).join(".")},ru=function(e){return Object.values(e).every(function(t){return!t})},nu=function(e,t,r,n,i){i===void 0&&(i=!0);var o=e.referrer,s=e.referring_domain,c=jn(e,["referrer","referring_domain"]),u=t||{},a=u.referrer,l=u.referring_domain,d=jn(u,["referrer","referring_domain"]);if(iu(r.excludeReferrers,e.referring_domain))return n.debug("This is not a new campaign because ".concat(e.referring_domain," is in the exclude referrer list.")),!1;if(!i&&ru(e)&&t)return n.debug("This is not a new campaign because this is a direct traffic in the same session."),!1;var f=JSON.stringify(c)!==JSON.stringify(d),p=$o(s||"")!==$o(l||""),g=!t||f||p;return g?n.debug("This is a new campaign. An $identify event will be sent."):n.debug("This is not a new campaign because it's the same as the previous one."),g},iu=function(e,t){return e===void 0&&(e=[]),t===void 0&&(t=""),e.some(function(r){return r instanceof RegExp?r.test(t):r===t})},ou=function(e,t){var r=T(T({},Mr),e),n=Object.entries(r).reduce(function(i,o){var s,c=_e(o,2),u=c[0],a=c[1];return i.setOnce("initial_".concat(u),(s=a??t.initialEmptyValue)!==null&&s!==void 0?s:"EMPTY"),a?i.set(u,a):i.unset(u)},new Nt);return Vo(n)},su=function(e){var t=e;return t?(t.startsWith(".")&&(t=t.substring(1)),[new RegExp("".concat(t.replace(".","\\."),"$"))]):[]},au=function(e,t,r){return t===void 0&&(t=""),r===void 0&&(r=10),[Qr,t,e.substring(0,r)].filter(Boolean).join("_")},qo=function(e,t){t===void 0&&(t=Date.now());var r=Date.now(),n=r-t;return n>e},uu=function(){function e(t,r){var n;this.shouldTrackNewCampaign=!1,this.options=T({initialEmptyValue:"EMPTY",resetSessionOnNewCampaign:!1,excludeReferrers:su((n=r.cookieOptions)===null||n===void 0?void 0:n.domain)},t),this.storage=r.cookieStorage,this.storageKey=au(r.apiKey,"MKTG"),this.currentCampaign=Mr,this.sessionTimeout=r.sessionTimeout,this.lastEventTime=r.lastEventTime,this.logger=r.loggerProvider,r.loggerProvider.log("Installing web attribution tracking.")}return e.prototype.init=function(){return b(this,void 0,void 0,function(){var t,r;return x(this,function(n){switch(n.label){case 0:return[4,this.fetchCampaign()];case 1:return r=_e.apply(void 0,[n.sent(),2]),this.currentCampaign=r[0],this.previousCampaign=r[1],t=this.lastEventTime?qo(this.sessionTimeout,this.lastEventTime):!0,nu(this.currentCampaign,this.previousCampaign,this.options,this.logger,t)?(this.shouldTrackNewCampaign=!0,[4,this.storage.set(this.storageKey,this.currentCampaign)]):[3,3];case 2:n.sent(),n.label=3;case 3:return[2]}})})},e.prototype.fetchCampaign=function(){return b(this,void 0,void 0,function(){return x(this,function(t){switch(t.label){case 0:return[4,Promise.all([new Ho().parse(),this.storage.get(this.storageKey)])];case 1:return[2,t.sent()]}})})},e.prototype.generateCampaignEvent=function(t){this.shouldTrackNewCampaign=!1;var r=ou(this.currentCampaign,this.options);return t&&(r.event_id=t),r},e.prototype.shouldSetSessionIdOnNewCampaign=function(){return this.shouldTrackNewCampaign&&!!this.options.resetSessionOnNewCampaign},e}(),Kn=function(){function e(t){this.options=T({},t)}return e.prototype.isEnabled=function(){return b(this,void 0,void 0,function(){var t,r,n,i;return x(this,function(o){switch(o.label){case 0:if(!Ce())return[2,!1];e.testValue=String(Date.now()),t=new e(this.options),r="AMP_TEST",o.label=1;case 1:return o.trys.push([1,4,5,7]),[4,t.set(r,e.testValue)];case 2:return o.sent(),[4,t.get(r)];case 3:return n=o.sent(),[2,n===e.testValue];case 4:return i=o.sent(),[2,!1];case 5:return[4,t.remove(r)];case 6:return o.sent(),[7];case 7:return[2]}})})},e.prototype.get=function(t){var r;return b(this,void 0,void 0,function(){var n,i;return x(this,function(o){switch(o.label){case 0:return[4,this.getRaw(t)];case 1:if(n=o.sent(),!n)return[2,void 0];try{return i=(r=lu(n))!==null&&r!==void 0?r:cu(n),i===void 0?(console.error("Amplitude Logger [Error]: Failed to decode cookie value for key: ".concat(t,", value: ").concat(n)),[2,void 0]):[2,JSON.parse(i)]}catch{return console.error("Amplitude Logger [Error]: Failed to parse cookie value for key: ".concat(t,", value: ").concat(n)),[2,void 0]}return[2]}})})},e.prototype.getRaw=function(t){var r,n;return b(this,void 0,void 0,function(){var i,o,s;return x(this,function(c){return i=Ce(),o=(n=(r=i?.document)===null||r===void 0?void 0:r.cookie.split("; "))!==null&&n!==void 0?n:[],s=o.find(function(u){return u.indexOf(t+"=")===0}),s?[2,s.substring(t.length+1)]:[2,void 0]})})},e.prototype.set=function(t,r){var n;return b(this,void 0,void 0,function(){var i,o,s,c,u,a,l;return x(this,function(d){try{i=(n=this.options.expirationDays)!==null&&n!==void 0?n:0,o=r!==null?i:-1,s=void 0,o&&(c=new Date,c.setTime(c.getTime()+o*24*60*60*1e3),s=c),u="".concat(t,"=").concat(btoa(encodeURIComponent(JSON.stringify(r)))),s&&(u+="; expires=".concat(s.toUTCString())),u+="; path=/",this.options.domain&&(u+="; domain=".concat(this.options.domain)),this.options.secure&&(u+="; Secure"),this.options.sameSite&&(u+="; SameSite=".concat(this.options.sameSite)),a=Ce(),a&&(a.document.cookie=u)}catch(f){l=f instanceof Error?f.message:String(f),console.error("Amplitude Logger [Error]: Failed to set cookie for key: ".concat(t,". Error: ").concat(l))}return[2]})})},e.prototype.remove=function(t){return b(this,void 0,void 0,function(){return x(this,function(r){switch(r.label){case 0:return[4,this.set(t,null)];case 1:return r.sent(),[2]}})})},e.prototype.reset=function(){return b(this,void 0,void 0,function(){return x(this,function(t){return[2]})})},e}(),lu=function(e){try{return decodeURIComponent(atob(e))}catch{return}},cu=function(e){try{return decodeURIComponent(atob(decodeURIComponent(e)))}catch{return}},fu=function(e){ct(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.send=function(r,n){return b(this,void 0,void 0,function(){var i,o,s;return x(this,function(c){switch(c.label){case 0:if(typeof fetch>"u")throw new Error("FetchTransport is not supported");return i={headers:{"Content-Type":"application/json",Accept:"*/*"},body:JSON.stringify(n),method:"POST"},[4,fetch(r,i)];case 1:return o=c.sent(),[4,o.text()];case 2:s=c.sent();try{return[2,this.buildResponse(JSON.parse(s))]}catch{return[2,this.buildResponse({code:o.status})]}return[2]}})})},t}(ti),du=function(){function e(){}return e.prototype.getApplicationContext=function(){return{versionName:this.versionName,language:pu(),platform:"Web",os:void 0,deviceModel:void 0}},e}(),pu=function(){return typeof navigator<"u"&&(navigator.languages&&navigator.languages[0]||navigator.language)||""},vu=function(){function e(){this.queue=[]}return e.prototype.logEvent=function(t){this.receiver?this.receiver(t):this.queue.length<512&&this.queue.push(t)},e.prototype.setEventReceiver=function(t){this.receiver=t,this.queue.length>0&&(this.queue.forEach(function(r){t(r)}),this.queue=[])},e}(),Ke=function(){return Ke=Object.assign||function(t){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])}return t},Ke.apply(this,arguments)};function Ur(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Do(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),i,o=[],s;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(c){s={error:c}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(s)throw s.error}}return o}var Pr=function(e,t){var r,n,i=["string","number","boolean","undefined"],o=typeof e,s=typeof t;if(o!==s)return!1;try{for(var c=Ur(i),u=c.next();!u.done;u=c.next()){var a=u.value;if(a===o)return e===t}}catch(y){r={error:y}}finally{try{u&&!u.done&&(n=c.return)&&n.call(c)}finally{if(r)throw r.error}}if(e==null&&t==null)return!0;if(e==null||t==null||e.length!==t.length)return!1;var l=Array.isArray(e),d=Array.isArray(t);if(l!==d)return!1;if(l&&d){for(var f=0;f<e.length;f++)if(!Pr(e[f],t[f]))return!1}else{var p=Object.keys(e).sort(),g=Object.keys(t).sort();if(!Pr(p,g))return!1;var h=!0;return Object.keys(e).forEach(function(y){Pr(e[y],t[y])||(h=!1)}),h}return!0},_u="$set",hu="$unset",mu="$clearAll";Object.entries||(Object.entries=function(e){for(var t=Object.keys(e),r=t.length,n=new Array(r);r--;)n[r]=[t[r],e[t[r]]];return n});var gu=function(){function e(){this.identity={userProperties:{}},this.listeners=new Set}return e.prototype.editIdentity=function(){var t=this,r=Ke({},this.identity.userProperties),n=Ke(Ke({},this.identity),{userProperties:r});return{setUserId:function(i){return n.userId=i,this},setDeviceId:function(i){return n.deviceId=i,this},setUserProperties:function(i){return n.userProperties=i,this},setOptOut:function(i){return n.optOut=i,this},updateUserProperties:function(i){var o,s,c,u,a,l,d=n.userProperties||{};try{for(var f=Ur(Object.entries(i)),p=f.next();!p.done;p=f.next()){var g=Do(p.value,2),h=g[0],y=g[1];switch(h){case _u:try{for(var v=(c=void 0,Ur(Object.entries(y))),m=v.next();!m.done;m=v.next()){var w=Do(m.value,2),E=w[0],D=w[1];d[E]=D}}catch(R){c={error:R}}finally{try{m&&!m.done&&(u=v.return)&&u.call(v)}finally{if(c)throw c.error}}break;case hu:try{for(var S=(a=void 0,Ur(Object.keys(y))),I=S.next();!I.done;I=S.next()){var E=I.value;delete d[E]}}catch(R){a={error:R}}finally{try{I&&!I.done&&(l=S.return)&&l.call(S)}finally{if(a)throw a.error}}break;case mu:d={};break}}}catch(R){o={error:R}}finally{try{p&&!p.done&&(s=f.return)&&s.call(f)}finally{if(o)throw o.error}}return n.userProperties=d,this},commit:function(){return t.setIdentity(n),this}}},e.prototype.getIdentity=function(){return Ke({},this.identity)},e.prototype.setIdentity=function(t){var r=Ke({},this.identity);this.identity=Ke({},t),Pr(r,this.identity)||this.listeners.forEach(function(n){n(t)})},e.prototype.addIdentityListener=function(t){this.listeners.add(t)},e.prototype.removeIdentityListener=function(t){this.listeners.delete(t)},e}(),er=typeof globalThis<"u"?globalThis:typeof global<"u"?global:self,yu=function(){function e(){this.identityStore=new gu,this.eventBridge=new vu,this.applicationContextProvider=new du}return e.getInstance=function(t){return er.analyticsConnectorInstances||(er.analyticsConnectorInstances={}),er.analyticsConnectorInstances[t]||(er.analyticsConnectorInstances[t]=new e),er.analyticsConnectorInstances[t]},e}(),tr=function(e){return e===void 0&&(e="$default_instance"),yu.getInstance(e)},bu=function(e,t){tr(t).identityStore.editIdentity().setUserId(e).commit()},xu=function(e,t){tr(t).identityStore.editIdentity().setDeviceId(e).commit()},wu=function(){function e(){this.name="identity",this.type="before",this.identityStore=tr().identityStore}return e.prototype.execute=function(t){return b(this,void 0,void 0,function(){var r;return x(this,function(n){return r=t.user_properties,r&&this.identityStore.editIdentity().updateUserProperties(r).commit(),[2,t]})})},e.prototype.setup=function(t){return b(this,void 0,void 0,function(){return x(this,function(r){return t.instanceName&&(this.identityStore=tr(t.instanceName).identityStore),[2]})})},e}(),Eu=function(){var e,t,r,n;if(typeof navigator>"u")return"";var i=navigator.userLanguage;return(n=(r=(t=(e=navigator.languages)===null||e===void 0?void 0:e[0])!==null&&t!==void 0?t:navigator.language)!==null&&r!==void 0?r:i)!==null&&n!==void 0?n:""},rr=function(e,t){return typeof e=="boolean"?e:e?.[t]!==!1},Yo=function(e){return rr(e,"attribution")},Iu=function(e){return rr(e,"fileDownloads")},Tu=function(e){return rr(e,"formInteractions")},jo=function(e){return rr(e,"pageViews")},Lo=function(e){return rr(e,"sessions")},Su=function(e){var t=function(){return!1},r=void 0,n,i=e.pageCounter,o=jo(e.defaultTracking);return o&&(t=void 0,n=void 0,e.defaultTracking&&typeof e.defaultTracking=="object"&&e.defaultTracking.pageViews&&typeof e.defaultTracking.pageViews=="object"&&("trackOn"in e.defaultTracking.pageViews&&(t=e.defaultTracking.pageViews.trackOn),"trackHistoryChanges"in e.defaultTracking.pageViews&&(r=e.defaultTracking.pageViews.trackHistoryChanges),"eventType"in e.defaultTracking.pageViews&&e.defaultTracking.pageViews.eventType&&(n=e.defaultTracking.pageViews.eventType))),{trackOn:t,trackHistoryChanges:r,eventType:n,pageCounter:i}},Au=function(e){return Yo(e.defaultTracking)&&e.defaultTracking&&typeof e.defaultTracking=="object"&&e.defaultTracking.attribution&&typeof e.defaultTracking.attribution=="object"?T({},e.defaultTracking.attribution):{}};var Vn=function(e,t){for(var r=0;r<t.length;r++){var n=t[r],i=n.name,o=n.args,s=n.resolve,c=e&&e[i];if(typeof c=="function"){var u=c.apply(e,o);typeof s=="function"&&s(u?.promise)}}return e},Xn=function(e){var t=e;return t&&t._q!==void 0},Cu="2.9.3",ku="Web",Ru="$remote",Nu=function(){function e(){this.name="@amplitude/plugin-context-browser",this.type="before",this.library="amplitude-ts/".concat(Cu),typeof navigator<"u"&&(this.userAgent=navigator.userAgent)}return e.prototype.setup=function(t){return this.config=t,Promise.resolve(void 0)},e.prototype.execute=function(t){var r,n;return b(this,void 0,void 0,function(){var i,o,s,c;return x(this,function(u){return i=new Date().getTime(),o=(r=this.config.lastEventId)!==null&&r!==void 0?r:-1,s=(n=t.event_id)!==null&&n!==void 0?n:o+1,this.config.lastEventId=s,t.time||(this.config.lastEventTime=i),c=T(T(T(T(T(T(T(T({user_id:this.config.userId,device_id:this.config.deviceId,session_id:this.config.sessionId,time:i},this.config.appVersion&&{app_version:this.config.appVersion}),this.config.trackingOptions.platform&&{platform:ku}),this.config.trackingOptions.language&&{language:Eu()}),this.config.trackingOptions.ipAddress&&{ip:Ru}),{insert_id:Ft(),partner_id:this.config.partnerId,plan:this.config.plan}),this.config.ingestionMetadata&&{ingestion_metadata:{source_name:this.config.ingestionMetadata.sourceName,source_version:this.config.ingestionMetadata.sourceVersion}}),t),{event_id:s,library:this.library,user_agent:this.userAgent}),[2,c]})})},e}(),zo=function(){function e(t){this.storage=t}return e.prototype.isEnabled=function(){return b(this,void 0,void 0,function(){var t,r,n,i,o;return x(this,function(s){switch(s.label){case 0:if(!this.storage)return[2,!1];t=String(Date.now()),r=new e(this.storage),n="AMP_TEST",s.label=1;case 1:return s.trys.push([1,4,5,7]),[4,r.set(n,t)];case 2:return s.sent(),[4,r.get(n)];case 3:return i=s.sent(),[2,i===t];case 4:return o=s.sent(),[2,!1];case 5:return[4,r.remove(n)];case 6:return s.sent(),[7];case 7:return[2]}})})},e.prototype.get=function(t){return b(this,void 0,void 0,function(){var r,n;return x(this,function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,this.getRaw(t)];case 1:return r=i.sent(),r?[2,JSON.parse(r)]:[2,void 0];case 2:return n=i.sent(),console.error("[Amplitude] Error: Could not get value from storage"),[2,void 0];case 3:return[2]}})})},e.prototype.getRaw=function(t){var r;return b(this,void 0,void 0,function(){return x(this,function(n){return[2,((r=this.storage)===null||r===void 0?void 0:r.getItem(t))||void 0]})})},e.prototype.set=function(t,r){var n;return b(this,void 0,void 0,function(){return x(this,function(i){try{(n=this.storage)===null||n===void 0||n.setItem(t,JSON.stringify(r))}catch{}return[2]})})},e.prototype.remove=function(t){var r;return b(this,void 0,void 0,function(){return x(this,function(n){try{(r=this.storage)===null||r===void 0||r.removeItem(t)}catch{}return[2]})})},e.prototype.reset=function(){var t;return b(this,void 0,void 0,function(){return x(this,function(r){try{(t=this.storage)===null||t===void 0||t.clear()}catch{}return[2]})})},e}(),Lr=1e3,Jo=function(e){ct(t,e);function t(r){var n=this,i;return n=e.call(this,(i=Ce())===null||i===void 0?void 0:i.localStorage)||this,n.loggerProvider=r?.loggerProvider,n}return t.prototype.set=function(r,n){var i;return b(this,void 0,void 0,function(){var o;return x(this,function(s){switch(s.label){case 0:return Array.isArray(n)&&n.length>Lr?(o=n.length-Lr,[4,e.prototype.set.call(this,r,n.slice(0,Lr))]):[3,2];case 1:return s.sent(),(i=this.loggerProvider)===null||i===void 0||i.error("Failed to save ".concat(o," events because the queue length exceeded ").concat(Lr,".")),[3,4];case 2:return[4,e.prototype.set.call(this,r,n)];case 3:s.sent(),s.label=4;case 4:return[2]}})})},t}(zo),Fu=function(e){ct(t,e);function t(){var r;return e.call(this,(r=Ce())===null||r===void 0?void 0:r.sessionStorage)||this}return t}(zo),$u=function(e){ct(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.state={done:4},r}return t.prototype.send=function(r,n){return b(this,void 0,void 0,function(){var i=this;return x(this,function(o){return[2,new Promise(function(s,c){typeof XMLHttpRequest>"u"&&c(new Error("XHRTransport is not supported."));var u=new XMLHttpRequest;u.open("POST",r,!0),u.onreadystatechange=function(){if(u.readyState===i.state.done){var a=u.responseText;try{s(i.buildResponse(JSON.parse(a)))}catch{s(i.buildResponse({code:u.status}))}}},u.setRequestHeader("Content-Type","application/json"),u.setRequestHeader("Accept","*/*"),u.send(JSON.stringify(n))})]})})},t}(ti),Du=function(e){ct(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.send=function(r,n){return b(this,void 0,void 0,function(){var i=this;return x(this,function(o){return[2,new Promise(function(s,c){var u=Ce();if(!u?.navigator.sendBeacon)throw new Error("SendBeaconTransport is not supported");try{var a=JSON.stringify(n),l=u.navigator.sendBeacon(r,JSON.stringify(n));return s(l?i.buildResponse({code:200,events_ingested:n.events.length,payload_size_bytes:a.length,server_upload_time:Date.now()}):i.buildResponse({code:500}))}catch(d){c(d)}})]})})},t}(ti),Lu=function(e,t,r){return r===void 0&&(r=!0),b(void 0,void 0,void 0,function(){var n,i,o,s,c,u,a,l,d;return x(this,function(f){switch(f.label){case 0:return n=tu(e),[4,t.getRaw(n)];case 1:return i=f.sent(),i?r?[4,t.remove(n)]:[3,3]:[2,{optOut:!1}];case 2:f.sent(),f.label=3;case 3:return o=_e(i.split("."),6),s=o[0],c=o[1],u=o[2],a=o[3],l=o[4],d=o[5],[2,{deviceId:s,userId:Ou(c),sessionId:Wn(a),lastEventId:Wn(d),lastEventTime:Wn(l),optOut:!!u}]}})})},Wn=function(e){var t=parseInt(e,32);if(!isNaN(t))return t},Ou=function(e){if(!(!atob||!escape||!e))try{return decodeURIComponent(escape(atob(e)))}catch{return}},Ee="[Amplitude]",o0="".concat(Ee," Page Viewed"),Oo="".concat(Ee," Form Started"),Uu="".concat(Ee," Form Submitted"),Pu="".concat(Ee," File Downloaded"),Uo="session_start",Po="session_end",Bu="".concat(Ee," File Extension"),Gu="".concat(Ee," File Name"),Qu="".concat(Ee," Link ID"),Mu="".concat(Ee," Link Text"),Vu="".concat(Ee," Link URL"),Hn="".concat(Ee," Form ID"),Zn="".concat(Ee," Form Name"),qn="".concat(Ee," Form Destination"),Gr="cookie",Xu="US",Wu=function(e){ct(t,e);function t(r,n,i,o,s,c,u,a,l,d,f,p,g,h,y,v,m,w,E,D,S,I,R,L,Ie,ke,Ge,Ze,tt,$t,Dt,ft){i===void 0&&(i=new ei),o===void 0&&(o={domain:"",expiration:365,sameSite:"Lax",secure:!1,upgrade:!0}),u===void 0&&(u=1e3),a===void 0&&(a=5),l===void 0&&(l=30),d===void 0&&(d=Gr),y===void 0&&(y=new Xo),v===void 0&&(v=ue.Warn),w===void 0&&(w=!1),E===void 0&&(E=!1),I===void 0&&(I=""),R===void 0&&(R=Xu),Ie===void 0&&(Ie=30*60*1e3),ke===void 0&&(ke=new Jo({loggerProvider:y})),Ge===void 0&&(Ge={ipAddress:!0,language:!0,platform:!0}),Ze===void 0&&(Ze="fetch"),tt===void 0&&(tt=!1);var C=e.call(this,{apiKey:r,storageProvider:ke,transportProvider:Ko(Ze)})||this;return C.apiKey=r,C.appVersion=n,C.cookieOptions=o,C.defaultTracking=s,C.flushIntervalMillis=u,C.flushMaxRetries=a,C.flushQueueSize=l,C.identityStorage=d,C.ingestionMetadata=f,C.instanceName=p,C.loggerProvider=y,C.logLevel=v,C.minIdLength=m,C.offline=w,C.partnerId=D,C.plan=S,C.serverUrl=I,C.serverZone=R,C.sessionTimeout=Ie,C.storageProvider=ke,C.trackingOptions=Ge,C.transport=Ze,C.useBatch=tt,C._optOut=!1,C._cookieStorage=i,C.deviceId=c,C.lastEventId=g,C.lastEventTime=h,C.optOut=E,C.sessionId=L,C.pageCounter=Dt,C.userId=$t,C.debugLogsEnabled=ft,C.loggerProvider.enable(ft?ue.Debug:C.logLevel),C}return Object.defineProperty(t.prototype,"cookieStorage",{get:function(){return this._cookieStorage},set:function(r){this._cookieStorage!==r&&(this._cookieStorage=r,this.updateStorage())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"deviceId",{get:function(){return this._deviceId},set:function(r){this._deviceId!==r&&(this._deviceId=r,this.updateStorage())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"userId",{get:function(){return this._userId},set:function(r){this._userId!==r&&(this._userId=r,this.updateStorage())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"sessionId",{get:function(){return this._sessionId},set:function(r){this._sessionId!==r&&(this._sessionId=r,this.updateStorage())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"optOut",{get:function(){return this._optOut},set:function(r){this._optOut!==r&&(this._optOut=r,this.updateStorage())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lastEventTime",{get:function(){return this._lastEventTime},set:function(r){this._lastEventTime!==r&&(this._lastEventTime=r,this.updateStorage())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lastEventId",{get:function(){return this._lastEventId},set:function(r){this._lastEventId!==r&&(this._lastEventId=r,this.updateStorage())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"pageCounter",{get:function(){return this._pageCounter},set:function(r){this._pageCounter!==r&&(this._pageCounter=r,this.updateStorage())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"debugLogsEnabled",{set:function(r){this._debugLogsEnabled!==r&&(this._debugLogsEnabled=r,this.updateStorage())},enumerable:!1,configurable:!0}),t.prototype.updateStorage=function(){var r={deviceId:this._deviceId,userId:this._userId,sessionId:this._sessionId,optOut:this._optOut,lastEventTime:this._lastEventTime,lastEventId:this._lastEventId,pageCounter:this._pageCounter,debugLogsEnabled:this._debugLogsEnabled};this.cookieStorage.set(Zo(this.apiKey),r)},t}(Ma),Hu=function(e,t,r){return t===void 0&&(t={}),b(void 0,void 0,void 0,function(){var n,i,o,s,c,u,a,l,d,f,p,g,h,y,v,m,w,E,D,S,I,R,L,Ie,ke,Ge,Ze,tt,$t,Dt,ft,C,Vr,Xr,Wr,Hr,Zr,qr,Yr,jr,zr,Jr,Kr;return x(this,function(rt){switch(rt.label){case 0:return n=t.identityStorage||Gr,D={},n===Gr?[3,1]:(o="",[3,5]);case 1:return(I=(S=t.cookieOptions)===null||S===void 0?void 0:S.domain)!==null&&I!==void 0?(s=I,[3,4]):[3,2];case 2:return[4,qu()];case 3:s=rt.sent(),rt.label=4;case 4:o=s,rt.label=5;case 5:return i=T.apply(void 0,[(D.domain=o,D.expiration=365,D.sameSite="Lax",D.secure=!1,D.upgrade=!0,D),t.cookieOptions]),c=Zu(t.identityStorage,i),[4,Lu(e,c,(L=(R=t.cookieOptions)===null||R===void 0?void 0:R.upgrade)!==null&&L!==void 0?L:!0)];case 6:return u=rt.sent(),[4,c.get(Zo(e))];case 7:return a=rt.sent(),l=Br(),d=(tt=(Ze=(Ge=(ke=(Ie=t.deviceId)!==null&&Ie!==void 0?Ie:l.ampDeviceId)!==null&&ke!==void 0?ke:l.deviceId)!==null&&Ge!==void 0?Ge:a?.deviceId)!==null&&Ze!==void 0?Ze:u.deviceId)!==null&&tt!==void 0?tt:Ft(),f=($t=a?.lastEventId)!==null&&$t!==void 0?$t:u.lastEventId,p=(Dt=a?.lastEventTime)!==null&&Dt!==void 0?Dt:u.lastEventTime,g=(C=(ft=t.optOut)!==null&&ft!==void 0?ft:a?.optOut)!==null&&C!==void 0?C:u.optOut,h=(Vr=a?.sessionId)!==null&&Vr!==void 0?Vr:u.sessionId,y=(Wr=(Xr=t.userId)!==null&&Xr!==void 0?Xr:a?.userId)!==null&&Wr!==void 0?Wr:u.userId,r.previousSessionDeviceId=(Hr=a?.deviceId)!==null&&Hr!==void 0?Hr:u.deviceId,r.previousSessionUserId=(Zr=a?.userId)!==null&&Zr!==void 0?Zr:u.userId,v={ipAddress:(Yr=(qr=t.trackingOptions)===null||qr===void 0?void 0:qr.ipAddress)!==null&&Yr!==void 0?Yr:!0,language:(zr=(jr=t.trackingOptions)===null||jr===void 0?void 0:jr.language)!==null&&zr!==void 0?zr:!0,platform:(Kr=(Jr=t.trackingOptions)===null||Jr===void 0?void 0:Jr.platform)!==null&&Kr!==void 0?Kr:!0},m=a?.pageCounter,w=a?.debugLogsEnabled,E=new Wu(e,t.appVersion,c,i,t.defaultTracking,d,t.flushIntervalMillis,t.flushMaxRetries,t.flushQueueSize,n,t.ingestionMetadata,t.instanceName,f,p,t.loggerProvider,t.logLevel,t.minIdLength,t.offline,g,t.partnerId,t.plan,t.serverUrl,t.serverZone,h,t.sessionTimeout,t.storageProvider,v,t.transport,t.useBatch,y,m,w),[4,E.storageProvider.isEnabled()];case 8:return rt.sent()||(E.loggerProvider.warn("Storage provider ".concat(E.storageProvider.constructor.name," is not enabled. Falling back to MemoryStorage.")),E.storageProvider=new ei),[2,E]}})})},Zu=function(e,t){switch(e===void 0&&(e=Gr),t===void 0&&(t={}),e){case"localStorage":return new Jo;case"sessionStorage":return new Fu;case"none":return new ei;case"cookie":default:return new Kn(T(T({},t),{expirationDays:t.expiration}))}},Ko=function(e){return e==="xhr"?new $u:e==="beacon"?new Du:new fu},qu=function(e){return b(void 0,void 0,void 0,function(){var t,r,n,i,o,o,s,c,u,a;return x(this,function(l){switch(l.label){case 0:return[4,new Kn().isEnabled()];case 1:if(!l.sent()||!e&&(typeof location>"u"||!location.hostname))return[2,""];for(t=e??location.hostname,r=t.split("."),n=[],i="AMP_TLDTEST",o=r.length-2;o>=0;--o)n.push(r.slice(o).join("."));o=0,l.label=2;case 2:return o<n.length?(s=n[o],c={domain:"."+s},u=new Kn(c),[4,u.set(i,1)]):[3,7];case 3:return l.sent(),[4,u.get(i)];case 4:return a=l.sent(),a?[4,u.remove(i)]:[3,6];case 5:return l.sent(),[2,"."+s];case 6:return o++,[3,2];case 7:return[2,""]}})})},Yu=function(e){var t={};for(var r in e){var n=e[r];n&&(t[r]=n)}return t},ju="[Amplitude] Page Viewed",zu=function(e){e===void 0&&(e={});var t,r=Ce(),n=void 0,i,o,s=e.trackOn,c=e.trackHistoryChanges,u=e.eventType,a=u===void 0?ju:u,l=function(v){var m=v;try{m=decodeURI(v)}catch(w){n?.error("Malformed URI sequence: ",w)}return m},d=function(){return b(void 0,void 0,void 0,function(){var v,m,w;return x(this,function(E){switch(E.label){case 0:return v=l(typeof location<"u"&&location.href||""),w={event_type:a},m=[{}],[4,Ju()];case 1:return[2,(w.event_properties=T.apply(void 0,[T.apply(void 0,m.concat([E.sent()])),{"[Amplitude] Page Domain":typeof location<"u"&&location.hostname||"","[Amplitude] Page Location":v,"[Amplitude] Page Path":typeof location<"u"&&l(location.pathname)||"","[Amplitude] Page Title":typeof document<"u"&&document.title||"","[Amplitude] Page URL":v.split("?")[0]}]),w)]}})})},f=function(){return typeof s>"u"||typeof s=="function"&&s()},p=typeof location<"u"?location.href:null,g=function(){return b(void 0,void 0,void 0,function(){var v,m,w,E,D;return x(this,function(S){switch(S.label){case 0:return v=location.href,m=el(c,v,p||"")&&f(),p=v,m?(n?.log("Tracking page view event"),t!=null?[3,1]:(w=void 0,[3,3])):[3,4];case 1:return D=(E=t).track,[4,d()];case 2:w=D.apply(E,[S.sent()]),S.label=3;case 3:S.label=4;case 4:return[2]}})})},h=function(){g()},y={name:"@amplitude/plugin-page-view-tracking-browser",type:"enrichment",setup:function(v,m){return b(void 0,void 0,void 0,function(){var w,E;return x(this,function(D){switch(D.label){case 0:return t=m,o=v,n=v.loggerProvider,n.log("Installing @amplitude/plugin-page-view-tracking-browser"),r&&(r.addEventListener("popstate",h),i=r.history.pushState,r.history.pushState=new Proxy(r.history.pushState,{apply:function(S,I,R){var L=_e(R,3),Ie=L[0],ke=L[1],Ge=L[2];S.apply(I,[Ie,ke,Ge]),g()}})),f()?(n.log("Tracking page view event"),E=(w=t).track,[4,d()]):[3,2];case 1:E.apply(w,[D.sent()]),D.label=2;case 2:return[2]}})})},execute:function(v){return b(void 0,void 0,void 0,function(){var m;return x(this,function(w){switch(w.label){case 0:return s==="attribution"&&Ku(v)?(n?.log("Enriching campaign event to page view event with campaign parameters"),[4,d()]):[3,2];case 1:m=w.sent(),v.event_type=m.event_type,v.event_properties=T(T({},v.event_properties),m.event_properties),w.label=2;case 2:return o&&v.event_type===a&&(o.pageCounter=o.pageCounter?o.pageCounter+1:1,v.event_properties=T(T({},v.event_properties),{"[Amplitude] Page Counter":o.pageCounter})),[2,v]}})})},teardown:function(){return b(void 0,void 0,void 0,function(){return x(this,function(v){return r&&(r.removeEventListener("popstate",h),i&&(r.history.pushState=i)),[2]})})}};return y},Ju=function(){return b(void 0,void 0,void 0,function(){var e;return x(this,function(t){switch(t.label){case 0:return e=Yu,[4,new Ho().parse()];case 1:return[2,e.apply(void 0,[t.sent()])]}})})},Ku=function(e){if(e.event_type==="$identify"&&e.user_properties){var t=e.user_properties,r=t[H.SET]||{},n=t[H.UNSET]||{},i=Ct(Ct([],_e(Object.keys(r)),!1),_e(Object.keys(n)),!1);return Object.keys(Mr).every(function(o){return i.includes(o)})}return!1},el=function(e,t,r){switch(e){case"pathOnly":{if(r=="")return!0;var n=new URL(t),i=new URL(r),o=n.origin+n.pathname,s=i.origin+i.pathname;return o!==s}default:return t!==r}},tl=function(){var e,t=[],r=function(a,l,d){a.addEventListener(l,d),t.push({element:a,type:l,handler:d})},n=function(){t.forEach(function(a){var l=a.element,d=a.type,f=a.handler;l?.removeEventListener(d,f)}),t=[]},i="@amplitude/plugin-form-interaction-tracking-browser",o="enrichment",s=function(a,l){return b(void 0,void 0,void 0,function(){var d;return x(this,function(f){return(d=Ce())===null||d===void 0||d.addEventListener("load",function(){if(!l){a.loggerProvider.warn("Form interaction tracking requires a later version of @amplitude/analytics-browser. Form interaction events are not tracked.");return}if(!(typeof document>"u")){var p=function(h){var y=!1;r(h,"change",function(){var v;y||l.track(Oo,(v={},v[Hn]=At(h.id),v[Zn]=At(h.name),v[qn]=h.action,v)),y=!0}),r(h,"submit",function(){var v,m;y||l.track(Oo,(v={},v[Hn]=At(h.id),v[Zn]=At(h.name),v[qn]=h.action,v)),l.track(Uu,(m={},m[Hn]=At(h.id),m[Zn]=At(h.name),m[qn]=h.action,m)),y=!1})},g=Array.from(document.getElementsByTagName("form"));g.forEach(p),typeof MutationObserver<"u"&&(e=new MutationObserver(function(h){h.forEach(function(y){y.addedNodes.forEach(function(v){v.nodeName==="FORM"&&p(v),"querySelectorAll"in v&&typeof v.querySelectorAll=="function"&&Array.from(v.querySelectorAll("form")).map(p)})})}),e.observe(document.body,{subtree:!0,childList:!0}))}}),[2]})})},c=function(a){return b(void 0,void 0,void 0,function(){return x(this,function(l){return[2,a]})})},u=function(){return b(void 0,void 0,void 0,function(){return x(this,function(a){return e?.disconnect(),n(),[2]})})};return{name:i,type:o,setup:s,execute:c,teardown:u}},At=function(e){if(typeof e=="string")return e},rl=function(){var e,t=[],r=function(a,l,d){a.addEventListener(l,d),t.push({element:a,type:l,handler:d})},n=function(){t.forEach(function(a){var l=a.element,d=a.type,f=a.handler;l?.removeEventListener(d,f)}),t=[]},i="@amplitude/plugin-file-download-tracking-browser",o="enrichment",s=function(a,l){return b(void 0,void 0,void 0,function(){var d;return x(this,function(f){return(d=Ce())===null||d===void 0||d.addEventListener("load",function(){if(!l){a.loggerProvider.warn("File download tracking requires a later version of @amplitude/analytics-browser. File download events are not tracked.");return}if(!(typeof document>"u")){var p=function(y){var v;try{v=new URL(y.href,window.location.href)}catch{return}var m=g.exec(v.href),w=m?.[1];w&&r(y,"click",function(){var E;w&&l.track(Pu,(E={},E[Bu]=w,E[Gu]=v.pathname,E[Qu]=y.id,E[Mu]=y.text,E[Vu]=y.href,E))})},g=/\.(pdf|xlsx?|docx?|txt|rtf|csv|exe|key|pp(s|t|tx)|7z|pkg|rar|gz|zip|avi|mov|mp4|mpe?g|wmv|midi?|mp3|wav|wma)$/,h=Array.from(document.getElementsByTagName("a"));h.forEach(p),typeof MutationObserver<"u"&&(e=new MutationObserver(function(y){y.forEach(function(v){v.addedNodes.forEach(function(m){m.nodeName==="A"&&p(m),"querySelectorAll"in m&&typeof m.querySelectorAll=="function"&&Array.from(m.querySelectorAll("a")).map(p)})})}),e.observe(document.body,{subtree:!0,childList:!0}))}}),[2]})})},c=function(a){return b(void 0,void 0,void 0,function(){return x(this,function(l){return[2,a]})})},u=function(){return b(void 0,void 0,void 0,function(){return x(this,function(a){return e?.disconnect(),n(),[2]})})};return{name:i,type:o,setup:s,execute:c,teardown:u}},Bo=!1,nl=function(e){if(!(Bo||e.defaultTracking!==void 0)){var t=`\`options.defaultTracking\` is set to undefined. This implicitly configures your Amplitude instance to track Page Views, Sessions, File Downloads, and Form Interactions. You can suppress this warning by explicitly setting a value to \`options.defaultTracking\`. The value must either be a boolean, to enable and disable all default events, or an object, for advanced configuration. For example:

amplitude.init(<YOUR_API_KEY>, {
  defaultTracking: true,
});

Visit https://www.docs.developers.amplitude.com/data/sdks/browser-2/#tracking-default-events for more details.`;e.loggerProvider.warn(t),Bo=!0}},il=function(){var e="@amplitude/plugin-network-checker-browser",t="before",r=Ce(),n=[],i=function(u,a){r&&(r.addEventListener(u,a),n.push({type:u,handler:a}))},o=function(){n.forEach(function(u){var a=u.type,l=u.handler;r&&r.removeEventListener(a,l)}),n=[]},s=function(u,a){return b(void 0,void 0,void 0,function(){return x(this,function(l){return u.offline=!navigator.onLine,i("online",function(){u.loggerProvider.debug("Network connectivity changed to online."),u.offline=!1,setTimeout(function(){a.flush()},u.flushIntervalMillis)}),i("offline",function(){u.loggerProvider.debug("Network connectivity changed to offline."),u.offline=!0}),[2]})})},c=function(){return b(void 0,void 0,void 0,function(){return x(this,function(u){return o(),[2]})})};return{name:e,type:t,setup:s,teardown:c}},ol=function(e){ct(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.init=function(r,n,i){r===void 0&&(r="");var o,s;return arguments.length>2?(o=n,s=i):typeof n=="string"?(o=n,s=void 0):(o=n?.userId,s=n),ae(this._init(T(T({},s),{userId:o,apiKey:r})))},t.prototype._init=function(r){var n,i,o;return b(this,void 0,void 0,function(){var s,c,u,a,l,d=this;return x(this,function(f){switch(f.label){case 0:return this.initializing?[2]:(this.initializing=!0,[4,Hu(r.apiKey,r,this)]);case 1:return s=f.sent(),[4,e.prototype._init.call(this,s)];case 2:return f.sent(),this.logBrowserOptions(r),Yo(this.config.defaultTracking)?(c=Au(this.config),this.webAttribution=new uu(c,this.config),[4,this.webAttribution.init()]):[3,4];case 3:f.sent(),f.label=4;case 4:return u=Br(),a=Number.isNaN(Number(u.ampSessionId))?void 0:Number(u.ampSessionId),this.setSessionId((o=(i=(n=r.sessionId)!==null&&n!==void 0?n:a)!==null&&i!==void 0?i:this.config.sessionId)!==null&&o!==void 0?o:Date.now()),l=tr(r.instanceName),l.identityStore.setIdentity({userId:this.config.userId,deviceId:this.config.deviceId}),this.config.offline===Go?[3,6]:[4,this.add(il()).promise];case 5:f.sent(),f.label=6;case 6:return[4,this.add(new Ha).promise];case 7:return f.sent(),[4,this.add(new Nu).promise];case 8:return f.sent(),[4,this.add(new wu).promise];case 9:return f.sent(),nl(this.config),Iu(this.config.defaultTracking)?(this.config.loggerProvider.debug("Adding file download tracking plugin"),[4,this.add(rl()).promise]):[3,11];case 10:f.sent(),f.label=11;case 11:return Tu(this.config.defaultTracking)?(this.config.loggerProvider.debug("Adding form interaction plugin"),[4,this.add(tl()).promise]):[3,13];case 12:f.sent(),f.label=13;case 13:return jo(this.config.defaultTracking)?(this.config.loggerProvider.debug("Adding page view tracking plugin"),[4,this.add(zu(Su(this.config))).promise]):[3,15];case 14:f.sent(),f.label=15;case 15:return this.initializing=!1,[4,this.runQueuedFunctions("dispatchQ")];case 16:return f.sent(),l.eventBridge.setEventReceiver(function(p){d.track(p.eventType,p.eventProperties)}),[2]}})})},t.prototype.getUserId=function(){var r;return(r=this.config)===null||r===void 0?void 0:r.userId},t.prototype.setUserId=function(r){if(!this.config){this.q.push(this.setUserId.bind(this,r));return}this.config.loggerProvider.debug("function setUserId: ",r),(r!==this.config.userId||r===void 0)&&(this.config.userId=r,bu(r,this.config.instanceName))},t.prototype.getDeviceId=function(){var r;return(r=this.config)===null||r===void 0?void 0:r.deviceId},t.prototype.setDeviceId=function(r){if(!this.config){this.q.push(this.setDeviceId.bind(this,r));return}this.config.loggerProvider.debug("function setDeviceId: ",r),this.config.deviceId=r,xu(r,this.config.instanceName)},t.prototype.reset=function(){this.setDeviceId(Ft()),this.setUserId(void 0)},t.prototype.getSessionId=function(){var r;return(r=this.config)===null||r===void 0?void 0:r.sessionId},t.prototype.setSessionId=function(r){var n,i=[];if(!this.config)return this.q.push(this.setSessionId.bind(this,r)),ae(Promise.resolve());if(r===this.config.sessionId)return ae(Promise.resolve());this.config.loggerProvider.debug("function setSessionId: ",r);var o=this.getSessionId(),s=this.config.lastEventTime,c=(n=this.config.lastEventId)!==null&&n!==void 0?n:-1;this.config.sessionId=r,this.config.lastEventTime=void 0,this.config.pageCounter=0,Lo(this.config.defaultTracking)&&(o&&s&&i.push(this.track(Po,void 0,{device_id:this.previousSessionDeviceId,event_id:++c,session_id:o,time:s+1,user_id:this.previousSessionUserId}).promise),this.config.lastEventTime=this.config.sessionId);var u=this.trackCampaignEventIfNeeded(++c,i);return Lo(this.config.defaultTracking)&&i.push(this.track(Uo,void 0,{event_id:u?++c:c,session_id:this.config.sessionId,time:this.config.lastEventTime}).promise),this.previousSessionDeviceId=this.config.deviceId,this.previousSessionUserId=this.config.userId,ae(Promise.all(i))},t.prototype.extendSession=function(){if(!this.config){this.q.push(this.extendSession.bind(this));return}this.config.lastEventTime=Date.now()},t.prototype.setTransport=function(r){if(!this.config){this.q.push(this.setTransport.bind(this,r));return}this.config.transportProvider=Ko(r)},t.prototype.identify=function(r,n){if(Xn(r)){var i=r._q;r._q=[],r=Vn(new Nt,i)}return n?.user_id&&this.setUserId(n.user_id),n?.device_id&&this.setDeviceId(n.device_id),e.prototype.identify.call(this,r,n)},t.prototype.groupIdentify=function(r,n,i,o){if(Xn(i)){var s=i._q;i._q=[],i=Vn(new Nt,s)}return e.prototype.groupIdentify.call(this,r,n,i,o)},t.prototype.revenue=function(r,n){if(Xn(r)){var i=r._q;r._q=[],r=Vn(new Ga,i)}return e.prototype.revenue.call(this,r,n)},t.prototype.trackCampaignEventIfNeeded=function(r,n){if(!this.webAttribution||!this.webAttribution.shouldTrackNewCampaign)return!1;var i=this.webAttribution.generateCampaignEvent(r);return n?n.push(this.track(i).promise):this.track(i),this.config.loggerProvider.log("Tracking attribution."),!0},t.prototype.process=function(r){return b(this,void 0,void 0,function(){var n,i,o;return x(this,function(s){return n=Date.now(),i=qo(this.config.sessionTimeout,this.config.lastEventTime),o=this.webAttribution&&this.webAttribution.shouldSetSessionIdOnNewCampaign(),r.event_type!==Uo&&r.event_type!==Po&&(!r.session_id||r.session_id===this.getSessionId())&&(i||o?(this.setSessionId(n),o&&this.config.loggerProvider.log("Created a new session for new campaign.")):i||this.trackCampaignEventIfNeeded()),[2,e.prototype.process.call(this,r)]})})},t.prototype.logBrowserOptions=function(r){try{var n=T(T({},r),{apiKey:r.apiKey.substring(0,10)+"********"});this.config.loggerProvider.debug("Initialized Amplitude with BrowserConfig:",JSON.stringify(n))}catch(i){this.config.loggerProvider.error("Error logging browser config",i)}},t}(Ba),sl=function(){var e=new ol;return{init:M(e.init.bind(e),"init",G(e),Q(e,["config"])),add:M(e.add.bind(e),"add",G(e),Q(e,["config.apiKey","timeline.plugins"])),remove:M(e.remove.bind(e),"remove",G(e),Q(e,["config.apiKey","timeline.plugins"])),track:M(e.track.bind(e),"track",G(e),Q(e,["config.apiKey","timeline.queue.length"])),logEvent:M(e.logEvent.bind(e),"logEvent",G(e),Q(e,["config.apiKey","timeline.queue.length"])),identify:M(e.identify.bind(e),"identify",G(e),Q(e,["config.apiKey","timeline.queue.length"])),groupIdentify:M(e.groupIdentify.bind(e),"groupIdentify",G(e),Q(e,["config.apiKey","timeline.queue.length"])),setGroup:M(e.setGroup.bind(e),"setGroup",G(e),Q(e,["config.apiKey","timeline.queue.length"])),revenue:M(e.revenue.bind(e),"revenue",G(e),Q(e,["config.apiKey","timeline.queue.length"])),flush:M(e.flush.bind(e),"flush",G(e),Q(e,["config.apiKey","timeline.queue.length"])),getUserId:M(e.getUserId.bind(e),"getUserId",G(e),Q(e,["config","config.userId"])),setUserId:M(e.setUserId.bind(e),"setUserId",G(e),Q(e,["config","config.userId"])),getDeviceId:M(e.getDeviceId.bind(e),"getDeviceId",G(e),Q(e,["config","config.deviceId"])),setDeviceId:M(e.setDeviceId.bind(e),"setDeviceId",G(e),Q(e,["config","config.deviceId"])),reset:M(e.reset.bind(e),"reset",G(e),Q(e,["config","config.userId","config.deviceId"])),getSessionId:M(e.getSessionId.bind(e),"getSessionId",G(e),Q(e,["config"])),setSessionId:M(e.setSessionId.bind(e),"setSessionId",G(e),Q(e,["config"])),extendSession:M(e.extendSession.bind(e),"extendSession",G(e),Q(e,["config"])),setOptOut:M(e.setOptOut.bind(e),"setOptOut",G(e),Q(e,["config"])),setTransport:M(e.setTransport.bind(e),"setTransport",G(e),Q(e,["config"]))}},V=sl(),s0=V.add,a0=V.extendSession,u0=V.flush,es=V.getDeviceId,l0=V.getSessionId,c0=V.getUserId,f0=V.groupIdentify,ts=V.identify,rs=V.init,d0=V.logEvent,p0=V.remove,v0=V.reset,_0=V.revenue,h0=V.setDeviceId,m0=V.setGroup,g0=V.setOptOut,y0=V.setSessionId,b0=V.setTransport,x0=V.setUserId,ns=V.track;window.LOG=go;window.ERROR=yo;async function ul(){rs(_o.AMPLITUDE_API_KEY,null,{defaultTracking:!0});let e=new Nt;e.setOnce("firstOnboardingPageVisit",new Date().toISOString()),e.add("onboardingPageViewCount",1),ts(e),ns("ONBOARDING_PAGE"),window.gdi=()=>es()}ul();var S0=St(Mn,{target:document.body});})();
